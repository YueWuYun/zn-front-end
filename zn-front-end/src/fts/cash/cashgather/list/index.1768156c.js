/*! @ncctag {"provider":"test","date":"2020-5-11 22:19:02"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom"),require("axios")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom","axios"],t):"object"==typeof exports?exports["fts/cash/cashgather/list/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom"),require("axios")):e["fts/cash/cashgather/list/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM,e.axios)}(window,(function(e,t,a,r){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=151)}([function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.go2CardCheck=t.tbbWarnDialog=t.showTBBMsg=t.getTBBMsg=t.saveCommit=t.frozenBtnCtrl=t.showErrBtn=t.createCardWebSocket=t.createListWebSocket=t.setRate2NewRow=t.getCacheRateValue=t.bodyRateEditOnAfterEdit=t.addDefReferFilter=t.elecSignCardPrint=t.elecSignListPrint=t.createSimpleBillData=t.buildLightBodyAfterEditData=t.loadMultiLang=t.getMultiLangRes=t.appendMultiLangRes=t.saveMultiLangRes=t.getPropCache=t.setPropCache=t.showPagination=t.setDefOrg2AdvanceSrchArea=t.setDefOrg2ListSrchArea=t.setDefOrg2Form=t.hasDefaultOrg=t.isLinkScene=void 0;var r=a(0),n=a(5);function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function r(n,o){try{var l=t[n](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(i)}("next")}))}}var l,i,c=t.isLinkScene=function(e){var t=e.getUrlParam(n.URL_PARAM.SCENE);return!(!!!e.getUrlParam(n.URL_PARAM.TBB_LINK)&&t!=n.SCENE.LINK&&t!=n.SCENE.FIP)},u=t.hasDefaultOrg=function(e){return e&&e.context&&e.context&&e.context.pk_org},s=function(e,t,a){if(!(e&&e.search&&t&&a))return!1;try{var r=e.search.getSearchValByField(t,a);return!(!r||!r.value||!r.value.firstvalue&&!r.value.secondvalue)}catch(e){return!0}},d=(t.setDefOrg2Form=function(e,t,a){if(e&&t&&u(a)){var r=a.context,n=r.pk_org,o=r.org_Name,l=r.pk_org_v,i=r.org_v_Name;e.form.setFormItemsValue(t,{pk_org:{value:n,display:o},pk_org_v:{value:l,display:i}})}},t.setDefOrg2ListSrchArea=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&t&&u(a)&&!c(e)&&!s(e,t,r)){var n=a.context,o=n.pk_org,l=n.org_Name,i={display:l,value:o};e.search.setSearchValByField(t,r,i)}},t.setDefOrg2AdvanceSrchArea=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&t&&u(a)&&a.template&&!c(e)){var n=a.template,o=a.context,l=o.pk_org,i=o.org_Name;n[t].items.map((function(e){e.attrcode==r&&(e.initialvalue={display:i,value:l})}))}},t.showPagination=function(e,t,a){e&&t&&a&&!a.template&&(a.template[t].pagination=!c(e))},function(e){return e+"_extObj"}),f=(t.setPropCache=function(e,t,a,r){if(e&&t&&a){var n=d(t),o=e.ViewModel.getData(n);o||(o={}),o[a]=r,e.ViewModel.setData(n,o)}},t.getPropCache=function(e,t,a){if(!e||!t||!a)return null;var r=d(t),n=e.ViewModel.getData(r);return n&&n.hasOwnProperty(a)?n[a]:null},t.saveMultiLangRes=function(e,t){if(e&&t){e.ViewModel.setData("multiLang",t)}}),p=(t.appendMultiLangRes=function(e,t){if(e&&t){var a=p(e);a?Object.assign(a,t):f(e,t)}},t.getMultiLangRes=function(e){if(e){return e.ViewModel.getData("multiLang")}}),v=t.loadMultiLang=function(e,t){var a=p(e);return a&&a[t]||""},m=function(e,t){var a={},r=e.form.getAllFormValue(t);return r.areacode=t,a[t]=r,a},b=function(e,t){var a={rows:e.cardTable.getChangedRows(t),areaType:"table",areacode:t},r={};return r[t]=a,r},h=function(e,t,a,r,n,o,l,i){var c={head:m(e,a),pageid:t};return i?c.body=b(e,r):c.bodys=b(e,r),{areacode:r,attrcode:n,card:c,changedrows:o,index:l}},g=(t.buildLightBodyAfterEditData=function(e,t,a,r,n,o,l){var i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];try{if(!(e&&t&&a&&r&&n&&o))throw new Error("参数缺失！");var c=h(e,t,a,r,n,o,l,i),u=c.card,s=u.body,d=u.bodys;if(i&&1==s[r].rows.length||!i&&1==d[r].rows.length)return c;var f=[],p=o[0].rowid;if(!(s=i?s[r]:d[r]))throw new Error("未获取到指定的表体["+r+"]!");var v=s,m=v.rows,b=!0,g=!1,y=void 0;try{for(var w,k=m[Symbol.iterator]();!(b=(w=k.next()).done);b=!0){var C=w.value,S=C.rowid;if(S&&S==p){f.push(C);break}}}catch(e){g=!0,y=e}finally{try{!b&&k.return&&k.return()}finally{if(g)throw y}}if(0==f.length)throw new Error("未找到修改的行!");return s.rows=f,c}catch(e){throw e}},function(e){if(!e||0==e.length)return null;var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var l=n.value;if(l&&l.values&&0!=Object.keys(l.values).length){var i=l.values,c=Object.keys(i),u=!0,s=!1,d=void 0;try{for(var f,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var v=f.value,m=i[v];m&&0!=Object.keys(m).length&&m.value||delete i[v]}}catch(e){s=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(s)throw d}}}}}catch(e){a=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw r}}}),y=function(e,t,a,r,n){var o=e.createMasterChildDataSimple(t,a,r),l=o.head,i=o.body;return n&&(g(l[a].rows),g(i[r].rows)),o},w=function(e,t,a,r,n){var o=e.createExtCardDataSimple(t,a,r),l=o.head,i=o.bodys;if(n){g(l[a].rows);var c=!0,u=!1,s=void 0;try{for(var d,f=r[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;g(i[p].rows)}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}}return o},k=t.createSimpleBillData=function(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&a&&r))return null;var o=!!Array.isArray(r)&&r.length>1,l=Array.isArray(r)?r:[r];return o?w(e,t,a,l,n):y(e,t,a,l[0],n)},C=(t.elecSignListPrint=function(e,t){var a=t.url,n=t.offical,o=void 0!==n&&n,l=t.appCode,i=t.nodeKey,c=t.tableCode,u=t.field_id,s=t.field_billno,d=void 0===s?"vbillno":s,f=t.getOrgFunc,p=t.validateFunc;if(!(a&&l&&c&&u&&d))throw new Error("参数缺失！");var m=e.table.getCheckedRows(c);if(null!=m&&0!=m.length){var b=[],h=[],g=!0,y=!1,w=void 0;try{for(var k,C=m[Symbol.iterator]();!(g=(k=C.next()).done);g=!0){var O=k.value,R=O&&O.data&&O.data.values&&O.data.values[u]&&O.data.values[u].value;if(R){var x=O&&O.data&&O.data.values&&O.data.values[d]&&O.data.values[d].value,M=O&&O.data&&O.data.values&&O.data.values.pk_org&&O.data.values.pk_org.value,P=O.index;f&&"function"==typeof f&&(M=f(O));var A=!0;if(p&&"function"==typeof p){var E=p(O);E&&(h.push(_(e,E,x,P)),A=!1)}A&&b.push({id:R,vbillno:x,pk_org:M,index:P})}}}catch(e){y=!0,w=e}finally{try{!g&&C.return&&C.return()}finally{if(y)throw w}}S(e,{url:a,offical:o,appCode:l,nodeKey:i,detail:b,errMessArr:h})}else(0,r.toast)({color:"warning",content:v(e,"3601-000010")})},t.elecSignCardPrint=function(e,t){var a=t.url,r=t.offical,n=void 0!==r&&r,o=t.appCode,l=t.nodeKey,i=t.headCode,c=t.field_id,u=t.field_billno,s=void 0===u?"vbillno":u,d=t.getOrgFunc,f=t.validateFunc;if(!(a&&o&&i&&c&&s))throw new Error("参数缺失！");var p=e.form.getFormItemsValue(i,c).value,v=e.form.getFormItemsValue(i,s).value,m=e.form.getFormItemsValue(i,"pk_org").value;d&&"function"==typeof d&&(m=d());var b=[],h=!0;if(f&&"function"==typeof f){var g=f();g&&(b.push(_(e,g,v,0)),h=!1)}S(e,{url:a,offical:n,appCode:o,nodeKey:l,detail:h?[{id:p,vbillno:v,pk_org:m}]:null,errMessArr:b})},function(e,t){t&&0!=t.length&&(1==t.length?(0,r.toast)({duration:"infinity",color:"danger",content:t[0],hasCloseBtn:!0}):(0,r.toast)({duration:"infinity",color:"danger",TextArr:[v(e,"3601-000000"),v(e,"3601-000001"),v(e,"3601-000021")],groupOperation:!0,groupOperationMsg:t}))}),S=function(e,t){var a=t.url,o=t.offical,l=t.appCode,i=t.nodeKey,c=t.detail,u=t.errMessArr,s=void 0===u?[]:u;if(!(s&&s.length>0)||c&&0!=c.length){var d={offical:o,detail:c};(0,r.ajax)({url:n.COMMON_URL.ELECSIGNPRINTCHECK,data:d,success:function(t){var n=t.data,c=n.passPKs,u=n.passInfos,d=n.unPassInfos;if(s.length>0||d&&d.length>0){var f=!0,p=!1,v=void 0;try{for(var m,b=d[Symbol.iterator]();!(f=(m=b.next()).done);f=!0){var h=m.value,g=h.vbillno,y=h.mess,w=h.index,k=_(e,y,g,w);s.push(k)}}catch(e){p=!0,v=e}finally{try{!f&&b.return&&b.return()}finally{if(p)throw v}}C(e,s)}if(c&&c.length>0&&u&&u.length>0){var S={offical:o,detail:u};(0,r.print)("pdf",a,{nodekey:i,appcode:l,oids:c,userjson:JSON.stringify(S)})}}})}else C(e,s)},_=function(e,t,a,r){return v(e,"3601-000008")+a+v(e,"3601-000009")+t||""},O=(t.addDefReferFilter=function(e,t){var a=t.headCode,r=t.areaCode,n=t.meta,o=t.orgField,l=t.getOrgFunc;if(r&&n&&(a||o||l)){var i=Array.isArray(r)?r:[r],c=!0,u=!1,s=void 0;try{for(var d,f=i[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){n[d.value].items.map((function(t){(t.attrcode.startsWith("vdef")||t.attrcode.startsWith("vuserdef"))&&(t.queryCondition=function(){return{pk_org:l&&"function"==typeof l?l():(e.form.getFormItemsValue(a,o)||{}).value}})}))}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}}},t.bodyRateEditOnAfterEdit=function(e){var t=e.props,a=e.bodyCodes,o=e.rateInfo,l=e.datasource,i=e.olcRates,c=e.glcRates,u=e.gllcRates;if(t&&o&&l&&a){!function(e){var t=e.rateInfo,a=e.datasource;if(t&&a){r.cardCache.setDefData(n.cache.rateinfo,a,t);r.cardCache.getDefData(n.cache.rateinfo,a)}}({rateInfo:o,datasource:l}),Array.isArray(a)||(a=[a]);var s=o.olcRateEditable,d=o.glcRateEditable,f=o.gllcRateEditable,p=!0,v=!1,m=void 0;try{for(var b,h=a[Symbol.iterator]();!(p=(b=h.next()).done);p=!0){var g=b.value;i&&(Array.isArray(i)||(i=[i]),t.cardTable.setColEditableByKey(g,i,!s)),c&&(Array.isArray(c)||(c=[c]),t.cardTable.setColEditableByKey(g,c,!d)),u&&(Array.isArray(u)||(u=[u]),t.cardTable.setColEditableByKey(g,u,!f))}}catch(e){v=!0,m=e}finally{try{!p&&h.return&&h.return()}finally{if(v)throw m}}}},t.getCacheRateValue=function(e){var t=e.datasource;if(t){var a=r.cardCache.getDefData(n.cache.rateinfo,t);return a?{olcRate:a.olcRate,glcRate:a.glcRate,gllcRate:a.gllcRate}:null}}),R=(t.setRate2NewRow=function(e){var t=e.olcRates,a=e.glcRates,r=e.gllcRates,n=e.datasource,o=e.row;if(n){var l=O({datasource:n});if(l){var i=l.olcRate,c=l.glcRate,u=l.gllcRate;if(t){Array.isArray(t)||(t=[t]);var s=!0,d=!1,f=void 0;try{for(var p,v=t[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){o[p.value]={value:i}}}catch(e){d=!0,f=e}finally{try{!s&&v.return&&v.return()}finally{if(d)throw f}}}if(a){Array.isArray(a)||(a=[a]);var m=!0,b=!1,h=void 0;try{for(var g,y=a[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){o[g.value]={value:c}}}catch(e){b=!0,h=e}finally{try{!m&&y.return&&y.return()}finally{if(b)throw h}}}if(r){Array.isArray(r)||(r=[r]);var w=!0,k=!1,C=void 0;try{for(var S,_=r[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){o[S.value]={value:u}}}catch(e){k=!0,C=e}finally{try{!w&&_.return&&_.return()}finally{if(k)throw C}}}}}},t.createListWebSocket=function(e,t){var a=t.tableAreaCode,r=t.tablePkName,n=t.billtype,o=t.dataSource,l=t.serverLocation;if(e&&a&&r&&n){var i=e.socket,c={tableAreaCode:a,billpkname:r,billtype:n,dataSource:o};return l&&(c.serverLocation=l),React.createElement("div",null,i.connectMesg(c))}},t.createCardWebSocket=function(e,t){var a=t.headBtnAreaCode,r=t.formAreaCode,n=t.billpkname,o=t.billtype,l=t.dataSource,i=t.serverLocation;if(e&&a&&r&&n&&o){var c=e.socket,u={headBtnAreaCode:a,formAreaCode:r,billtype:o,billpkname:n,dataSource:l};return i&&(u.serverLocation=i),React.createElement("div",null,c.connectMesg(u))}},t.showErrBtn=function(e,t){var a=t.headBtnCode,r=t.headAreaCode,o=t.fieldPK;t.datasource;if(e&&a&&r){var l=e.getUrlParam(n.URL_PARAM.STATE),i="0";try{i=e.form.getFormItemsValue(r,n.sagaField.status).value}catch(e){i="0"}var c="1"===i&&"browse"==l;e.button.toggleErrorStatus(a,{isError:c}),c&&R(e,{headAreaCode:r,fieldPK:o})}},function(e,t){var a=t.headAreaCode,r=t.fieldPK;if(a&&r){var o=e.getUrlParam("status"),l=e.form.getFormItemsValue(a,n.sagaField.gtxid),i=e.form.getFormItemsValue(a,r);"browse"==o&&l&&l.value&&i&&i.value&&e.socket.showToast({gtxid:l.value,billpk:i.value})}}),x=(t.frozenBtnCtrl=function(e,t){var a=t.btnCodes;if(e&&a){var r=Array.isArray(a)?a:[a];if("browse"==e.getUrlParam(n.URL_PARAM.STATE)){var o="1";try{o=e.form.getFormItemsValue(headAreaCode,n.sagaField.frozen).value}catch(e){o="1"}e.button.setButtonDisabled(r,"1"==o)}}},function(e,t){var a=t.pageCode,r=t.headCode,n=t.bodyCodeArr,o=t.saveFunc,l={},i={};if(0==n.length)l={pageid:a,model:{areacode:r,rows:e.form.getAllFormValue(r).rows,areaType:"form"}},i[r]="form";else{l=n.length>1?e.createExtCardData(a,r,n):e.createMasterChildData(a,r,n[0]);var c=!0,u=!1,s=void 0;try{for(var d,f=n[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){i[d.value]="cardTable"}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}}e.validateToSave(l,o,i,"")}),M=(l=o(regeneratorRuntime.mark((function e(t,a){var r,n=a.pageCode,o=a.headCode,l=a.bodyCodeArr,i=a.saveValidate,c=a.processSaveData;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.isCheckNow(o)){e.next=2;break}return e.abrupt("return",null);case 2:if(!(l&&l.length>0)||t.cardTable.checkTableRequired()){e.next=4;break}return e.abrupt("return",null);case 4:if(!i||"function"!=typeof i){e.next=7;break}if(i()){e.next=7;break}return e.abrupt("return",null);case 7:if(r=k(t,n,o,l),!c||"function"!=typeof c){e.next=12;break}return e.next=11,c(r);case 11:r=e.sent;case 12:return e.abrupt("return",{data:JSON.stringify(r),pageCode:n});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)}),P=(t.saveCommit=(i=o(regeneratorRuntime.mark((function e(t,a){var n,o,l=a.pageCode,i=a.headCode,c=a.bodyCode,u=a.url,s=a.assign,d=a.showAssignFunc,f=a.updateViewFunc,p=a.saveValidate,v=a.processSaveData,m=a.extParam;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&i&&u&&d&&f){e.next=2;break}return e.abrupt("return");case 2:return m||(m={}),n=(a=c)?Array.isArray(a)?a:[a]:[],e.next=6,M(t,{pageCode:l,headCode:i,bodyCodeArr:n,saveValidate:p,processSaveData:v});case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return");case 9:s&&(m.content=JSON.stringify(s)),o.extParam=m,x(t,{pageCode:l,headCode:i,bodyCodeArr:n,saveFunc:function(){(0,r.ajax)({url:u,data:o,success:function(e){var t=e.data.workflow;t&&"approveflow"==t||"workflow"==t?d(e):f(e)}})}});case 12:case"end":return e.stop()}var a}),e,this)}))),function(e,t){return i.apply(this,arguments)}),t.getTBBMsg=function(e){var t=e.row,a=e.msgfield;a||(a="ntbinfo");var r=(t&&t.values&&t.values[a]||{}).value;return r&&(t.values[a]={value:null,display:null}),r});t.showTBBMsg=function(e){var t=e.head,a=e.headCode,n=e.msgfield;if(!(t&&a&&t[a]&&t[a].rows&&0!=t[a].rows.length))return!1;var o=!1,l=t[a].rows[0],i=P({row:l,msgfield:n});return i&&((0,r.toast)({color:"warning",content:i}),o=!0),o},t.tbbWarnDialog=function(e,t){var a=t.ntbinfos,n=t.onConfirm;if(a&&0!=a.length){var o=[],l=a.length>1,i=1,c=l?[v(e,"3601-000019")+"["+a.length+"]"+v(e,"3601-000020")]:[],u=!0,s=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;if(null!=m){var b=m.pk,h=m.msg,g=m.vbillno;if(b&&g){o.push(b);var y="";l&&(y=i+". "+v(e,"3601-000018")+"["+g+"] "),c.push(React.createElement("li",null,y+h)),i++}}}}catch(e){s=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(s)throw d}}0!=c.length&&(0,r.promptBox)({color:"warning",title:v(e,"3601-000017"),content:React.createElement("ul",null,c),beSureBtnClick:function(){n(o)}})}},t.go2CardCheck=function(e){var t=e.props,a=e.url,n=e.pk,o=e.ts,l=e.fieldPK,i=e.actionCode,c=e.permissionCode,u=e.checkSaga,s=void 0===u||u,d=e.checkTS,f=void 0===d||d,p=e.go2CardFunc;p&&"function"==typeof p&&(t&&a&&n&&o&&l||p(),(0,r.ajax)({url:a,data:{pk:n,ts:o,actionCode:i,permissionCode:c,fieldPK:l,checkSaga:s,checkTS:f},success:function(e){p()}}))}},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,a){e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.URL_PARAM={ID:"id",STATE:"status",SCENE:"scene",TBB_LINK:"pk_ntbparadimvo",LINK_ID:"linkId",PK_SRC:"pk_src"},t.sagaField={frozen:"saga_frozen",gtxid:"saga_gtxid",btxid:"saga_btxid",status:"saga_status"},t.sagaFrozenEnum={frozen:1,unfrozen:0},t.sagaStateEnum={success:0,fail:1},t.SCENE={DEFAULT:"defaultsce",APPROVE:"approvesce",LINK:"linksce",FIP:"fip",OTHER:"othersce"},t.LINKTYPE={NORMAL:"NORMAL",BILL_REVIEW:"BILL_REVIEW"},t.LINK_PARAM={ARAP:{FLAG:"flag",FLAG_VALUE:"ftsLinkArap"}},t.MODULE_INFO={TMPUB:"tmpub",TMPUB_NUM:"3601"},t.COMMON_URL={ELECSIGNPRINTCHECK:"/nccloud/tmpub/pub/elecsignprintcheck.do"},t.cache={rateinfo:"rateinfo",iserrtoast:"iserrtoast"},t.SPLIT_TBBCTRLTYPE="_ctrltype_",t.tbbwarntype={flexibility:"0",inflexibility:"1",warning:"2"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkSucessPro=t.cardOperator=t.cardOperatorForCash=t.showTBBMsg=t.listSingleOperator=t.listSingleOperatorNoRecord=t.listMultiOperator=t.CopyLine=t.BatchCopy=t.Open=t.DelLine=t.BatchDelLine=t.InsertLine=t.AddLine=void 0,t.BatchCopyForCash=function(e,t,a,n){var l=e.cardTable.getCheckedRows(t);if(null==l||0==l.length)return(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300-000002")}),!1;var i=[],c=JSON.parse(JSON.stringify(l)),u=!0,s=!1,d=void 0;try{for(var f,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var v=f.value;v.data.selected=!1,v.data.values[n]&&v.data.values[n].value&&(v.data.values[n].value=null),v.data.values.rowno&&v.data.values.rowno.value&&(v.data.values.rowno.value=null),i.push(v.data)}}catch(e){s=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(s)throw d}}null!=a&&null!=a||(a=e.cardTable.getNumberOfRows(t,!1));return e.cardTable.insertRowsAfterIndex(t,i,a),!0};var r=a(0),n=a(5),o=a(1);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r.cardCache.getNextId,r.cardCache.deleteCacheById,t.AddLine=function(e,t,a,r){if(a){var n=e.cardTable.getNumberOfRows(t);e.cardTable.addRow(t,n,a)}else e.cardTable.addRow(t);r&&"function"==typeof r&&afterFunc(e,t)},t.InsertLine=function(e,t,a,r){e.cardTable.addRow(t,a+1,r)},t.BatchDelLine=function(e,t,a){var n=e.cardTable.getCheckedRows(t);if(null==n||0==n.length)return(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300-000001")}),!1;var l=[],i=!0,c=!1,u=void 0;try{for(var s,d=n[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value;l.push(f.index)}}catch(e){c=!0,u=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw u}}return a&&"function"==typeof a?e.cardTable.delRowsByIndex(t,l,a):e.cardTable.delRowsByIndex(t,l),!0},t.DelLine=function(e,t,a,r){r&&"function"==typeof r?e.cardTable.delRowsByIndex(t,a,r):e.cardTable.delRowsByIndex(t,a)},t.Open=function(e,t,a,r,n){e.cardTable.openModel(t,n,r,a)};t.BatchCopy=function(e,t,a){var n=e.cardTable.getCheckedRows(t);if(null==n||0==n.length)return(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300-000002")}),!1;var l=[],i=JSON.parse(JSON.stringify(n)),c=!0,u=!1,s=void 0;try{for(var d,f=i[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;p.data.selected=!1,l.push(p.data)}}catch(e){u=!0,s=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw s}}return null==a&&(a=e.cardTable.getNumberOfRows(t,!1)),e.cardTable.insertRowsAfterIndex(t,l,a),!0},t.CopyLine=function(e,t,a){e.cardTable.pasteRow(t,a)};var i=function(e,t,a){e.errContent=e.errContent+t,e.failCount=Number(e.failCount)+1,e.errMsgArr.push(a||"")},c=function(e,t){e.succContent=e.succContent+t,e.succCount=Number(e.succCount)+1},u=(t.listMultiOperator=function(e,t,a,n,l,u,f,p,v,m){var b=e.table.getCheckedRows(a);if(null!=b&&0!=b.length){if(1==b.length){var h={};return h[n]=b[0]&&b[0].data&&b[0].data.values&&b[0].data.values[n],h.ts=b[0]&&b[0].data&&b[0].data.values&&b[0].data.values.ts,void s(e,t,a,l,h,n,b[0].index,u,f,p,v,m)}var g={},y={},w={},k=0,C=void 0,S=void 0,_=void 0;v||(v={});for(;k<b.length;)C=b[k]&&b[k].data&&b[k].data.values&&b[k].data.values[n]&&b[k].data.values[n].value,S=b[k]&&b[k].data&&b[k].data.values&&b[k].data.values.ts&&b[k].data.values.ts.value,_=b[k]&&b[k].data&&b[k].data.values&&b[k].data.values.vbillno&&b[k].data.values.vbillno.value,w[C]=b[k].index,C&&S&&(g[C]=S),C&&_&&(y[C]=_),k++;Object.keys(g).length>0&&(0,r.ajax)({url:l,data:{pkMapRowIndex:w,pkMapTs:g,pkMapVbillno:y,pageCode:t,extParam:v},success:function(t){var n=t.data.data,l=[],s=[],f={errMsgArr:[],succContent:"",errContent:"",succCount:0,failCount:0};if(n&&n.length>0){var v=!0,b=!1,h=void 0;try{for(var g,y=n[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var w=g.value,k=w.state,C=w.msg,S=w.result,_=w.pk,O=(w.vbillno,w.rowIndex),R=Number(O)+1;if(0==k)if(S){if(S&&S.head&&S.head[a]&&S.head[a].rows&&S.head[a].rows.length>0){var x=S.head[a].rows[0];if(p){var M=d(x);M?i(f,R,M=R+"."+M):c(f,R)}else c(f,R);var P={index:O,data:{values:x.values}};l.push(P)}}else c(f,R),e.table.deleteCacheId(a,_),s.push(O);else 1==k&&i(f,R,C)}}catch(e){b=!0,h=e}finally{try{!v&&y.return&&y.return()}finally{if(b)throw h}}l.length>0&&e.table.updateDataByIndexs(a,l),s.length>0&&e.table.deleteTableRowsByIndex(a,s)}var A=t.data,E=A.status,T=(A.msg,f.succContent),L=f.errContent,D=f.succCount,j=f.failCount,B=f.errMsgArr,N=(""==(T=D>0?T+(0,o.loadMultiLang)(e,"36300-000004")+u+(0,o.loadMultiLang)(e,"36300-000005"):"")?"":T+"，")+(j>0?L+(0,o.loadMultiLang)(e,"36300-000004")+u+(0,o.loadMultiLang)(e,"36300-000006"):"");if(0==E&&0==B.length){(0,o.loadMultiLang)(e,"36300-000007"),(0,o.loadMultiLang)(e,"36300-000008");(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000007")+D+(0,o.loadMultiLang)(e,"36300-000008")})}else(1==E||2==E||B.length>0)&&(0,r.toast)({duration:"infinity",color:"danger",content:N,TextArr:[(0,o.loadMultiLang)(e,"36300-000009"),(0,o.loadMultiLang)(e,"36300-000010"),(0,o.loadMultiLang)(e,"36300-000011")],groupOperation:!0,groupOperationMsg:B});m&&"function"==typeof m&&m(e,n)}})}else(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300-000003")})},t.listSingleOperatorNoRecord=function(e,t,a,n,l,i,c,u,s,d,p,v){var m={};m[l]=i,p||(p={}),(0,r.ajax)({url:n,data:{pkMapTs:m,pageCode:t,extParam:p},success:function(t){var n=t.data,i=!1;if(n){if(n&&n.head&&n.head[a]&&n.head[a].rows&&1==n.head[a].rows.length){d&&(i=f(n.head,a));var s=n.head[a].rows[0],p=[{index:c,data:{values:s.values}}];e.table.updateDataByIndexs(a,p),i||(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")})}}else e.table.deleteCacheId(a,l),e.table.deleteTableRowsByIndex(a,c),(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")});v&&"function"==typeof v&&v(e,n)}})}),s=t.listSingleOperator=function(e,t,a,r,n,o,l,i,c,s,d,f){var p=n[o].value,v=n.ts.value;u(e,t,a,r,p,v,l,i,c,s,d,f)},d=function(e){var t=(e&&e.values&&e.values.ntbinfo||{}).value;return t&&(e.values.ntbinfo={value:null,display:null}),t},f=t.showTBBMsg=function(e,t){if(!(e&&t&&e[t]&&e[t].rows&&0!=e[t].rows.length))return!1;var a=!1,n=e[t].rows[0],o=d(n);return o&&((0,r.toast)({color:"warning",content:o}),a=!0),a},p=function(e,t,a){var r={},n="array"==typeof a?a:Object.keys(a);if(!n||0==n.length)return null;var o={},l=!0,i=!1,c=void 0;try{for(var u,s=n[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){var d=u.value,f="array"==typeof a?null:a[d];if(f){var p=e.cardTable.getAllRows(d);if(p&&0!=p.length){var v=!0,m=!1,b=void 0;try{for(var h,g=p[Symbol.iterator]();!(v=(h=g.next()).done);v=!0){var y=h.value;if(y&&y.values&&0!=y.values.length){var w=y.rowid;o[y.values[f].value]=w}}}catch(e){m=!0,b=e}finally{try{!v&&g.return&&g.return()}finally{if(m)throw b}}}}}}catch(e){i=!0,c=e}finally{try{!l&&s.return&&s.return()}finally{if(i)throw c}}return r[t]=o,r},v=function(e,t,a){return a.rows&&a.rows[0]&&a.rows[0].rowid?a=e.cardTable.updateDataByRowId(t,a):e.cardTable.setTableData(t,a),a};t.cardOperatorForCash=function(e,t,a,n,i,c,u,s,d,m,b){var h="array"==typeof n?n:Object.keys(n),g={},y=e.form.getFormItemsValue(a,i).value,w=e.form.getFormItemsValue(a,"ts").value;g[y]=w;var k=p(e,y,n);b||(b={}),(0,r.ajax)({url:c,data:{pkMapTs:g,pageCode:t,isRet:!0,extParam:b,pkMapbodyPKMaprowID:k},success:function(t){var n=t.data,c=!1;if(n){var p=n.head,b=n.body,g=n.bodys;if(p||b||g){if(m&&(c=f(p,a)),p&&e.form.setAllFormValue(l({},a,p[a])),b&&h&&h.length>0){var w=!0,k=!1,C=void 0;try{for(var S,_=h[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var O=S.value,R=b[O];R&&((R=v(e,O,R))&&(n.body[O]=R))}}catch(e){k=!0,C=e}finally{try{!w&&_.return&&_.return()}finally{if(k)throw C}}}if(g&&h&&h.length>0){var x=!0,M=!1,P=void 0;try{for(var A,E=h[Symbol.iterator]();!(x=(A=E.next()).done);x=!0){var T=A.value,L=g[T];L&&((L=v(e,T,L))&&(n.bodys[T]=L))}}catch(e){M=!0,P=e}finally{try{!x&&E.return&&E.return()}finally{if(M)throw P}}}if(p&&p[a]&&p[a].rows&&p[a].rows[0]){var D=p[a].rows[0],j=D&&D.values&&D.values[i]&&D.values[i].value;r.cardCache.updateCache(i,j,n,a,s)}c||(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")})}}else r.cardCache.deleteCacheById(i,y,s),(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")});d&&"function"==typeof d&&d(e,n)}})},t.cardOperator=function(e,t,a,n,i,c,u,s,d,m,b){var h="array"==typeof n?n:Object.keys(n),g={},y=e.form.getFormItemsValue(a,i).value,w=e.form.getFormItemsValue(a,"ts").value;g[y]=w;var k=p(e,y,n);b||(b={}),(0,r.ajax)({url:c,data:{pkMapTs:g,pageCode:t,isRet:!0,extParam:b,pkMapbodyPKMaprowID:k},success:function(t){var n=t.data,c=!1;if(n){e.getUrlParam("status");var p=n.head,b=n.body,g=n.bodys;if(p||b||g){if(m&&(c=f(p,a)),p&&e.form.setAllFormValue(l({},a,p[a])),b&&h&&h.length>0){var w=!0,k=!1,C=void 0;try{for(var S,_=h[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var O=S.value,R=b[O];R&&((R=v(e,O,R))&&(n.body[O]=R))}}catch(e){k=!0,C=e}finally{try{!w&&_.return&&_.return()}finally{if(k)throw C}}}if(g&&h&&h.length>0){var x=!0,M=!1,P=void 0;try{for(var A,E=h[Symbol.iterator]();!(x=(A=E.next()).done);x=!0){var T=A.value,L=g[T];L&&((L=v(e,T,L))&&(n.bodys[T]=L))}}catch(e){M=!0,P=e}finally{try{!x&&E.return&&E.return()}finally{if(M)throw P}}}if(p&&p[a]&&p[a].rows&&p[a].rows[0]){var D=p[a].rows[0],j=D&&D.values&&D.values[i]&&D.values[i].value;r.cardCache.updateCache(i,j,n,a,s)}c||(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")})}}else r.cardCache.deleteCacheById(i,y,s),(0,r.toast)({color:"success",content:u+(0,o.loadMultiLang)(e,"36300-000005")});d&&"function"==typeof d&&d(e,n)}})},t.linkSucessPro=function(e,t,a){var r=t.data;if(r&&r.length>0)for(var o=0;o<r.length;o++){var l=r[o],i=(l.url,l.pks),c=l.appCode,u=l.linkPageCode;a&&0!=Object.keys(a).length||(a={status:"browse"}),a.scene||(a.scene=n.SCENE.LINK),a.srcbillid||(a.srcbillid=i),a.appcode=c,a.pagecode=u,a.pks=i,a.id=i,e.openTo(null,a)}}},function(e,t){e.exports=a},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var n=(l=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[a].concat(o).concat([n]).join("\n")}var l;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<e.length;n++){var l=e[n];"number"==typeof l[0]&&r[l[0]]||(a&&!l[2]?l[2]=a:a&&(l[2]="("+l[2]+") and ("+a+")"),t.push(l))}},t}},function(e,t,a){var r,n,o={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=r.apply(this,arguments)),n}),i=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),c=null,u=0,s=[],d=a(18);function f(e,t){for(var a=0;a<e.length;a++){var r=e[a],n=o[r.id];if(n){n.refs++;for(var l=0;l<n.parts.length;l++)n.parts[l](r.parts[l]);for(;l<r.parts.length;l++)n.parts.push(g(r.parts[l],t))}else{var i=[];for(l=0;l<r.parts.length;l++)i.push(g(r.parts[l],t));o[r.id]={id:r.id,refs:1,parts:i}}}}function p(e,t){for(var a=[],r={},n=0;n<e.length;n++){var o=e[n],l=t.base?o[0]+t.base:o[0],i={css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(i):a.push(r[l]={id:l,parts:[i]})}return a}function v(e,t){var a=i(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===e.insertAt)r?r.nextSibling?a.insertBefore(t,r.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),s.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);t>=0&&s.splice(t,1)}function b(e){var t=document.createElement("style");return e.attrs.type="text/css",h(t,e.attrs),v(e,t),t}function h(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function g(e,t){var a,r,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=u++;a=c||(c=b(t)),r=k.bind(null,a,l,!1),n=k.bind(null,a,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",h(t,e.attrs),v(e,t),t}(t),r=S.bind(null,a,t),n=function(){m(a),a.href&&URL.revokeObjectURL(a.href)}):(a=b(t),r=C.bind(null,a),n=function(){m(a)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=p(e,t);return f(a,t),function(e){for(var r=[],n=0;n<a.length;n++){var l=a[n];(i=o[l.id]).refs--,r.push(i)}e&&f(p(e,t),t);for(n=0;n<r.length;n++){var i;if(0===(i=r[n]).refs){for(var c=0;c<i.parts.length;c++)i.parts[c]();delete o[i.id]}}}};var y,w=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,a,r){var n=a?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,n);else{var o=document.createTextNode(n),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function C(e,t){var a=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function S(e,t,a){var r=a.css,n=a.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(r=d(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var l=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(l),i&&URL.revokeObjectURL(i)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkVoucherApp=t.linkApp=void 0;var r=a(0),n=(a(14),a(5)),o=a(1),l=(t.linkApp=function(e,t,a){(0,r.ajax)({url:"/nccloud/tmpub/pub/qrylinkinfo.do",data:{billTypeOrTransType:t},success:function(t){var r=t.data;if(r){r.url;var o=r.appCode,l=r.linkPageCode;a&&0!=Object.keys(a).length||(a={}),a.scene||(a.scene=n.SCENE.LINK),a.status||(a.status="browse"),a.appcode=o,a.pagecode=l,e.openTo(null,a)}}})},"_LinkVouchar2019");t.linkVoucherApp=function(e,t,a,n,i,c,u){var s={pk_group:a,pk_org:n,relationID:t,pk_billtype:i};u&&u.freedef4&&(s={pk_group:a,pk_org:n,relationID:t,pk_billtype:i,freedef4:u.freedef4}),(0,r.ajax)({url:"/nccloud/tmpub/pub/qrylinkvoucherinfo.do",data:s,success:function(t){var a=t.success,n=t.data;if(a&&n&&n.src&&l==n.src&&n.pklist&&0!=n.pklist.length){var i=n.src,u=n.url,s=n.pklist,d=n.appcode,f=n.pagecode,p=n.srcAppCode,v=n.cachekey;n.des?1==s.length?e.openTo(u,{status:"browse",appcode:d,pagecode:f,id:s[0],n:(0,o.loadMultiLang)(e,"3601-000004"),pagekey:"link",backflag:"noback"}):(r.cacheTools.set(v,s),e.openTo(t.data.url,{status:"browse",appcode:d,pagecode:f,n:(0,o.loadMultiLang)(e,"3601-000004"),scene:d+i})):(r.cacheTools.set(p+i,s),e.openTo(t.data.url,{status:"browse",appcode:d,pagecode:f,scene:p+i}))}else(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"3601-000002")+c+(0,o.loadMultiLang)(e,"3601-000003")})}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryRelationRowsByRowno=t.buildLightBodyAfterEditData=t.validateWriteOffMny=t.setBodyItemProp=t.setHeadItemProp=void 0;var r=a(1),n=(t.setHeadItemProp=function(e,t,a){var r=e.form,n={},o={},l={};if(a&&0!=a.length){var i=!0,c=!1,u=void 0;try{for(var s,d=a[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value;if(f.hasOwnProperty("itemName")){var p=f.itemName;if(p){if(f.hasOwnProperty("editable")){var v=f.editable;null!=v&&(n[p]=!("true"==v))}if(f.hasOwnProperty("require")){var m=f.require;null!=m&&(o[p]="true"==m)}if(f.hasOwnProperty("visible")){var b=f.visible;null!=b&&(l[p]="true"==b)}}}}}catch(e){c=!0,u=e}finally{try{!i&&d.return&&d.return()}finally{if(c)throw u}}Object.keys(o).length>0&&r.setFormItemsRequired(t,o),Object.keys(n).length>0&&r.setFormItemsDisabled(t,n),Object.keys(l).length>0&&r.setFormItemsVisible(t,l)}},function(e,t,a,r,n){if(a.hasOwnProperty("editable")&&null!=a.editable){var o=a.rowID,l=a.rowIndex,i=a.itemName,c=a.editable;c="true"===a.editable,o||l?o?e.cardTable.setEditableByRowId(t,o,i,c):l&&e.cardTable.setEditableByIndex(t,l,i,c):c?r.push(i):n.push(i)}}),o=function(e,t,a,r,n){if(a.hasOwnProperty("visible")&&null!=a.visible){a.rowID,a.rowIndex;var o=a.itemName;a.visible?r.push(o):n.push(o)}},l=(t.setBodyItemProp=function(e,t){if(e&&0!=Object.keys(t).length){var a=!0,r=!1,l=void 0;try{for(var i,c=Object.keys(t)[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var u=i.value,s=t[u];if(0!=s.length){var d=[],f=[],p=[],v=[],m=!0,b=!1,h=void 0;try{for(var g,y=s[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var w=g.value;w.itemName&&(n(e,u,w,d,f),o(0,0,w,p,v))}}catch(e){b=!0,h=e}finally{try{!m&&y.return&&y.return()}finally{if(b)throw h}}d.length>0&&e.cardTable.setColEditableByKey(u,d,!0),f.length>0&&e.cardTable.setColEditableByKey(u,f,!1),p.length>0&&e.cardTable.showColByKey(u,p),v.length>0&&e.cardTable.hideColByKey(u,v)}}}catch(e){r=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}}},t.validateWriteOffMny=function(e,t,a,n){if(!(Math.sign(a)>=0)&&!(e.form.getFormItemsValue(t,n)&&e.form.getFormItemsValue(t,n).value))throw new Error((0,r.loadMultiLang)(e,"36300-000000"))},t.buildLightBodyAfterEditData=function(e,t,a,r,n,o,l,i){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];try{if(!(e&&t&&a&&r&&o&&l))throw new Error("参数缺失！");var s=c(e,t,a,r,n,o,l,i,u),d=s.card,f=d.body,p=d.bodys;return u&&1==f[r].rows.length||!u&&p[r].rows.length,s}catch(e){throw e}},function(e,t){var a={},r=e.form.getAllFormValue(t);return r.areacode=t,a[t]=r,a}),i=function(e,t,a,r){var n=e.cardTable.getChangedRows(t),o=r[0].rowid,l=[];if(n&&n.length>1){var i=!0,c=!1,s=void 0;try{for(var d,f=n[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var p=d.value,v=p.rowid;if(v&&v==o){l.push(p);break}}}catch(e){c=!0,s=e}finally{try{!i&&f.return&&f.return()}finally{if(c)throw s}}}else n&&1==n.length&&l.push(n[0]);var m={rows:l,areaType:"table",areacode:t},b={};b[t]=m;var h=l&&l[0].values.relationindex.value;if(h){var g=u(e,a,h);if(g&&g.length>0){var y={rows:g,areaType:"table",areacode:a};b[a]=y}}return b},c=function(e,t,a,r,n,o,c,u,s){var d={head:l(e,a),pageid:t};return s?d.body=i(e,r):d.bodys=i(e,r,n,c),{areacode:r,attrcode:o,card:d,changedrows:c,index:u}},u=t.queryRelationRowsByRowno=function(e,t,a){for(var r=[],n=e.cardTable.getAllRows(t,!1),o=0;o<n.length;o++){a==n[o].values.relationindex.value&&r.push(n[o])}return r}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.orgVersionView=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk_org",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org_v";if(e&&t){var n=e.getUrlParam("status"),o="browse"==n,l={};l[a]=!o,l[r]=o,e.form.setFormItemsVisible(t,l)}},t.orgVersionViewNew=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk_org",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org_v";if(e&&t){var n=e.getUrlParam("status"),o="browse"==n,l={};l[a]=!o,l[r]=o,e.form.setItemsVisible(t,l)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODULE_H_FTS="FTS",t.MODULE_L_FTS="fts",t.VoucherDataConst={pagecode:"10170410_1017041001",appcode:"10170410",linkIdentification:"36300TP_LinkVouchar"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=v(a(17)),o=v(a(20)),l=v(a(21)),i=v(a(22)),c=v(a(19)),u=v(a(23)),s=a(34),d=v(a(24)),f=v(a(55)),p=v(a(43));function v(e){return e&&e.__esModule?e:{default:e}}var m=d.default.NCTabPane,b={Component:r.Component,FinanceOrgTreeRef:n.default,BankaccSubUseTreeGridRef:o.default,CashAccountGridRef:l.default,AccidGridRef:i.default,ReBackModal:c.default,NCCOriginalBalance:u.default,InnerAccoutDialog:s.InnerAccoutDialog,NCTabs:d.default,NCTabPane:m};t.default={comp:b,api:f.default,cons:p.default}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{restmoney:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"restmoney",tabRelation:["restmoney"]}},restmoney:{clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",code:"restmoney",items:[{itemtype:"input",visible:!0,label:this.state.json["360701OB-000041"],attrcode:"accountcode",maxlength:"20",metapath:"accountcode"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000042"],attrcode:"accountname",maxlength:"20",metapath:"accountname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000058"],attrcode:"currencyname",maxlength:"20",metapath:"currencyname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000043"],attrcode:"accounttype",disabled:!0,metapath:"accounttype"},{itemtype:"input",visible:!1,label:this.state.json["360701OB-000057"],code:"capitaltype",attrcode:"capitaltype",disabled:!0,metapath:"capitaltype"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000044"],attrcode:"currentbalance",maxlength:"28",metapath:"currentbalance"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000045"],attrcode:"surplusbalance",maxlength:"28",metapath:"surplusbalance"}],moduletype:"table",name:this.state.json["360701OB-000046"],pagination:!1,vometa:""},code:"restmoney",moduletype:"table",name:this.state.json["360701OB-000046"]},code:"360701OB_P01",formrelation:null,name:this.state.json["360701OB-000046"],metapath:"cmp_initdate",clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",pagetype:"Nochild"}}},function(e,t,a){"use strict";(function(e){var r,n,o,l,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,l=function(e){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":i(e))&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=10)}({0:function(t,a){t.exports=e},1:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,r({},o,e))};var n=a(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},10:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(l,r({},i,e))};var n=a(0),o=a(1),l=n.high.Refer,i=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000165",placeholder:"refer-000165",rootNode:{refname:"refer-000165",refpk:"root"},treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},refCode:"uapbd.refer.org.FinanceOrgTreeRef",queryTreeUrl:"/nccloud/uapbd/org/FinanceOrgTreeRef.do",isShowDisabledData:!1,unitProps:o.conf,isRunWithChildren:!1}}})},"object"==i(t)&&"object"==i(e)?e.exports=l(a(0)):(n=[a(0)],void 0===(o="function"==typeof(r=l)?r.apply(t,n):r)||(e.exports=o))}).call(this,a(3)(e))},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,r=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?a+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,o,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(4),c=(o=i)&&o.__esModule?o:{default:o},u=a(0);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(29);var d=u.base.NCModal,f=u.base.NCButton,p=u.base.NCTextArea,v=u.base.NCHotKeys,m=u.base.NCTooltip,b=(n=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.strlen=function(e){e+="";for(var t=0,a=0,r=0;r<e.length;r++)e.charCodeAt(r)>127||94==e.charCodeAt(r)?t+=2:t++,a++;return{len:t,lens:a}},a.state={value:"",lang:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;(0,u.getMultiLang)({moduleId:s({},"tmpub",["3601"]),callback:function(t){e.setState({lang:t})}})}},{key:"componentWillReceiveProps",value:function(e){e.show&&e.show!==this.props.show&&this.setState({value:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,r=t.size,n=t.show,o=(t.content,t.onOk),l=t.onClose,i=t.className,s=t.okShow,b=t.closeShow,h=t.label,g=t.isRequire,y=t.placeholder,w=t.maxlen,k=this.state,C=k.value,S=k.lang;return c.default.createElement(d,{fieldid:"reback",animation:!1,backdrop:"static",show:n,onHide:l,className:"zijin-modal "+r+" "+i},c.default.createElement(v,{keyMap:{sureBtnHandler:v.USUAL_KEYS.NC_MODAL_CONFIRM,cancelBtnHandler:v.USUAL_KEYS.NC_MODAL_CALCEL},handlers:{sureBtnHandler:function(){!g||C?o&&o(C):(0,u.toast)({color:"warning",content:S["3601-000007"]+""+h})},cancelBtnHandler:function(){l&&l()}},className:"simpleModal-hotkeys-wrapper",focused:!0,attach:document.body,display:"inline-block"}),c.default.createElement(d.Header,{closeButton:!0},c.default.createElement(d.Title,null,a)),c.default.createElement(d.Body,null,c.default.createElement("div",{className:"area-box"},c.default.createElement("span",{className:"modal-label nc-theme-common-font-c"},g&&c.default.createElement("span",{className:"require-icon"},"* "),h),c.default.createElement(p,{fieldid:"rebackreason",value:C,placeholder:y,onChange:function(t){t.length>w&&(t=t.substr(0,w)),e.setState({value:t})}}),c.default.createElement("span",{className:"value-length"},c.default.createElement("span",{className:"normal-length"},C.length," "),"/",c.default.createElement("span",{className:"max-length"}," ",w)))),c.default.createElement(d.Footer,null,s&&c.default.createElement(m,{placement:"top",inverse:!0,overlay:S["3601-000005"]+" ("+v.USUAL_KEYS.NC_MODAL_CONFIRM+")",trigger:["hover","focus"],className:"model-helper-overlay"},c.default.createElement(f,{fieldid:"rebackok",className:"button-primary",onClick:function(){!g||C?o&&o(C):(0,u.toast)({color:"warning",content:S["3601-000007"]+""+h})}},S["3601-000005"],"(",c.default.createElement("span",{className:"text-decoration-underline"},"Y"),")")),b&&c.default.createElement(m,{placement:"top",inverse:!0,overlay:S["3601-000006"]+" ("+v.USUAL_KEYS.NC_MODAL_CALCEL+")",trigger:["focus","hover"],className:"model-helper-overlay"},c.default.createElement(f,{fieldid:"rebackcancel",onClick:function(){l&&l()}},S["3601-000006"],"(",c.default.createElement("span",{className:"text-decoration-underline"},"N"),")"))))}}]),t}(i.Component),r.defaultProps={show:!1,title:"",label:"",content:"",isRequire:!0,size:"sm",okShow:!0,closeShow:!0,className:"",placeholder:"",maxlen:100},n);t.default=b},function(e,t,a){"use strict";(function(e){var r,n,o,l,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,l=function(e){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":i(e))&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=472)}({0:function(t,a){t.exports=e},1:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,r({},o,e))};var n=a(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},3:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(l,r({},i,e))};var n=a(0),o=a(1),l=n.high.Refer;o.conf.fieldid="group";var i=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}},472:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000386",placeholder:"refer-000386",rootNode:{refname:"refer-000015",refpk:"root"},refCode:"uapbd.pub.BankaccSubUseTreeGridRef",queryTreeUrl:"/nccloud/uapbd/ref/BankaccSubUseTreeRef.do",queryGridUrl:"/nccloud/uapbd/ref/BankaccSubUseGridRef.do",columnConfig:[{name:["refer-000377","refer-000378","refer-000379","refer-000387","refer-000388","refer-000017","refer-000382","refer-000383","refer-000389","refer-000385","refer-000014"],code:["bd_bankaccsub.accnum","bd_bankaccsub.accname","bd_bankaccbas.code","bd_bankaccbas.name","bd_bankdoc.name","bd_banktype.name","bd_bankaccsub.code","bd_bankaccsub.name","bd_currtype.name","bd_bankaccsub.acctype as acctype","bd_bankaccbas.mnecode"],checked:{"bd_bankaccbas.mnecode":!1},search:{"bd_bankaccbas.mnecode":!0}}],treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1};return React.createElement(l,r({},t,e))};var n=a(0),o=a(3),l=n.high.Refer}})},"object"==i(t)&&"object"==i(e)?e.exports=l(a(0)):(n=[a(0)],void 0===(o="function"==typeof(r=l)?r.apply(t,n):r)||(e.exports=o))}).call(this,a(3)(e))},function(e,t,a){"use strict";(function(e){var r,n,o,l,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,l=function(e){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":i(e))&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=516)}({0:function(t,a){t.exports=e},1:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,r({},o,e))};var n=a(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},10:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(l,r({},i,e))};var n=a(0),o=a(1),l=n.high.Refer,i=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000165",placeholder:"refer-000165",rootNode:{refname:"refer-000165",refpk:"root"},treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},refCode:"uapbd.refer.org.FinanceOrgTreeRef",queryTreeUrl:"/nccloud/uapbd/org/FinanceOrgTreeRef.do",isShowDisabledData:!1,unitProps:o.conf,isRunWithChildren:!1}},516:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",refName:"refer-000466",placeholder:"refer-000466",refCode:"uapbd.refer.sminfo.CashAccountGridRef",queryGridUrl:"/nccloud/uapbd/sminfo/CashAccountGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-000002","refer-000003","refer-000384"],code:["refcode","refname","currtype"]}],unitProps:o.conf,isShowUnit:!1};return React.createElement(l,r({},t,e))};var n=a(0),o=a(10),l=n.high.Refer}})},"object"==i(t)&&"object"==i(e)?e.exports=l(a(0)):(n=[a(0)],void 0===(o="function"==typeof(r=l)?r.apply(t,n):r)||(e.exports=o))}).call(this,a(3)(e))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"tmpub",currentLocale:"zh-CN",moduleId:"refer_tmpub"},refType:"grid",refName:"refer-0011",refcode:"tmpub.refer.accid.AccidGridRef",queryGridUrl:"/nccloud/tmpub/refer/AccidGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-0012","refer-0013","refer-0014","refer-0015","refer-0016","refer-0017","refer-0018"],code:["refcode","refname","pk_ownerorgname","pk_orgname","currtypename","acctypename","isaccounting"]}]};return React.createElement(r,Object.assign(t,e))};var r=a(0).high.Refer},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(4),o=c(n),l=(c(a(7)),a(0)),i=(c(a(26)),a(32));function c(e){return e&&e.__esModule?e:{default:e}}var u=l.base.NCModal,s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getLangCode=function(e){var t=a.props.MutiInit.getIntl(a.moduleId);return t&&t.get(a.moduleId+"-"+e)},a.initMultiLang=function(){var e=a.moduleId;(0,l.getMultiLang)({moduleId:e,currentLocale:a.state.currentLocale,domainName:"cmp",callback:a.setMultiLang})},a.setMultiLang=function(e){a.setState({json:e},(function(){i.initTemplate.call(a,a.props)}))},a.getData=function(e){var t={pubsearch:e,pagecode:"360701OB_P01",queryAreaCode:"",oid:"",queryType:"simple"};(0,l.ajax)({url:"/nccloud/cmp/bankaccountbook/initrestmoneypub.do",data:t,success:function(e){var t=e.success,r=e.data;if(t&&null!=r&&r){var n={},o=[];if(r.message)return(0,l.toast)({color:"warning",content:r.message}),void a.props.table.setAllTableData(a.tableId,{rows:[]});var i=r.scale;i||(i="3");var c=r.vos,u={},s={},d=c.accountCode,f=c.accountName,p=c.accountType,v=c.capitalType,m=c.currencyName,b=c.currentBalance,h=c.surplusBalance;s.accountcode={value:d,display:d},s.accountname={value:f,display:f},s.accounttype={value:p,display:p},s.capitaltype={value:v,display:v},s.currencyname={value:m,display:m},s.currentbalance={value:b,display:b,scale:i},s.surplusbalance={value:h,display:h,scale:i},u.values=s,u.status="0",u.rowid=null,o.push(u),n.rows=o,n.areacode=a.tableId,a.props.table.setAllTableData(a.tableId,n)}else a.props.table.setAllTableData(a.tableId,{rows:[]})}})},a.close=function(){a.setState({showOriginalData:[]},(function(){a.props.onCloseClick()}))},a.moduleId="360701OB",a.tableId="restmoney",a.state={currentLocale:"zh-CN",showOriginalData:[],json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){this.initMultiLang()}},{key:"componentDidMount",value:function(){var e=this;this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:this.props.showOriginalData},(function(){e.initData()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.showmodal&&e.showmodal!==this.props.showmodal){this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:e.showOriginalData},(function(){t.initData()}))}}},{key:"initData",value:function(){var e=this.state.showOriginalData;if(Array.isArray(e)){if(!e||0==e.length)return;for(var t=0;t<e.length;t++){var a=e[t];a.pk_account||a.pk_cashaccount||e.splice(t,1)}if(0==e.length)return;this.getData(e)}else{var r=[];if(!e.pk_account&&!e.pk_cashaccount)return;r.push(e),this.getData(r)}}},{key:"render",value:function(){var e=this.props,t=e.table,a=e.button,r=(e.search,e.modal,t.createSimpleTable);a.createButton;return o.default.createElement("div",null,o.default.createElement(u,{fieldid:"accbalance",show:this.props.showmodal,style:{width:"1100px"},size:"lg",onHide:this.close},o.default.createElement(u.Header,{closeButton:"true"},o.default.createElement(u.Title,null,this.state.json["360701OB-000056"])),o.default.createElement(u.Body,{size:"sm",className:"body-resize-icon"},o.default.createElement("div",null,r(this.tableId,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0})))))}}]),t}(n.Component);t.default=(0,l.createPage)({})(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0);a(27);var n=r.base.NCTabs;t.default=n},,function(e,t){e.exports=r},function(e,t,a){var r=a(28);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(9)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,a){(e.exports=a(8)(!1)).push([e.i,".u-tabs-top .u-tabs-bar {\n  margin-bottom: 0px;\n}\n",""])},function(e,t,a){var r=a(30);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(9)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,a){(e.exports=a(8)(!1)).push([e.i,'@media (min-width: 768px) {\n  .u-modal.zijin-modal .u-modal-dialog {\n    width: 520px;\n    height: 290px;\n  }\n}\n.zijin-modal [aria-hidden="true"] {\n  font-size: 23px;\n  font-weight: 400;\n}\n.zijin-modal.nc-modal.u-modal .u-modal-dialog .u-modal-content {\n  height: 290px;\n  width: 520px;\n}\n.zijin-modal .u-modal-body {\n  padding: 20px 20px !important;\n  height: 200px;\n}\n.zijin-modal .u-modal-body .area-box {\n  position: relative;\n}\n.zijin-modal .u-modal-body .modal-label {\n  display: inline-block;\n  width: 100px;\n  text-align: left;\n  vertical-align: top;\n  margin-right: 16px;\n  color: #555;\n  padding: 2px;\n}\n.zijin-modal .u-modal-body .modal-label .require-icon {\n  color: red;\n  font-size: 14px;\n}\n.zijin-modal .u-modal-body .textarea-wrap {\n  display: inline-block;\n  width: calc(100% - 150px);\n  height: 95px;\n}\n.zijin-modal .u-modal-body .textarea-wrap .u-form-control {\n  resize: none !important;\n  height: 100%;\n  width: 480px;\n}\n.zijin-modal .u-modal-body .value-length {\n  font-size: 12px;\n  color: #ccc;\n  position: absolute;\n  bottom: 5px;\n  right: 20px;\n}\n.zijin-modal .u-modal-footer .u-button {\n  min-width: 60px !important;\n}\n',""])},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restmoney=t.initTemplate=void 0;var r=o(a(33)),n=o(a(16));function o(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=r.default,t.restmoney=n.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default.call(this);if(t.template){var a=t.template;a=function(e,t){return t.restmoney.items=t.restmoney.items.map((function(e,t){return e.width=150,e})),t.restmoney.showcheck=!0,t.restmoney.pagination=!1,t}(0,a),e.meta.setMeta(a)}};a(0);var r,n=a(16),o=(r=n)&&r.__esModule?r:{default:r}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerAccoutDialog=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(4),o=c(n),l=(c(a(7)),a(0));a(36);var i=c(a(38));function c(e){return e&&e.__esModule?e:{default:e}}var u=l.base.NCModal,s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.tableCode="inneraccbalance",a.init(e),a.state={json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){this.init(e),this.queryAccBalance(this.props.accpk)}},{key:"componentWillMount",value:function(){var e=this;(0,l.getMultiLang)({moduleId:"3601Inner",domainName:"tmpub",callback:function(t,a,r){a&&e.setState({json:t},(function(){e.initTemplate()}))}})}},{key:"render",value:function(){var e=this.props.table.createSimpleTable;return o.default.createElement(u,{fieldid:"inneraccbalance",className:"InnerAccoutModal_class",show:this.show,onHide:this.close,style:{width:"700px"}},o.default.createElement(u.Header,{closeButton:!0},o.default.createElement(u.Title,null,this.state.json["3601Inner-000005"])),o.default.createElement(u.Body,{className:"body-resize-icon"},e&&o.default.createElement("div",null,e(this.tableCode,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0}))))}},{key:"componentDidMount",value:function(){this.queryAccBalance()}},{key:"init",value:function(e){this.pk_accid=e.accpk,this.show=e.showModal,this.close=e.closeModal}},{key:"queryAccBalance",value:function(){var e=this;(0,l.ajax)({url:"/nccloud/tmpub/pub/inneraccbalance.do",async:!0,data:{accid:this.pk_accid},success:function(t){var a=t.data,r={areacode:e.tableCode,rows:[{status:0,rowid:null,values:{name:{display:a.accName,value:a.accName,scale:-1},bookbalance:{display:null,value:a.bookBalance,scale:3},realbalance:{display:null,value:a.realBalance,scale:3},realbalancewithoutover:{display:null,value:a.realBalanceNoOverFraft,scale:3}}}]};e.props.table.setAllTableData(e.tableCode,r)},error:function(t){e.props.table.setAllTableData(e.tableCode,{rows:[]})}})}},{key:"initTemplate",value:function(){var e=i.default.call(this);if(e.template){var t=e.template;t=this.modifierMeta.call(this,t),this.props.meta.setMeta(t)}}},{key:"modifierMeta",value:function(e){return e}}]),t}(n.Component);t.InnerAccoutDialog=(0,l.createPage)({})(s)},,function(e,t,a){var r=a(37);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(9)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,a){(e.exports=a(8)(!1)).push([e.i,".InnerAccoutModal_class .u-modal-content {\n  max-height: 300px !important;\n}\n",""])},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{inneraccbalance:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"inneraccbalance",tabRelation:["inneraccbalance"]}},inneraccbalance:{clazz:null,code:"inneraccbalance",items:[{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000000"],attrcode:"name",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000001"],attrcode:"bookbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000002"],attrcode:"realbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000003"],attrcode:"realbalancewithoutover",maxlength:"20",metapath:null}],moduletype:"table",name:this.state.json["3601Inner-000005"],pagination:!1,vometa:""},code:"inneraccbalancedialog",moduletype:"table",name:this.state.json["3601Inner-000005"]},code:"inneraccbalancedialog",formrelation:null,name:this.state.json["3601Inner-000005"],metapath:null,clazz:null,pagetype:"Nochild"}}},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=a(5),o=a(15);(r=o)&&r.__esModule;var l={pageCode:"36300DC_C01",headCode:"form_cashgather_01",srcAreaCode:"form_cachegather_04",opertAreaCode:"form_cachegather_05",bodyCode:"table_cashgateher_01",bodyDetailCode:"form_cashgather_02",bodyEditCode:"form_cachegather_03",btnLimit:3,btnHeadCode:"head",btnTableHeadCode:"body",btnRowCode:"row"},i={pk:"pk_cashgather_h",pk_org:"pk_org",pk_group:"pk_group",pk_billtype:"pk_billtype",ts:"ts",bpk:"pk_cashgather_b",vbillno:"vbillno",billstatus:"billstatus",vbillstatus:"vbillstatus",srcmodule:"recmodul",isvoucher:"ismakevoucher",pseudocolumn:"pseudocolumn",srcmodul:"recmodul"},c={appCode:"36300DC",billType:"36JC",dataSource:"tm.cash.cashgather.datasource",bodyCodeMapBPK:function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},l.bodyCode,i.bpk),printnodekey_offical:"offical",printnodekey_inoffical:"inoffical",assignType:{commit:0,savecommit:1}},u="/nccloud/fts/cashgather/",s={listPage:"/list",cardPage:"/card",list:{qrybycondition:u+"listqry.do",pagechange:u+"pagechange.do",go2cardcheck:u+"gotocardcheck.do"},card:{save:u+"save.do",savecommit:u+"savecommit.do",afteredit:u+"afteredit.do",qrybypk:u+"cardqry.do",loadeditdata:u+"loadeditdata.do"},common:{delete:u+"delete.do",commit:u+"commit.do",uncommit:u+"uncommit.do",print:u+"print.do",reback:u+"reback.do",undecide:u+"undecide.do",elecsignprint:u+"elecsignprint.do",voucher:u+"voucher.do",unvoucher:u+"unvoucher.do",linksrc:u+"linksrc.do",linkdown:u+"linkdown.do",linkreceipt:u+"linkreceipt.do",loadlinkdata:u+"initdata.do"}},d={urlparam:n.URL_PARAM,scene:n.SCENE,linktype:n.LINKTYPE,sagaField:n.sagaField,sagaFrozenEnum:n.sagaFrozenEnum,sagaStateEnum:n.sagaStateEnum,cache:n.cache};t.default={list:{pageCode:"36300DC_L01",searchCode:"search_cashgather_01",tableCode:"table_cashgather_01",btnHeadCode:"head",btnRowCode:"row",pageKey:{waitcommit:0,waitapprove:1,all:2}},card:l,comm:c,url:s,field:i,module:{tmpub:{code:"tmpub",codeL:"TMPUB",number:"3601"},fts:{code:"fts",codeL:"FTS",number:"3630"}},viewmode:{add:"add",browse:"browse",copy:"copy",edit:"edit",decide:"decide"},filter:{financeorgfilter:"nccloud.web.fts.cash.cashgather.filter.FinanceOrgFilter",bankaccfilter:"nccloud.web.fts.cash.cashgather.filter.BankAccDefaultFilter",cashaccfilter:"nccloud.web.fts.cash.cashgather.filter.CashAccDefaultFilter",inneraccfilter:"nccloud.web.fts.cash.cashgather.filter.InnerAccFilter",fundorgfilter:"nccloud.web.tmpub.filter.FundOrgPermissionFilter"},state:{billstate:{waitdecide:1,waitapprove:2,payok:3,back:4,waitcommit:5},approvestate:{free:-1,approved:1,commit:3,approving:2,nopass:0}},cache:{isrowcopy:"isrowcopy",qrycondition:"qrycondition",linkscene:"linkscene",id:"id",pagecount:"pagecount",activepage:"activePage",hasqry:"hasQry",scene:{none:-1,normallink:1,fiplink:2,ttblink:3}},tmpubcons:d,poweractioncode:{delete:"delete",edit:"edit",decide:"decide",reback:"back"}}},,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=a(0),o=a(1),l=a(10),i=a(11),c=a(6),u=a(13),s=a(43),d=(r=s)&&r.__esModule?r:{default:r};function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p={linksrc:function(e,t){return d.default.module.fts.codeL!=t||((0,n.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300DC-000014")}),!1)},linkdown:function(e,t,a){return d.default.module.fts.codeL!=t?((0,n.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300DC-000017")}),!1):d.default.state.billstate.payok==a||((0,n.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300DC-000015")}),!1)},linkreceipt:function(e,t){return d.default.state.billstate.payok==t||((0,n.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"36300DC-000018")}),!1)}},v=function(){var e=n.cardCache.getDefData(d.default.cache.linkscene,d.default.comm.dataSource);return e||d.default.cache.scene.none},m={saveMultiLangRes:o.saveMultiLangRes,loadMultiLang:o.loadMultiLang,elecSignListPrint:o.elecSignListPrint,elecSignCardPrint:o.elecSignCardPrint,setDefOrg2AdvanceSrchArea:o.setDefOrg2AdvanceSrchArea,setDefOrg2ListSrchArea:o.setDefOrg2ListSrchArea,createSimpleBillData:o.createSimpleBillData,orgVersionView:u.orgVersionView,hasDefaultOrg:o.hasDefaultOrg,setDefOrg2Form:o.setDefOrg2Form,setHeadItemProp:i.setHeadItemProp,buildLightBodyAfterEditData:o.buildLightBodyAfterEditData,listSingleOperator:c.listSingleOperator,cardOperator:c.cardOperator,listMultiOperator:c.listMultiOperator,listSingleOperatorNoRecord:c.listSingleOperatorNoRecord,BatchDelLine:c.BatchDelLine,DelLine:c.DelLine,deleteEnable:function(e,t){return d.default.state.billstate.waitcommit==e&&"FTS"==t},editEnable:function(e,t){return d.default.state.billstate.waitcommit==e&&"FTS"==t},commitEnable:function(e){return d.default.state.billstate.waitcommit==e},unCommitEnable:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Y";return("N"==a||0==a)&&(d.default.state.billstate.waitapprove==e&&d.default.state.approvestate.commit==t||d.default.state.billstate.payok==e&&d.default.state.approvestate.approved==t)},decideEnable:function(e,t){return d.default.state.billstate.waitcommit==e&&"FTS"!=t},rebackEnable:function(e,t){return d.default.state.billstate.waitcommit==e&&"FTS"!=t},unDecideEnable:function(e,t){return d.default.state.billstate.waitapprove==e&&"FTS"!=t},voucherEnable:function(e,t){return d.default.state.billstate.payok==e&&("N"==t||0==t)},unVoucherEnable:function(e){return"Y"==e||1==e},elecSignPrintEnable:function(e){return d.default.state.billstate.payok==e},linkVoucherApp:l.linkVoucherApp,linkReceipt:function(e,t,a,r){if(p.linkreceipt(e,r)){var o=f({},t,a);(0,n.ajax)({url:d.default.url.common.linkreceipt,data:{pkMapTs:o},success:function(a){var r,n=a.data;if(n){var o=n.appCode,l=n.linkPageCode;e.openTo(null,(f(r={status:d.default.viewmode.browse},d.default.tmpubcons.urlparam.PK_SRC,t),f(r,"scene",d.default.tmpubcons.scene.LINK),f(r,"appcode",o),f(r,"pagecode",l),r))}}})}},linkSrc:function(e,t){var a=t.pk,r=t.ts,o=t.srcmodul,l=t.updateStateFunc;if(p.linksrc(e,o)){var i=f({},a,r);(0,n.ajax)({url:d.default.url.common.linksrc,data:{pkMapTs:i},success:function(e){var t=e.data;if(t&&0!=t.length){var a=t[0],r=(a.type,a.pks);d.default.tmpubcons.linktype.BILL_REVIEW,l({showBillReview:!0,pk:r[0]})}}})}},linkDown:function(e,t){var a=t.pk,r=t.ts,o=t.srcmodul,l=t.billstatus,i=t.updateStateFunc;if(p.linkdown(e,o,l)){var c=f({},a,r);(0,n.ajax)({url:d.default.url.common.linkdown,data:{pkMapTs:c},success:function(t){var r=t.data;if(r&&0!=r.length&&r&&r.length>0){var n=!0,o=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var s=c.value,f=s.type,p=s.pks,v=s.appCode,m=s.linkPageCode;if(f)if(f==d.default.tmpubcons.linktype.NORMAL){var b={scene:d.default.tmpubcons.scene.LINK,status:d.default.viewmode.browse,appcode:v,pagecode:m};1==p.length?b[d.default.tmpubcons.urlparam.ID]=p[0]:p.length>1&&(b[d.default.tmpubcons.urlparam.PK_SRC]=a),e.openTo(null,b)}else if(f==d.default.tmpubcons.linktype.BILL_REVIEW){i({showBillReview:!0,pk:a});break}}}catch(e){o=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw l}}}}})}},getScene:v,isLink:function(){var e=v();return d.default.cache.scene.none!=e},addDefReferFilter:o.addDefReferFilter,bodyRateEditOnAfterEdit:o.bodyRateEditOnAfterEdit,setRate2NewRow:o.setRate2NewRow,createListWebSocket:o.createListWebSocket,createCardWebSocket:o.createCardWebSocket,saveCommit:o.saveCommit,showErrBtn:o.showErrBtn,go2CardCheck:o.go2CardCheck},b={createPage:n.createPage,ajax:n.ajax,toast:n.toast,print:n.print,output:n.output,high:n.high,cardCache:n.cardCache,cacheTools:n.cacheTools,getMultiLang:n.getMultiLang,createPageIcon:n.createPageIcon,promptBox:n.promptBox,base:n.base};t.default={comm:m,tool:b,validate:p}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=a(15),l=(r=o)&&r.__esModule?r:{default:r},i=a(84);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=l.default.cons,s=l.default.api,d=s.tool,f=d.ajax,p=d.toast,v=d.promptBox,m=d.print,b=d.output,h=d.cardCache,g=d.cacheTools,y=s.comm,w=y.loadMultiLang,k=y.listMultiOperator,C=y.listSingleOperator,S=y.listSingleOperatorNoRecord,_=function(e,t,a){var r=a.getStateFunc,n=void 0===r?null:r,o=a.callback,l=void 0===o?null:o,i=a.actionCode,c=void 0===i?null:i,d=a.permissionCode,f=void 0===d?null:d;if(t||(t={}),t.status||(t.status=u.viewmode.browse),t.status==u.viewmode.add){var p=n("pageCount"),v=n("activePage");h.setDefData(u.cache.pagecount,u.comm.dataSource,p),h.setDefData(u.cache.activepage,u.comm.dataSource,v),h.setDefData(u.cache.hasqry,u.comm.dataSource,!0),h.setDefData(u.tmpubcons.cache.iserrtoast,u.comm.dataSource,!0),e.pushTo(u.url.cardPage,t),l&&"function"==typeof l&&l(e)}else t.pagecode=u.card.pageCode,s.comm.go2CardCheck({props:e,url:u.url.list.go2cardcheck,pk:t.id,ts:t.ts,checkTS:!!t.ts,fieldPK:u.field.pk,actionCode:c,permissionCode:f,go2CardFunc:function(){var a=n("pageCount"),r=n("activePage");h.setDefData(u.cache.pagecount,u.comm.dataSource,a),h.setDefData(u.cache.activepage,u.comm.dataSource,r),h.setDefData(u.cache.hasqry,u.comm.dataSource,!0),h.setDefData(u.tmpubcons.cache.iserrtoast,u.comm.dataSource,!0),e.pushTo(u.url.cardPage,t),l&&"function"==typeof l&&l(e)}})},O=function(e){var t=e.props,a=e.res,r=e.pagekey,n=e.isBtnClick,o=e.updateStateFunc,l=a.data,i=l.grid,c=l.numvalues,s=l.hasData;n&&p({color:s?"success":"warning",title:w(t,s?"3601-000014":"3601-000016")}),i?t.table.setAllTableData(u.list.tableCode,i[u.list.tableCode]):t.table.setAllTableData(u.list.tableCode,{rows:[]}),o({activePage:r,pageCount:c&&Object.keys(c).length>0?{waitcommit:c.waitcommit||0,waitapprove:c.waitapprove||0}:{}})},R=function(e,t,a,r){var n=h.getDefData(u.cache.qrycondition,u.comm.dataSource);if(n&&0!=n.length){var o=x(e,n,t,!1);f({url:u.url.list.qrybycondition,data:o,success:function(n){O({props:e,res:n,isBtnClick:!1,updateStateFunc:a,pagekey:t}),r&&"function"==typeof r&&r()}})}else a({activePage:t})},x=function(e,t,a){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=e.table.getTablePageInfo(u.list.tableCode);r&&(n.pageIndex=0);var o=M(e,a),l=e.search.getQueryInfo(u.list.searchCode,!1);return l.querycondition=t,l.custcondition={logic:"or",conditions:o},l.pageInfo=n,{data:JSON.stringify(l),pageCode:u.list.pageCode}},M=function(e,t){var a=void 0;switch(t){case""+u.list.pageKey.waitcommit:a={field:u.field.billstatus,value:{firstvalue:u.state.billstate.waitcommit,secondvalue:null},oprtype:"="};break;case""+u.list.pageKey.waitapprove:a={field:u.field.billstatus,value:{firstvalue:u.state.billstate.waitapprove,secondvalue:null},oprtype:"="};break;case""+u.list.pageKey.all:default:a={}}return Array.isArray(a)?a:[a]},P=function(e){var t=e.table.getCheckedRows(u.list.tableCode);return t&&1==t.length?t[0]:(p({color:"warning",content:w(e,"36300-000027")}),!1)},A=function(e,t,a,r,n,o,l,i){S(e,u.list.pageCode,u.list.tableCode,t,a,r,n,o,u.comm.dataSource,!1,l,i)},E=function(e){var t=e.meta.getMeta(),a=t[u.list.tableCode].items.findIndex((function(e){return"opr"==e.attrcode}));-1!=a&&(t[u.list.tableCode].items.splice(a,1),e.meta.setMeta(t))};t.default={go2Card:_,qryByBtnClick:function(e,t,a,r){if(t){h.setDefData(u.cache.qrycondition,u.comm.dataSource,t);var n=r("activePage"),o=x(e,t,n);f({url:u.url.list.qrybycondition,data:o,success:function(t){O({props:e,res:t,isBtnClick:!0,updateStateFunc:a,pagekey:n})}})}},qryByPageCondition:R,refresh:function(e,t,a){var r=t("activePage");R(e,r,a,(function(){p({color:"success",content:w(e,"36300DC-000019")})}))},pagechange:function(e,t,a){if(a&&0!=a.length){var r={pks:a,pageCode:u.list.pageCode};f({url:u.url.list.pagechange,data:r,success:function(t){var a=t.data;a&&e.table.setAllTableData(u.list.tableCode,a[u.list.tableCode])}})}},batchdelete:function(e){var t=e.table.getCheckedRows(u.list.tableCode);t&&t.length>0?v({color:"warning",title:w(e,"36300-000020"),content:w(e,"36300-000024"),beSureBtnClick:function(){k(e,u.list.pageCode,u.list.tableCode,u.field.pk,u.url.common.delete,w(e,"36300-000020"),u.comm.dataSource)}}):k(e,u.list.pageCode,u.list.tableCode,u.field.pk,u.url.common.delete,w(e,"36300-000020"),u.comm.dataSource)},copy:function(e){var t=P(e);if(t){var a=t&&t.data&&t.data.values&&t.data.values[u.field.pk]&&t.data.values[u.field.pk].value,r=t&&t.data&&t.data.values&&t.data.values[u.field.ts]&&t.data.values[u.field.ts].value;_(e,{id:a,ts:r,status:u.viewmode.copy},{getStateFunc:this.getState.bind(this)})}},edit:function(e){var t=P(e);if(t){var a=t&&t.data&&t.data.values&&t.data.values[u.field.pk]&&t.data.values[u.field.pk].value,r=t&&t.data&&t.data.values&&t.data.values[u.field.ts]&&t.data.values[u.field.ts].value;_(e,{id:a,ts:r,status:u.viewmode.edit},{getStateFunc:this.getState.bind(this),actionCode:u.poweractioncode.edit,permissionCode:u.comm.billType})}},listMultiAction:function(e,t,a,r,n){k(e,u.list.pageCode,u.list.tableCode,u.field.pk,t,a,u.comm.dataSource,!1,r,n)},listSingleAction:function(e,t,a,r,n,o,l){C(e,u.list.pageCode,u.list.tableCode,t,a,u.field.pk,r,n,u.comm.dataSource,!1,o,l)},listSingleNoRecordAction:A,printAction:function(e,t){if(t&&["print","output"].includes(t)){var a=e.table.getCheckedRows(u.list.tableCode);if(a&&0!=a.length){var r=[],n=!0,o=!1,l=void 0;try{for(var i,c=a[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value,d=s&&s.data&&s.data.values&&s.data.values[u.field.pk]&&s.data.values[u.field.pk].value;d&&r.push(d)}}catch(e){o=!0,l=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw l}}if(0!=r.length){var f=u.url.common.print;"print"==t?m("pdf",f,{nodekey:null,appcode:u.comm.appCode,oids:r}):"output"==t&&b({url:f,data:{nodekey:null,appcode:u.comm.appCode,oids:r,outputType:"output"}})}else p({color:"warning",content:w(e,"36300-000027")})}else p({color:"warning",content:w(e,"36300-000027")})}},file:function(e,t){var a=P(e);a&&t({pk:a&&a.data&&a.data.values&&a.data.values[u.field.pk]&&a.data.values[u.field.pk].value,vbillno:a&&a.data&&a.data.values&&a.data.values[u.field.vbillno]&&a.data.values[u.field.vbillno].value,showUploader:!0})},linkApproveFlow:function(e,t){var a=P(e);a&&t({pk:a&&a.data&&a.data.values&&a.data.values[u.field.pk]&&a.data.values[u.field.pk].value,showApproveDetail:!0})},elecSignPrint:function(e,t){s.comm.elecSignListPrint(e,{url:u.url.common.elecsignprint,offical:t,appCode:u.comm.appCode,nodeKey:t?u.comm.printnodekey_offical:u.comm.printnodekey_inoffical,tableCode:u.list.tableCode,field_id:u.field.pk,field_billno:u.field.vbillno,validateFunc:function(t){var a=t&&t.data&&t.data.values&&t.data.values[u.field.billstatus]&&t.data.values[u.field.billstatus].value;return u.state.billstate.payok!=a?w(e,"36300DC-000008"):null}})},loadCacheData:function(e,t){if(h.getDefData(u.cache.hasqry,u.comm.dataSource)){var a={pageCount:h.getDefData(u.cache.pagecount,u.comm.dataSource),activePage:h.getDefData(u.cache.activepage,u.comm.dataSource)};Object.keys(a).length>0&&t(a)}},linkSrc:function(e,t){var a=P(e);if(a){var r=a.data.values[u.field.pk].value,n=a.data.values[u.field.ts].value;if(r){var o=a.data.values[u.field.srcmodul].value;s.comm.linkSrc(e,{pk:r,ts:n,srcmodul:o,updateStateFunc:t})}}},linkDown:function(e,t){var a=P(e);if(a){var r=a.data.values[u.field.pk].value,n=a.data.values[u.field.ts].value;if(r){var o=a.data.values[u.field.srcmodul].value,l=a.data.values[u.field.billstatus].value;s.comm.linkDown(e,{pk:r,ts:n,srcmodul:o,billstatus:l,updateStateFunc:t})}}},linkAccBalance:function(e,t,a,r){var n=P(e);if(n){var o=n.data.values[u.field.pk_org].value,l=n.data.values[a].value;if(o&&l){var i=[c({pk_org:o},t,l)];this.setState({showAccBalance:!0,accBalanceParam:i})}else p({color:"warning",content:w(e,"36300DC-000016")})}},linkRecepit:function(e){var t=P(e);if(t){var a=t.data.values[u.field.pk].value;if(a){var r=t.data.values[u.field.ts].value,n=t.data.values[u.field.billstatus].value;s.comm.linkReceipt(e,a,r,n)}}},linkVoucher:function(e){var t=P(e);if(t){var a=t.data.values[u.field.pk].value;if(a){var r=t.data.values[u.field.pk_group].value,n=t.data.values[u.field.pk_org].value,o=t.data.values[u.field.pk_billtype].value,l=t.data.values[u.field.vbillno].value;s.comm.linkVoucherApp(e,a,r,n,o,l)}}},rebackConfirm:function(e,t){var a=t.pk,r=t.ts,n=t.index,o=t.reason,l=t.updateStateFunc;A(e,u.url.common.reback,a,r,n,w(e,"36300-000035"),{reason:o},(function(){l({showReBack:!1})}))},loadLinkData:function(e){var t=this,a=e.getUrlParam(u.tmpubcons.urlparam.SCENE),r=JSON.stringify(e.table.getTablePageInfo(u.list.tableCode)),o=void 0;if(u.tmpubcons.scene.FIP==a){h.setDefData(u.cache.linkscene,u.comm.dataSource,u.cache.scene.fiplink),(0,i.headBtnVisible)(e),E(e);var l=g.get("checkedData");if(!l||0==l.length)return;o={voucherParam:JSON.stringify(l),pageInfo:r}}var c={pageCode:u.list.pageCode,extParam:o};f({url:u.url.common.loadlinkdata,data:c,success:function(r){var o=r.data;if(o){o.grid;var l=o.head;if(l){var i={};i[u.list.tableCode]=n({},l[u.card.headCode]),r.data={grid:i}}O({props:e,res:r,isBtnClick:!1,updateStateFunc:t.updateState.bind(t)});var c=r.data.grid[u.list.tableCode].rows;if(c&&1==c.length&&u.tmpubcons.scene.FIP==a){var s=c[0].values[u.field.pk].value;_(e,{status:u.viewmode.browse,id:s},{getStateFunc:t.getState.bind(t)})}}}})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headBtnVisible=t.getBodyBtnArr=void 0;var r,n=a(15),o=(r=n)&&r.__esModule?r:{default:r};var l=o.default.cons,i=o.default.api,c=(t.getBodyBtnArr=function(e,t){var a=t&&t[l.field.billstatus]&&t[l.field.billstatus].value,r=t&&t[l.field.vbillstatus]&&t[l.field.vbillstatus].value,n=t&&t[l.field.srcmodule]&&t[l.field.srcmodule].value||"FTS",o=t&&t[l.field.isvoucher]&&t[l.field.isvoucher].value,c=[];return i.comm.commitEnable(a)&&c.push("commitrow"),i.comm.unCommitEnable(a,r,o)&&c.push("uncommitrow"),i.comm.decideEnable(a,n)&&c.push("deciderow"),i.comm.voucherEnable(a,o)&&c.push("voucherrow"),i.comm.unVoucherEnable(o)&&c.push("unvoucherrow"),i.comm.rebackEnable(a,n)&&c.push("rebackrow"),i.comm.editEnable(a,n)&&c.push("editrow"),i.comm.deleteEnable(a,n)&&c.push("deleterow"),c},t.headBtnVisible=function(e){if(0!=e.button.getButtons().length){var t=e.button,a=t.setButtonDisabled;(0,t.setButtonVisible)(["add","delete","copy","commit","uncommit","reback","voucher","unvoucher","officprint","supplyprint","Refresh"],!i.comm.isLink()),a(["add","Refresh","link"],!1);var r=e.table.getCheckedRows(l.list.tableCode);r&&0!=r.length?1==r.length?c(e,r[0],a):a(["delete","copy","commit","uncommit","reback","voucher","unvoucher","file","approveflow","srcbill","downbill","reciept","linkvoucher","print","output","officprint","supplyprint"],!1):a(["delete","copy","commit","uncommit","reback","voucher","unvoucher","file","approveflow","srcbill","downbill","reciept","linkvoucher","print","output","officprint","supplyprint"],!0)}},function(e,t,a){a(["approveflow","srcbill","downbill","reciept","linkvoucher"],!1),a(["file"],!1);var r=t&&t.data&&t.data.values&&t.data.values[l.field.billstatus]&&t.data.values[l.field.billstatus].value,n=t&&t.data&&t.data.values&&t.data.values[l.field.vbillstatus]&&t.data.values[l.field.vbillstatus].value,o=t&&t.data&&t.data.values&&t.data.values[l.field.srcmodule]&&t.data.values[l.field.srcmodule].value||"FTS",c=t&&t.data&&t.data.values&&t.data.values[l.field.isvoucher]&&t.data.values[l.field.isvoucher].value;a(["delete"],!i.comm.deleteEnable(r,o)),a(["copy"],!1),a(["commit"],!i.comm.commitEnable(r)),a(["uncommit"],!i.comm.unCommitEnable(r,n,c)),a(["reback"],!i.comm.rebackEnable(r,o)),a(["voucher"],!i.comm.voucherEnable(r,c)),a(["unvoucher"],!i.comm.unVoucherEnable(c)),a(["officprint"],!i.comm.elecSignPrintEnable(r)),a(["supplyprint"],!i.comm.elecSignPrintEnable(r)),a(["reciept","downbill"],r!=l.state.billstate.payok),a(["linkvoucher"],!i.comm.unVoucherEnable(c)),a(["print","output"],!1)})},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,o){if(t){var l=r&&r[i.field.pk]&&r[i.field.pk].value,d=r&&r[i.field.ts]&&r[i.field.ts].value;switch(t){case"add":n.default.go2Card(e,{status:i.viewmode.add},{getStateFunc:this.getState.bind(this)});break;case"delete":n.default.batchdelete.call(this,e);break;case"copy":n.default.copy.call(this,e);break;case"edit":n.default.edit.call(this,e);break;case"commit":u.call(this,e);break;case"uncommit":n.default.listMultiAction.call(this,e,i.url.common.uncommit,c(e,"36300-000026"));break;case"reback":this.setState({showReBack:!0,pk:l,ts:d,index:o});break;case"file":n.default.file(e,this.updateState.bind(this));break;case"approveflow":n.default.linkApproveFlow(e,this.updateState.bind(this));break;case"srcbill":n.default.linkSrc(e,this.updateState.bind(this));break;case"downbill":n.default.linkDown(e,this.updateState.bind(this));break;case"reciept":n.default.linkRecepit(e);break;case"linkvoucher":n.default.linkVoucher(e);break;case"print":n.default.printAction(e,"print");break;case"output":n.default.printAction(e,"output");break;case"officprint":n.default.elecSignPrint(e,!0);break;case"supplyprint":n.default.elecSignPrint(e,!1);break;case"Refresh":n.default.refresh(e,this.getState.bind(this),this.updateState.bind(this));break;case"deleterow":n.default.listSingleNoRecordAction(e,i.url.common.delete,l,d,o,c(e,"36300-000020"));break;case"editrow":n.default.go2Card(e,{id:l,ts:d,status:i.viewmode.edit},{getStateFunc:this.getState.bind(this),actionCode:i.poweractioncode.edit,permissionCode:i.comm.billType});break;case"deciderow":n.default.go2Card(e,{id:l,ts:d,status:i.viewmode.decide},{getStateFunc:this.getState.bind(this),actionCode:i.poweractioncode.decide,permissionCode:i.comm.billType});break;case"undeciderow":n.default.listSingleNoRecordAction(e,i.url.common.undecide,l,d,o,c(e,"36300DC-000004"));break;case"rebackrow":this.setState({showReBack:!0,pk:l,ts:d,index:o});break;case"commitrow":s.call(this,e,l,d,o);break;case"uncommitrow":n.default.listSingleNoRecordAction(e,i.url.common.uncommit,l,d,o,c(e,"36300-000026"));break;case"voucherrow":n.default.listSingleNoRecordAction(e,i.url.common.voucher,l,d,o,c(e,"36300DC-000012"),{btncode:"voucherrow",pagecode:i.list.pageCode});break;case"unvoucherrow":n.default.listSingleNoRecordAction(e,i.url.common.unvoucher,l,d,o,c(e,"36300DC-000013"),{btncode:"unvoucherrow",pagecode:i.list.pageCode})}}};var r=o(a(15)),n=o(a(83));o(a(23));function o(e){return e&&e.__esModule?e:{default:e}}var l=r.default.api,i=r.default.cons,c=l.comm.loadMultiLang,u=function(e){var t=this;n.default.listMultiAction.call(this,e,i.url.common.commit,c(e,"36300-000025"),null,(function(e,a){if(a){Array.isArray(a)&&(a=a[0]);var r=a.workflow;(r&&"approveflow"==r||"workflow"==r)&&t.setState({assignData:a,assignShow:a,index:selectData.index,pk:selectData&&selectData.data&&selectData.data.values&&selectData.data.values[i.field.pk]&&selectData.data.values[i.field.pk].value,ts:selectData&&selectData.data&&selectData.data.values&&selectData.data.values[i.field.ts]&&selectData.data.values[i.field.ts].value})}}))},s=function(e,t,a,r){var o=this;n.default.listSingleNoRecordAction(e,i.url.common.commit,t,a,r,c(e,"36300-000025"),null,(function(e,n){if(n){Array.isArray(n)&&(n=n[0]);var l=n.workflow;(l&&"approveflow"==l||"workflow"==l)&&o.setState({assignData:n,assignShow:n,index:r,ts:a,pk:t})}}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=l(a(15)),o=l(a(152));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=o.default.method,u=n.default.comp,s=n.default.api,d=n.default.cons,f=u.Component,p=u.ReBackModal,v=(u.InnerAccoutDialog,u.NCTabs),m=s.tool,b=m.createPage,h=m.getMultiLang,g=(m.createPageIcon,m.high),y=m.base,w=s.comm,k=w.loadMultiLang,C=w.saveMultiLangRes,S=(w.NCCOriginalBalance,g.NCUploader),_=g.BillTrack,O=g.ApprovalTrans,R=g.ApproveDetail,x=y.NCDiv,M=v.NCTabPane,P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showUploader:!1,showBillReview:!1,pk:null,ts:null,vbillno:null,index:null,assignShow:!1,assignData:null,showReBack:!1,showApproveDetail:!1,pageCount:{waitcommit:0,waitapprove:0},activePage:""+d.list.pageKey.waitcommit},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){var e,t=this;h({moduleId:(e={},i(e,d.module.tmpub.code,[d.module.tmpub.number]),i(e,d.module.fts.code,[d.module.fts.number,d.comm.appCode]),e),callback:function(e){C(t.props,e),o.default.initTemplate.call(t,t.props)}}),window.onbeforeunload=function(){var e=t.props.getUrlParam("status");if(d.viewmode.browse!=e)return k(t.props,"3601-000015")}}},{key:"render",value:function(){var e=this,t=this.props,a=t.table,r=t.button,n=t.search,l=t.BillHeadInfo,i=a.createSimpleTable,u=(a.getTablePageInfo,n.NCCreateSearch),f=r.createButtonApp,m=l.createBillHeadInfo,b=this.state,h=b.showUploader,g=b.pk,y=b.ts,w=b.vbillno,C=b.index,P=b.assignShow,A=b.assignData,E=b.showReBack,T=b.showApproveDetail,L=b.pageCount,D=b.activePage,j=b.showBillReview,B=s.comm.isLink();return React.createElement("div",{className:"nc-bill-list"},s.comm.createListWebSocket(this.props,{tableAreaCode:d.list.tableCode,tablePkName:d.field.pk,billtype:d.comm.billType,dataSource:d.comm.dataSource}),React.createElement(x,{areaCode:x.config.HEADER,className:"nc-bill-header-area"},React.createElement("div",{className:"header-title-search-area"},m({title:k(this.props,"36300DC-000000"),initShowBackBtn:!1})),React.createElement("div",{className:"header-button-area"},f({onButtonClick:o.default.buttonClick.bind(this),area:d.list.btnHeadCode}))),!B&&React.createElement("div",{className:"nc-bill-search-area"},u(d.list.searchCode,{clickSearchBtn:function(t,a){c.qryByBtnClick.call(e,e.props,a,e.updateState.bind(e),e.getState.bind(e))},defaultConditionsNum:2})),!B&&React.createElement("div",{className:"tab-definInfo-area"},React.createElement(v,{activeKey:D,onChange:function(t){c.qryByPageCondition.call(e,e.props,t,e.updateState.bind(e))}},React.createElement(M,{key:d.list.pageKey.waitcommit,tab:React.createElement("span",null,k(this.props,"36300DC-000009")+"(",React.createElement("span",null,L.waitcommit||0),")")}),React.createElement(M,{key:d.list.pageKey.waitapprove,tab:React.createElement("span",null,k(this.props,"36300DC-000010")+"(",React.createElement("span",null,L.waitapprove||0),")")}),React.createElement(M,{key:d.list.pageKey.all,tab:k(this.props,"36300DC-000011")}))),React.createElement("div",{className:"nc-bill-table-area"},i(d.list.tableCode,{dataSource:d.comm.dataSource,pkname:d.field.pk,handlePageInfoChange:c.pagechange.bind(this),showCheck:!0,showIndex:!0,onSelected:function(){o.default.headBtnVisible(e.props)},onSelectedAll:function(){o.default.headBtnVisible(e.props)},onRowDoubleClick:function(t,a,r,n){c.go2Card(e.props,{status:d.viewmode.browse,id:t[d.field.pk].value},{getStateFunc:e.getState.bind(e)})},componentInitFinished:function(){o.default.headBtnVisible(e.props)}})),React.createElement("div",{className:"nc-faith-demo-div2"},h&&React.createElement(S,{onHide:function(){e.setState({showUploader:!1})},billId:g,target:null,placement:"bottom",billNo:w})),React.createElement("div",null,P&&React.createElement(O,{title:k(this.props,"36300-000015"),data:A,display:P,getResult:function(t){var a={};t&&(a.content=JSON.stringify(t)),e.setState({assignShow:!1,assignData:null}),c.listSingleNoRecordAction(e.props,d.url.common.commit,g,y,C,k(e.props,"36300-000025"),a)},cancel:function(){e.setState({assignShow:!1,assignData:null})},hideNote:!1})),React.createElement("div",null,E&&React.createElement(p,{title:k(this.props,"36300-000034"),label:k(this.props,"36300-000034"),show:E,onOk:function(t){c.rebackConfirm(e.props,{pk:g,ts:y,index:C,reason:t,updateStateFunc:e.updateState.bind(e)})},onClose:function(){e.setState({showReBack:!1})}})),React.createElement("div",null,T&&React.createElement(R,{show:T,billtype:d.comm.billType,billid:g,close:function(){e.setState({showApproveDetail:!1,pk:null})}})),React.createElement("div",null,j&&React.createElement(_,{show:j,close:function(){e.setState({showBillReview:!1,pk:null})},pk:g,type:d.comm.billType})))}},{key:"updateState",value:function(e){e&&0!=Object.keys(e).length&&this.setState(e)}},{key:"getState",value:function(e){return this.state[e]}}]),t}(f);P=b({billinfo:{billtype:"card",pagecode:d.list.pageCode}})(P),t.default=P},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(153)),n=i(a(106)),o=a(84),l=i(a(83));function i(e){return e&&e.__esModule?e:{default:e}}t.default={initTemplate:r.default,buttonClick:n.default,method:l.default,headBtnVisible:o.headBtnVisible}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:u.list.pageCode},(function(a){m.call(t,e,a)}))};var r=c(a(15)),n=c(a(106)),o=a(154),l=c(a(83)),i=a(84);function c(e){return e&&e.__esModule?e:{default:e}}var u=r.default.cons,s=r.default.api,d=s.comm,f=d.setDefOrg2AdvanceSrchArea,p=d.setDefOrg2ListSrchArea,v=d.loadMultiLang,m=function(e,t){if(t){if(t.template){var a=t.template;b.call(this,e,a),f(e,u.list.searchCode,t),e.meta.setMeta(a),p(e,u.list.searchCode,t)}if(t.button){var r=t.button;e.button.setButtons(r),(0,i.headBtnVisible)(e),e.button.setPopContent("deleterow",v(e,"36300-000021"))}y.call(this,e)}},b=function(e,t){t[u.list.searchCode].items.map((function(t){t.isShowDisabledData=!0,(0,o.searchFilter)(e,t)})),h.call(this,e,t),g.call(this,e,t)},h=function(e,t){var a=this;t[u.list.tableCode].items.map((function(t,r){return"vbillno"==t.attrcode&&(t.render=function(t,r,n){return React.createElement("a",{style:{cursor:"pointer"},onClick:function(){l.default.go2Card(e,{status:u.viewmode.browse,id:r[u.field.pk].value},{getStateFunc:a.getState.bind(a)})}},r[u.field.vbillno]?r[u.field.vbillno].value:"")}),t}))},g=function(e,t){var a=this;s.comm.isLink()||t[u.list.tableCode].items.push({attrcode:"opr",label:v(e,"36300-000032"),width:200,fixed:"right",className:"table-opr",visible:!0,itemtype:"customer",render:function(t,r,o){return e.button.createErrorButton({record:r,showBack:!1,sucessCallBack:function(){return e.button.createOprationButton((0,i.getBodyBtnArr)(e,r),{area:u.list.btnRowCode,buttonLimit:u.list.buttonLimit,onButtonClick:function(e,l){n.default.call(a,e,l,t,r,o)}})}})}})},y=function(e){l.default.loadCacheData(e,this.updateState.bind(this));var t=e.getUrlParam(u.tmpubcons.urlparam.SCENE);u.tmpubcons.scene.LINK!=t&&u.tmpubcons.scene.FIP!=t||l.default.loadLinkData.call(this,e)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchFilter=void 0;var r,n=a(15);var o=((r=n)&&r.__esModule?r:{default:r}).default.cons;t.searchFilter=function(e,t){"pk_org"==t.attrcode?(t.isTreelazyLoad=!1,t.queryCondition=function(){return{funcode:o.comm.appCode,TreeRefActionExt:o.filter.fundorgfilter}}):"cashgatherb.pk_accid"==t.attrcode?t.queryCondition=function(){return{pk_org:(e.search.getSearchValByField(o.list.searchCode,"pk_org").value||{}).firstvalue,isSelectArea:!0,pk_payfinanceorg:(e.search.getSearchValByField(o.list.searchCode,"cashgatherb.pk_payfinanceorg").value||{}).firstvalue.split(",")[0],pk_currtype:(e.search.getSearchValByField(o.list.searchCode,"pk_currtype").value||{}).firstvalue.split(",")[0],GridRefActionExt:o.filter.inneraccfilter}}:"cashgatherb.pk_cashbankacc"==t.attrcode?(t.queryCondition=function(){return{pk_org:(e.search.getSearchValByField(o.list.searchCode,"pk_org").value||{}).firstvalue.split(",")[0],pk_currtype:(e.search.getSearchValByField(o.list.searchCode,"pk_currtype").value||{}).firstvalue.split(",")[0],GridRefActionExt:o.filter.cashaccfilter}},t.isShowUnit=!0):"cashgatherb.pk_bankacc"==t.attrcode?(t.queryCondition=function(){return{pk_org:(e.search.getSearchValByField(o.list.searchCode,"pk_org").value||{}).firstvalue.split(",")[0],pk_currtype:(e.search.getSearchValByField(o.list.searchCode,"pk_currtype").value||{}).firstvalue.split(",")[0],GridRefActionExt:o.filter.bankaccfilter}},t.isShowUnit=!0):"cashgatherb.pk_payfinanceorg"==t.attrcode&&(t.isShowUnit=!0)}}])}));
//# sourceMappingURL=index.1768156c.js.map