/*! @ncctag {"provider":"test","date":"2020-5-11 22:19:54"} */
(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[9],{114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beforeEvent=t.buttonVisible=t.pageInfoClick=t.initTemplate=t.afterEvent=t.buttonClick=void 0;var a=u(r(92)),n=u(r(205)),o=u(r(119)),i=u(r(211)),l=u(r(118)),s=u(r(115));function u(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=a.default,t.afterEvent=o.default,t.initTemplate=n.default,t.pageInfoClick=i.default,t.buttonVisible=l.default,t.beforeEvent=s.default},115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paymentBeforeUtil=t.customerAllowInputProcess=void 0,t.default=l;var a=r(0),n=r(25);r(18),o(r(27)),o(r(206)),o(r(26));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,o,i,l){var k=e.form.getFormItemsValue(n.card_from_id,"pk_org").value,I=e.form.getFormItemsValue(n.card_from_id,"pk_transactorg").value,P=(e.form.getFormItemsValue(n.card_from_id,"pk_fundpayorg")||{}).value,w=(e.form.getFormItemsValue(n.card_from_id,"pk_vsourcebilltype").value,e.form.getFormItemsValue(n.card_from_id,"vsourcebustype").value,e.form.getFormItemsValue(n.card_from_id,"isexchangepay").value),T=e.getUrlParam("status"),C=e.getUrlParam("isCopy"),S=d(e),O="deal"==e.getUrlParam("status"),B="";if(t==n.card_from_id){var M=e.form.getFormItemsDisabled(n.card_from_id,r);switch(r){case"pk_org":return!(T&&"edit"==T||T&&"deal"==T||T&&"add"==T&&C);case"pk_fundpayorg":var R=e.form.getFormItemsValue(n.card_from_id,"delivertype").value;return!(!p(e)||n.IClearConst.DeliverType_Step!=R);case"pk_transactorg":return!m(e)&&(!p(e)&&!v(e));case"pk_costcenter":return k==I;case"isreversebustype":case"pk_currtype":return!!S;case"pk_clearoutaccount":var x={},D=(e.form.getFormItemsValue(n.card_from_id,"clearoutacctype")||{}).value;return D&&"inneraccount"!=D?(x.pk_clearoutbankaccount=!0,x.pk_clearoutaccount=!1):(x.pk_clearoutbankaccount=!1,x.pk_clearoutaccount=!0),e.form.setFormItemsVisible(n.card_from_id,x),I!=k;case"pk_clearoutplan":case"pk_clearinplan":return I!=k;case"paytotalmnt":case"pk_paycurrtype":case"exprice":return!!f(e);case"isexchangepay":return!p(e);default:return!M}}else if(t==n.card_table1_id)switch(r){case"pk_financeorg_p":if(b(e)||m(e)||k!==P)return!1;if(p(e)){var F=e.form.getFormItemsValue(n.card_from_id,"delivertype").value;return n.IClearConst.DeliverType_Step==F}return!0;case"pk_inneraccount_p":if(b(e)||m(e)||k!==P)return!1;if(p(e)){var A=e.form.getFormItemsValue(n.card_from_id,"delivertype").value;return n.IClearConst.DeliverType_Step==A}return!(l&&!l.values.pk_financeorg_p.value)||((0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000105")}),!1);case"pk_company_r":return!!S;case"pk_bankaccount_r":return!!S&&(!(l&&!l.values.pk_company_r.value)||((0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000106")}),!1));case"bankname_r":case"bankaccountname_r":case"pk_bankname_r":case"custaccprop":return!b(e)&&!(l&&l.values.pk_bankaccount_r.value&&!this.isbankaccrinput);case"pk_personnel":return!b(e);case"pk_balatype":return!0;case"oripaymode":case"pk_financeplan":return!!S;case"amount":return!!m(e)||!!S;case"olcrate":case"glcrate":case"gllcrate":return!!S&&c(e,t,r,o,i,l);default:return!0}else{if(t!=n.card_table2_id)return!0;switch(r){case"fundtype":return!1;case"paymode":return!p(e)&&(!m(e)&&(!v(e)&&!!y(e,t,r,o,i,l)));case"pk_fundbankaccount_p":if(p(e))return!1;if(m(e))return!1;if(!g(e))return!1;var N=e.form.getFormItemsValue(n.card_from_id,"pk_paycurrtype").value;return f(e)&&!N?((0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000115")}),!0):c(e,t,r,o,i,l);case"pk_fundcashaccount":return!p(e)&&(!m(e)&&(!!y(e,t,r,o,i,l)&&(!!g(e)&&(B=_(e,i),n.IPaymentConst.Pay_Cash.value===B))));case"isnetpay":return!p(e)&&(!m(e)&&(!v(e)&&(B=_(e,i),n.IPaymentConst.Pay_Cash.value!=B&&n.IPaymentConst.Pay_Note.value!=B&&n.IPaymentConst.Pay_Proxy.value!=B&&c(e,t,r,o,i,l))));case"pay_type":case"issamebank":case"issamecity":return!(l&&!l.values.isnetpay.value);case"pk_fundplan":return!!g(e);case"amount":return!p(e)&&(!!y(e,t,r,o,i,l)&&!m(e));case"olcrate":case"glcrate":case"gllcrate":return c(e,t,r,o,i,l);case"pk_allotaccount":return!p(e)&&(!m(e)&&(!!y(e,t,r,o,i,l)&&(!!g(e)&&(B=_(e,i),n.IPaymentConst.Pay_Back.value===B||n.IPaymentConst.Pay_Group.value==B))));case"pk_notetype":return!m(e)&&_(e,i)==n.IPaymentConst.Pay_Note.value;case"billno":case"notenumber":if(p(e))return!1;if(m(e))return!1;if(!g(e))return!1;if(_(e,i)!=n.IPaymentConst.Pay_Note.value)return!1;var j=c(e,t,r,o,i,l);return s(e,t,j,l),u(e,l,j),!0;case"direct_ecds":return!p(e)&&(!m(e)&&(!!g(e)&&(_(e,i)==n.IPaymentConst.Pay_Note.value&&c(e,t,r,o,i,l))));case"isfees":return!(!I||!k)&&(!(w&&"Y"==w||w&&1==w)&&(!v(e)&&!p(e)));case"feedirection":case"feeamount":return!!h(e,i);case"pk_drawer":return!O||!v(e);default:return!0}}}var s=function(e,t,r,a){var o=e.meta.getMeta(),i=o[n.card_table2_id].items,l=o[n.card_tableedit2_id].items;i.forEach((function(t){"notenumber"==t.attrcode&&(r&&"refer"!=t.itemtype?(t.showHistory=!1,t.isCacheable=!1,t.itemtype="refer",t.refcode="fbm/refer/fbm/Bill4FtsPayGridRef/index.js",t.queryCondition=function(){var t=(e.form.getFormItemsValue(n.card_from_id,"pk_currtype")||{}).value;return{pk_org:e.form.getFormItemsValue(n.card_from_id,"pk_org").value,pk_curr:t,fbmbilltype:(a.values.pk_notetype||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayBodyPkNoteFilter"}}):r&&"refer"==t.itemtype?(t.showHistory=!1,t.isCacheable=!1,t.queryCondition=function(){var t=(e.form.getFormItemsValue(n.card_from_id,"pk_currtype")||{}).value;return{pk_org:e.form.getFormItemsValue(n.card_from_id,"pk_org").value,pk_curr:t,fbmbilltype:(a.values.pk_notetype||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayBodyPkNoteFilter"}}):(t.itemtype="input",t.refcode=null))})),l.forEach((function(t){"notenumber"==t.attrcode&&(r&&"refer"!=t.itemtype?(t.showHistory=!1,t.isCacheable=!1,t.itemtype="refer",t.refcode="fbm/refer/fbm/Bill4FtsPayGridRef/index.js",t.queryCondition=function(){var t=(e.form.getFormItemsValue(n.card_from_id,"pk_currtype")||{}).value;return{pk_org:e.form.getFormItemsValue(n.card_from_id,"pk_org").value,pk_curr:t,fbmbilltype:(a.values.pk_notetype||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayBodyPkNoteFilter"}}):r&&"refer"==t.itemtype?(t.showHistory=!1,t.isCacheable=!1,t.queryCondition=function(){var t=(e.form.getFormItemsValue(n.card_from_id,"pk_currtype")||{}).value;return{pk_org:e.form.getFormItemsValue(n.card_from_id,"pk_org").value,pk_curr:t,fbmbilltype:(a.values.pk_notetype||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayBodyPkNoteFilter"}}):(t.itemtype="input",t.refcode=null))})),e.meta.setMeta(o),e.renderItem("table",t,"notenumber",null)},u=(t.customerAllowInputProcess=function(e,t,r,a){var o=e.meta.getMeta(),i=o[n.card_table1_id].items,l=o[n.card_tableedit1_id].items;i.forEach((function(e){var t=e.attrcode;"pk_company_r"!=t&&"pk_bankaccount_r"!=t&&"pk_bankname_r"!=t||(e.checkStrictly=!r)})),l.forEach((function(e){var t=e.attrcode;"pk_company_r"!=t&&"pk_bankaccount_r"!=t&&"pk_bankname_r"!=t||(e.checkStrictly=!r)})),e.meta.setMeta(o)},t.paymentBeforeUtil=function(e,t,r,a,o,s,u){var c=!1,d=!0,p=!1,f=void 0;try{for(var m,b=e[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){var y=m.value;r==n.card_from_id?(c=l.call(this,t,r,y,o,s,u),t.form.setFormItemsDisabled(n.card_from_id,i({},y,!c))):(c=l.call(this,t,r,y,o,s,u),"olcrate"==y?(t.cardTable.setColEditableByKey(n.card_table1_id,[y],c),t.cardTable.setColEditableByKey(n.card_table2_id,[y],c)):t.cardTable.setColEditableByKey(r,[y],c))}}catch(e){p=!0,f=e}finally{try{!d&&b.return&&b.return()}finally{if(p)throw f}}},function(e,t,r){for(var a=e.cardTable.getAllRows(n.card_table2_id,!1),o=0;o<a.length;o++){var i=a[o];if(t.rowid!=i.rowid&&t.values.pk_notetype.value!=i.values.pk_notetype.value){var l=i.values.pk_billno.value,s=i.values.billno.value;i.values.notenumber=r?{value:s,display:s}:{value:l,display:s}}}var u={rows:a};e.cardTable.updateTableData(n.card_table2_id,u)}),c=function(e,t,r,o,i,l){var s=e.createExtCardData(n.card_page_id,n.card_from_id,[n.card_table1_id,n.card_table2_id]),u=!0;return(0,a.ajax)({url:n.base_url+"paymentcardbeforeedit.do",data:{data:JSON.stringify(s),pageCode:n.card_page_id,areaCode:t,key:r,index:i},async:!1,success:function(e){u=e.data},error:function(e){u=!1,(0,a.toast)({color:"warning",content:e.message})}}),console.log("ajax返回信息：",u),u},d=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"vsourcebustype").value;return n.busType.BusType_BillHand==t},p=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"isinform").value;return!!(t&&1==t||t&&"Y"==t)},f=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"isexchangepay").value;return!!(t&&1==t||t&&"Y"==t)},m=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"vsourcebustype").value;return n.busType.BusType_BillFBM==t},b=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"vsourcebustype").value;return n.busType.BusType_BillPay==t},y=function(e,t,r,a,n,o){return!b(e)||c(e,t,r,a,n,o)},g=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"pk_org").value,r=e.form.getFormItemsValue(n.card_from_id,"pk_transactorg").value;return!(!t||!r||r!=t)},_=function(e,t){return e.cardTable.getValByKeyAndIndex(n.card_table2_id,t,"paymode").value},h=function(e,t){var r=e.cardTable.getValByKeyAndIndex(n.card_table2_id,t,"isfees").value;return!!(r&&1==r||r&&"Y"==r)},v=function(e){var t=e.form.getFormItemsValue(n.card_from_id,"ispayroll").value;return!!(t&&1==t||t&&"Y"==t)}},118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonVisible=void 0;r(0);var a=r(25),n=(r(2),r(7)),o=a.card_from_id,i=(a.card_page_id,a.card_table1_id),l=a.card_table2_id,s=a.card_hidden_buttons;t.buttonVisible=function(e){var t=this.props.getUrlParam("status"),r="browse"!==t,u=this.props.form.getFormItemsValue(o,"pk_payment");u=u&&u.value;var c=this.props.form.getFormItemsValue(o,"pk_org"),d=!!(c=c&&c.value),p=!!u,f=this.copyflag1||!1,m=this.copyflag2||!1,b="deal"!=t,y=(this.props.form.getFormItemsValue(o,"isinform")||{}).value,g=(this.props.form.getFormItemsValue(o,"ispayroll")||{}).value;y=!!(y&&1==y||y&&"Y"==y),g=!!(g&&1==g||g&&"Y"==g);var _=!1,h=this.props.form.getFormItemsValue(a.card_from_id,"vsourcebustype")&&this.props.form.getFormItemsValue(a.card_from_id,"vsourcebustype").value;a.busType.BusType_BillFBM==h&&(_=!0),r&&(e.button.setButtonVisible(["AddLine","DelLine","CopyLine"],!f),e.button.setButtonVisible(["CancelLine","CopyLineLast"],f&&b),b&&d||e.button.setButtonDisabled(["AddLine","DelLine","CopyLine"],!0),e.button.setButtonVisible(["AddLine2","DelLine2","CopyLine2"],!m),e.button.setButtonVisible(["CancelLine2","CopyLineLast2"],m),(y||g||!d)&&e.button.setButtonDisabled(["AddLine2","DelLine2","CopyLine2"],!0),_&&(e.button.setButtonDisabled(["AddLine2","DelLine2","CopyLine2"],!0),e.button.setButtonDisabled(["AddLine","DelLine","CopyLine"],!0)));var v=this.props.form.getFormItemsValue(a.card_from_id,"vsourcebustype")&&this.props.form.getFormItemsValue(a.card_from_id,"vsourcebustype").value,k=this.props.form.getFormItemsValue(o,"billstatus");k=k&&k.value;var I=this.props.form.getFormItemsValue(o,"vbillstatus");I=I&&I.value||!1;var P=this.props.form.getFormItemsValue(o,"voucherflag");if(P=P&&P.value||!1,0!=e.button.getButtons().length){var w=(0,n.getDefData)(a.PaymentConst.dataSource,a.PaymentConst.islink);if("browse"===t){var T=s.concat("AddLine","DelLine","CopyLine","AddLine2","DelLine2","CopyLine2","CancelLine","CopyLineLast","CancelLine2","CopyLineLast2","OffiPrint","InOffiPrint","LinkReturnBill");e.button.setButtonVisible(T,!1),p?w?(e.button.setButtonVisible(["linkgroup","File","Print","Refresh","LinkReturnBill"],!0),e.button.setButtonVisible(["OffiPrint","InOffiPrint"],!1)):"0"===k?(e.button.setButtonVisible(["Add","Edit","Delete","Copy","Commit","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,LinkCheckPayBill:!0}),e.button.setMainButton({Commit:!0,Add:!1})):"1"===k&&v==a.busType.BusType_BillHand?(e.button.setButtonVisible(["Add","Copy","Decide","Uncommit","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,LinkCheckPayBill:!0}),e.button.setMainButton({Decide:!0,Add:!1})):"1"===k&&v!=a.busType.BusType_BillHand?(e.button.setButtonVisible(["Add","Copy","Decide","Back","BankAccReWrite","linkgroup","File","Print","Refresh","Uncommit"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,LinkCheckPayBill:!0}),e.button.setMainButton({Decide:!0,Add:!1})):"2"===k?(e.button.setButtonVisible(["Add","Copy","Undecide","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,LinkCheckPayBill:!0})):"3"===k?(e.button.setButtonVisible(["Add","Copy","Pay","MergePay","CallBackPay","RecoveryFund","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,Pay:!1,LinkCheckPayBill:!0}),e.button.setMainButton({Pay:!0,Add:!1})):"4"===k?(e.button.setButtonVisible(["Add","Copy","Pay","MergePay","CallBackPay","RecoveryFund","UnionCheckPayBill","QueryStatus","PayChangeBill","Abolish","LinkCheckPayBill","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled({BankAccReWrite:!1,DownRewrite:!1,UpRewrite:!1,Pay:!1,LinkCheckPayBill:!1}),e.button.setMainButton(["Add","Pay"],!1)):"5"===k?(e.button.setButtonVisible(["Add","Copy","Deliver","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled(["LinkCheckPayBill"],!0),e.button.setMainButton({Deliver:!0,Add:!1})):"6"===k?(e.button.setButtonVisible(["Add","Copy","Undeliver","BankAccReWrite","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled(["LinkCheckPayBill"],!0),e.button.setMainButton(["Add"],!1)):"8"!==k||P?"8"===k&&P?(e.button.setButtonVisible(["Add","Copy","Unpremit","BankAccReWrite","linkgroup","File","Print","Refresh","OffiPrint","InOffiPrint","LinkReturnBill"],!0),e.button.setButtonDisabled({BankAccReWrite:!0,DownRewrite:!0,UpRewrite:!0,LinkCheckPayBill:!1}),e.button.setMainButton(["Add"],!1)):"10"===k&&(e.button.setButtonVisible(["Add","Copy","BankAccBrowse","DownRewriteBrowse","UpRewriteBrowse","QueryStatus","linkgroup","File","Print","Refresh"],!0),e.button.setButtonDisabled(["BankAccReWrite","DownRewrite","UpRewrite","Pay"],!0),e.button.setMainButton(["Add"],!1)):(e.button.setButtonVisible(["Add","Copy","Pay","UnPay","QueryStatus","Premit","BankAccReWrite","linkgroup","File","Print","Refresh","OffiPrint","InOffiPrint","LinkReturnBill"],!0),e.button.setButtonDisabled({BankAccReWrite:!0,DownRewrite:!0,UpRewrite:!0,Pay:!0,LinkCheckPayBill:!1}),e.button.setMainButton({Premit:!0,Add:!1,Pay:!1})):(e.button.setButtonVisible(["Add"],!0),e.button.setMainButton(["Add"],!0),e.button.setButtonVisible(["linkgroup","File","Print","Refresh"],!1))}else e.button.setButtonVisible(a.card_hidden_buttons,!1),b?(e.button.setButtonVisible(["linkgroup","File","Print","Refresh","Pay"],!1),e.button.setButtonVisible(["Save","SaveAdd","SaveCommit","Cancel"],!0)):(e.button.setButtonVisible(["SaveAdd","SaveCommit","linkgroup","File","Print","Refresh","Pay"],!1),e.button.setButtonVisible(["Save","Cancel"],!0),"1"===k&&v==a.busType.BusType_BillFBM&&(e.button.setButtonVisible(a.Button_CardHeadDisable,!1),e.button.setButtonVisible(["CopyThisLine","InsertLine","DeleteLine"],!1))),e.button.setMainButton(["Save"],!0);e.cardPagination.setCardPaginationVisible("cardPaginationBtn",!r),t="browse"==t?"browse":"edit",e.form.setFormStatus(o,t),e.cardTable.setStatus(i,t),e.cardTable.setStatus(l,t)}}},119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customerInputCleatValue=t.customerResetDisplay=t.customerResetDisplayFormSave=t.customerResetDisplayFormQuery=t.fbmbillnoAfterEdit=t.handleOrgChangeSure=void 0,t.default=function(e,t,r,a,o,i,l,b){var _=e.getUrlParam("status"),h=_;"deal"==_&&(h="decide");var v=void 0,k=void 0,I=void 0,P=void 0;switch(r){case"pk_org":if(v=e.createHeadAfterEventData(n.card_page_id,n.card_from_id,[n.card_table1_id,n.card_table2_id],n.card_from_id,r,a),k=v.newvalue,I=v.oldvalue,c=JSON.stringify(I),I.value&&k.value&&k.value!=I.value||I.value&&!k||I.value&&!k.value)e.modal.show("MessageDlg",{title:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000000"),content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000001"),leftBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000002"),rightBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000003"),beSureBtnClick:p.bind(this,e,t,r,a,o,i,v),cancelBtnClick:f.bind(this,e,t,r,a,I,v)});else if(k&&k.value)p.call(this,e,t,r,a,o,i,v);else if(!k||!k.value){var w;e.form.EmptyAllFormValue(this.formId),e.cardTable.setMulTablesData((u(w={},this.tableId1,{rows:[]}),u(w,this.tableId2,{rows:[]}),w)),e.initMetaByPkorg()}break;case"pk_fundpayorg":y.call(this,e,t,r,a,o,i,v);break;case"bodyevent":var T=e.cardTable.getNumberOfRows(n.card_table1_id),C=e.cardTable.getNumberOfRows(n.card_table2_id);parseInt(T)>0&&parseInt(C)>0&&y.call(this,e,t,r,a,o,i,v);break;case"pk_currtype":case"pk_paycurrtype":case"isexchangepay":case"exprice":y.call(this,e,t,r,a,o,i,v);break;case"pk_transactorg":d=JSON.stringify(o);for(var S=[],O=e.cardTable.getAllRows(n.card_table2_id,!1),B=0;B<O.length;B++){var M=O[B];M.values.pk_fundbankaccount_p&&M.values.pk_fundbankaccount_p.value&&S.push(M.values.pk_fundbankaccount_p.value)}S&&S.length>0?e.modal.show("MessageDlg",{title:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000000"),content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000004"),leftBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000002"),rightBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000003"),beSureBtnClick:y.bind(this,e,t,r,a,o,i,v,d),cancelBtnClick:m.bind(this,e,t,r,a,d,v)}):y.call(this,e,t,r,a,o,i,v);break;case"clearoutacctype":var R={},x=(e.form.getFormItemsValue(n.card_from_id,"clearoutacctype")||{}).value;x&&"inneraccount"!=x?(R.pk_clearoutbankaccount=!0,R.pk_clearoutaccount=!1):(R.pk_clearoutbankaccount=!1,R.pk_clearoutaccount=!0),e.form.setFormItemsVisible(n.card_from_id,R);break;case"oripaymode":P={rowno:i,uiState:h},o[0].oldvalue.value||(o[0].oldvalue.value="directpay",o[0].oldvalue.display=this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000064")),g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P,!0);break;case"pk_clearoutbankaccount":e.form.setFormItemsValue(n.card_from_id,{pk_clearoutaccount:{value:e.form.getFormItemsValue(n.card_from_id,"pk_clearoutbankaccount")&&e.form.getFormItemsValue(n.card_from_id,"pk_clearoutbankaccount").value,display:e.form.getFormItemsValue(n.card_from_id,"pk_clearoutbankaccount")&&e.form.getFormItemsValue(n.card_from_id,"pk_clearoutbankaccount").display}});break;case"olcrate":case"glcrate":case"gllcrate":case"amount":P={rowno:i},g.call(this,e,t,r,a,o,i,v,t,P);break;case"pk_company_r":a&&a.values?(this.iscustomerinput=!1,P={rowno:i,custName:a&&a.refname},g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P)):(this.iscustomerinput=!0,P={rowno:i,custName:a&&a.refname,isinput:!0},g.call(this,e,t,"company_r",a,o,i,v,n.card_table1_id,P));break;case"pk_bankaccount_r":a&&a.values?(this.isbankaccrinput=!1,P={rowno:i,bankaccount:a&&a.refcode,bankaccountname:a&&a.refname,bankname:a&&a.values&&a.values.bankdoc_name&&a.values.bankdoc_name.value},g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P)):(this.isbankaccrinput=!0,P={rowno:i,bankaccount:a&&a.refcode,isinput:!0},g.call(this,e,t,"bankaccount_r",a,o,i,v,n.card_table1_id,P));break;case"pk_bankname_r":a&&a.values?(this.isbankinput=!1,P={rowno:i,bankname:a&&a.refname},g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P)):(this.isbankinput=!0,P={rowno:i,bankname:a&&a.refname||a&&a.refcode,isinput:!0},g.call(this,e,t,"bankname_r",a,o,i,v,n.card_table1_id,P));break;case"custaccprop":case"bankaccountname_r":P={rowno:i},g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P);break;case"pk_financeorg_p":a&&a.values&&a.refpk&&a.values.pk_group&&a.values.pk_group.value&&(0,s.setDefData)(n.PaymentConst.dataSource,a&&a.refpk,a&&a.values&&a.values.pk_group&&a.values.pk_group.value),P={rowno:i},g.call(this,e,t,r,a,o,i,v,n.card_table1_id,P,!0);break;case"paymode":P={uiState:h},o[0].oldvalue.value||(o[0].oldvalue.value="directpay",o[0].oldvalue.display=this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000064")),g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"isnetpay":P={uiState:h},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"pk_fundbankaccount_p":P={rowno:i,fundbankacc:a&&a.refcode,fundbankaccname:a&&a.values&&a.values["bd_bankaccsub.accname"]&&a.values["bd_bankaccsub.accname"].value},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"pk_allotaccount":P={rowno:i,allotaccount:a&&a.refcode,allotaccname:a&&a.values&&a.values["bd_bankaccsub.accname"]&&a.values["bd_bankaccsub.accname"].value},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"pk_notetype":P={rowno:i},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"notenumber":console.log(a,"notenumber的value"),P={pk_billno:a&&a.refpk,billno:a&&a.refcode,amount:a&&a.values&&a.values.money&&a.values.money.value},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P);break;case"isfees":g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P,!0);break;case"feeamount":P={rowno:i},g.call(this,e,t,r,a,o,i,v,n.card_table2_id,P)}};var a=r(0),n=r(25),o=r(18),i=r(92),l=r(115),s=r(7);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={},d={};var p=t.handleOrgChangeSure=function(e,t,r,a,n,o,i){e.resMetaAfterPkorgEdit();var l,s=i.newvalue;s&&s.value?b.call(this,e,t,r,a,n,o,i):(e.form.EmptyAllFormValue(this.formId),e.cardTable.setMulTablesData((u(l={},this.tableId1,{rows:[]}),u(l,this.tableId2,{rows:[]}),l)),e.initMetaByPkorg());this.toggleShow()},f=function(e,t,r,a,o,i){var l=JSON.parse(c);e.resMetaAfterPkorgEdit(),e.form.setFormItemsValue(n.card_from_id,{pk_org:{value:l.value,display:l.display}})},m=function(e,t,r,a,o,i){var l=JSON.parse(o);e.form.setFormItemsValue(n.card_from_id,u({},r,{value:l.value,display:l.display}))},b=function(e,t,r,s,c,d,p){var f=this,m={uiState:e.getUrlParam("status")};(0,a.ajax)({url:n.base_url+"paymentafteredit.do",data:{eventPosition:"head",eventType:"card",eventData:JSON.stringify(p),extParam:m},success:function(t){var r=t.success,a=t.data;if(r){var s,c=a.card,d=a.extParam,p=a.headItemProps,m=(a.bodyItemProps,c.head);e.form.setAllFormValue(u({},n.card_from_id,m[n.card_from_id])),e.form.setFormItemsValue(n.card_from_id,{isautorelation:{value:!0,display:!0}}),(0,o.setHeadItemProp)(e,n.card_from_id,p);var b={},y=(e.form.getFormItemsValue(n.card_from_id,"clearoutacctype")||{}).value;y&&"inneraccount"!=y?(b.pk_clearoutbankaccount=!0,b.pk_clearoutaccount=!1):(b.pk_clearoutbankaccount=!1,b.pk_clearoutaccount=!0),e.form.setFormItemsVisible(n.card_from_id,b),e.cardTable.setMulTablesData((u(s={},f.tableId1,{rows:[]}),u(s,f.tableId2,{rows:[]}),s));if(l.paymentBeforeUtil.call(f,["pk_fundpayorg","pk_costcenter","pk_clearoutaccount","pk_clearoutplan","pk_clearinplan","paytotalmnt","pk_paycurrtype","exprice"],e,n.card_from_id),i.addLineProcess.call(f,e,f.tableId1,0),d.hasOwnProperty("bodyOlcRateEditable")){var g="N"==d.bodyOlcRateEditable;f.rateflag=g,console.log("rateflag",g),e.cardTable.setColEditableByKey(n.card_table1_id,["olcrate"],g),e.cardTable.setColEditableByKey(n.card_table2_id,["olcrate"],g)}if(d.hasOwnProperty("iscustallowinput")){var _="Y"==d.iscustallowinput;f.isallowflag=_,(0,l.customerAllowInputProcess)(e,n.card_table1_id,_),e.cardTable.setColEditableByKey(n.card_table1_id,"bankaccountname_r",!_)}}}})},y=function(e,t,r,i,l,s,c,d,p){var f,m=this,b=void 0;f=(c=e.createHeadAfterEventData(n.card_page_id,n.card_from_id,[n.card_table1_id,n.card_table2_id],n.card_from_id,r,i)).newvalue,(b=d?JSON.parse(d):c.oldvalue)&&b.value&&f.value==b.value&&"bodyevent"!=r||(0,a.ajax)({url:n.base_url+"paymentafteredit.do",async:!1,data:{eventPosition:"head",eventType:"card",eventData:JSON.stringify(c),extParam:void 0},success:function(i){var l=i.success,s=i.data;if(l){var c,d=s.card,f=s.extParam,b=s.headItemProps,y=s.bodyItemProps,g=d.head,_=d.bodys;if(e.form.setAllFormValue(u({},n.card_from_id,g[n.card_from_id])),(0,o.setHeadItemProp)(e,n.card_from_id,b),"pk_fundpayorg"==r||"pk_transactorg"==r){var v={},k=(e.form.getFormItemsValue(n.card_from_id,"clearoutacctype")||{}).value;k&&"inneraccount"!=k?(v.pk_clearoutbankaccount=!0,v.pk_clearoutaccount=!1):(v.pk_clearoutbankaccount=!1,v.pk_clearoutaccount=!0),e.form.setFormItemsVisible(n.card_from_id,v)}if(e.cardTable.setMulTablesData((u(c={},n.card_table1_id,_[n.card_table1_id]),u(c,n.card_table2_id,_[n.card_table2_id]),c)),h.call(m,e,t),(0,o.setBodyItemProp)(e,y),f.hasOwnProperty("warning")&&(0,a.toast)({color:"warning",content:f.warning}),f.hasOwnProperty("bodyOlcRateEditable")){var I="N"==f.bodyOlcRateEditable;m.rateflag=I,e.cardTable.setColEditableByKey(n.card_table1_id,["olcrate"],I),e.cardTable.setColEditableByKey(n.card_table2_id,["olcrate"],I)}p&&"function"==typeof p&&p(e,s)}}})},g=function(e,t,r,i,l,s,c,d,p){var f=this,m=arguments.length>9&&void 0!==arguments[9]&&arguments[9],b=void 0;if(m){var y=t==n.card_table1_id?n.card_table2_id:n.card_table1_id;c=(0,o.buildLightBodyAfterEditData)(e,n.card_page_id,n.card_from_id,t,y,r,l,s)}else c=e.createBodyAfterEventData(n.card_page_id,n.card_from_id,[n.card_table1_id,n.card_table2_id],d,r,l);c.changedrows[0].newvalue,b=c.changedrows[0].oldvalue,(0,a.ajax)({url:n.base_url+"paymentafteredit.do",async:!1,data:{eventPosition:"body",eventType:"card",eventData:JSON.stringify(c),extParam:p},success:function(i){var l=i.success,c=i.data;if(l){var d=c.card,p=c.extParam,y=c.headItemProps,g=(c.bodyItemProps,d.head),v=d.bodys;e.form.setAllFormValue(u({},n.card_from_id,g[n.card_from_id])),(0,o.setHeadItemProp)(e,n.card_from_id,y),v&&v[n.card_table1_id]&&e.cardTable.updateDataByRowId(n.card_table1_id,v[n.card_table1_id]),"notenumber"!=r&&v&&v[n.card_table2_id]&&e.cardTable.updateDataByRowId(n.card_table2_id,v[n.card_table2_id]),p.hasOwnProperty("warning")&&(e.cardTable.saveChangedRowsOldValue(t,s,r,b&&b.value),(0,a.toast)({color:"warning",content:p.warning})),_(e,s,v[n.card_table2_id],m),h.call(f,e,t)}},error:function(n){e.cardTable.setValByKeyAndIndex(t,s,r,b),(0,a.toast)({color:"warning",content:n.message})}})},_=t.fbmbillnoAfterEdit=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r&&r.rows;if(o&&o.length>0){for(var i=0;i<o.length;i++){var l=o[i],s=(l.values.paymode||{}).value;if(n.IPaymentConst.Pay_Note.value==s){l.values.pk_billno.value;var c=l.values.billno.value;l.values.notenumber={value:c,display:c}}}a&&e.cardTable.updateDataByRowId(n.card_table2_id,r)}a||e.cardTable.setMulTablesData(u({},n.card_table2_id,r))},h=(t.customerResetDisplayFormQuery=function(e,t){var r=t.rows,a=r[0].values.pk_bankaccount_r.value,o=r[0].values.pk_bankname_r.value,i=r[0].values.pk_company_r.value;if(a&&o&&i)e.cardTable.setMulTablesData(u({},n.card_table1_id,t));else{i||(this.iscustomerinput=!0),a||(this.isbankaccrinput=!0),o||(this.isbankinput=!0);for(var l=0;l<r.length;l++){var s=r[l];if(!i){var c=s.values.company_r.value;s.values.pk_company_r={value:c,display:c}}if(!a){var d=s.values.bankaccount_r.value;s.values.pk_bankaccount_r={value:d,display:d}}if(!o){var p=s.values.bankname_r.value;s.values.pk_bankname_r={value:p,display:p}}}e.cardTable.setMulTablesData(u({},n.card_table1_id,t))}},t.customerResetDisplayFormSave=function(e,t){if(!this.isbankaccrinput&&!this.iscustomerinput&&!this.isbankinput)return t;for(var r=t[n.card_table1_id]&&t[n.card_table1_id].rows,a=0;a<r.length;a++){var o=r[a];if(this.isbankaccrinput){var i=o.values.company_r.value;o.values.pk_company_r={value:i,display:i}}if(this.iscustomerinput){var l=o.values.bankaccount_r.value;o.values.pk_bankaccount_r={value:l,display:l}}if(this.isbankinput){var s=o.values.bankname_r.value;o.values.pk_bankname_r={value:s,display:s}}}return h.call(this,e),t},t.customerResetDisplay=function(e,t){if(this.isbankaccrinput){var r=e.cardTable.getValByKeyAndIndex(n.card_table1_id,0,"bankaccount_r");e.cardTable.setColValue(n.card_table1_id,"pk_bankaccount_r",{value:r&&r.value,display:r&&r.value})}if(this.isbankinput){var a=e.cardTable.getValByKeyAndIndex(n.card_table1_id,0,"bankname_r");e.cardTable.setColValue(n.card_table1_id,"pk_bankname_r",{value:a&&a.value,display:a&&a.value})}if(this.iscustomerinput){var o=e.cardTable.getValByKeyAndIndex(n.card_table1_id,0,"company_r");e.cardTable.setColValue(n.card_table1_id,"pk_company_r",{value:o&&o.value,display:o&&o.value})}});t.customerInputCleatValue=function(e,t){this.isbankaccrinput&&e.cardTable.setColValue(n.card_table1_id,"pk_bankaccount_r",{value:null,display:null}),this.isbankinput&&e.cardTable.setColValue(n.card_table1_id,"pk_bankname_r",{value:null,display:null}),this.iscustomerinput&&e.cardTable.setColValue(n.card_table1_id,"pk_company_r",{value:null,display:null})}},13:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},17:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{restmoney:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"restmoney",tabRelation:["restmoney"]}},restmoney:{clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",code:"restmoney",items:[{itemtype:"input",visible:!0,label:this.state.json["360701OB-000041"],attrcode:"accountcode",maxlength:"20",metapath:"accountcode"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000042"],attrcode:"accountname",maxlength:"20",metapath:"accountname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000058"],attrcode:"currencyname",maxlength:"20",metapath:"currencyname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000043"],attrcode:"accounttype",disabled:!0,metapath:"accounttype"},{itemtype:"input",visible:!1,label:this.state.json["360701OB-000057"],code:"capitaltype",attrcode:"capitaltype",disabled:!0,metapath:"capitaltype"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000044"],attrcode:"currentbalance",maxlength:"28",metapath:"currentbalance"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000045"],attrcode:"surplusbalance",maxlength:"28",metapath:"surplusbalance"}],moduletype:"table",name:this.state.json["360701OB-000046"],pagination:!1,vometa:""},code:"restmoney",moduletype:"table",name:this.state.json["360701OB-000046"]},code:"360701OB_P01",formrelation:null,name:this.state.json["360701OB-000046"],metapath:"cmp_initdate",clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",pagetype:"Nochild"}}},18:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryRelationRowsByRowno=t.buildLightBodyAfterEditData=t.validateWriteOffMny=t.setBodyItemProp=t.setHeadItemProp=void 0;var a=r(1),n=(t.setHeadItemProp=function(e,t,r){var a=e.form,n={},o={},i={};if(r&&0!=r.length){var l=!0,s=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;if(p.hasOwnProperty("itemName")){var f=p.itemName;if(f){if(p.hasOwnProperty("editable")){var m=p.editable;null!=m&&(n[f]=!("true"==m))}if(p.hasOwnProperty("require")){var b=p.require;null!=b&&(o[f]="true"==b)}if(p.hasOwnProperty("visible")){var y=p.visible;null!=y&&(i[f]="true"==y)}}}}}catch(e){s=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(s)throw u}}Object.keys(o).length>0&&a.setFormItemsRequired(t,o),Object.keys(n).length>0&&a.setFormItemsDisabled(t,n),Object.keys(i).length>0&&a.setFormItemsVisible(t,i)}},function(e,t,r,a,n){if(r.hasOwnProperty("editable")&&null!=r.editable){var o=r.rowID,i=r.rowIndex,l=r.itemName,s=r.editable;s="true"===r.editable,o||i?o?e.cardTable.setEditableByRowId(t,o,l,s):i&&e.cardTable.setEditableByIndex(t,i,l,s):s?a.push(l):n.push(l)}}),o=function(e,t,r,a,n){if(r.hasOwnProperty("visible")&&null!=r.visible){r.rowID,r.rowIndex;var o=r.itemName;r.visible?a.push(o):n.push(o)}},i=(t.setBodyItemProp=function(e,t){if(e&&0!=Object.keys(t).length){var r=!0,a=!1,i=void 0;try{for(var l,s=Object.keys(t)[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value,c=t[u];if(0!=c.length){var d=[],p=[],f=[],m=[],b=!0,y=!1,g=void 0;try{for(var _,h=c[Symbol.iterator]();!(b=(_=h.next()).done);b=!0){var v=_.value;v.itemName&&(n(e,u,v,d,p),o(0,0,v,f,m))}}catch(e){y=!0,g=e}finally{try{!b&&h.return&&h.return()}finally{if(y)throw g}}d.length>0&&e.cardTable.setColEditableByKey(u,d,!0),p.length>0&&e.cardTable.setColEditableByKey(u,p,!1),f.length>0&&e.cardTable.showColByKey(u,f),m.length>0&&e.cardTable.hideColByKey(u,m)}}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}}},t.validateWriteOffMny=function(e,t,r,n){if(!(Math.sign(r)>=0)&&!(e.form.getFormItemsValue(t,n)&&e.form.getFormItemsValue(t,n).value))throw new Error((0,a.loadMultiLang)(e,"36300-000000"))},t.buildLightBodyAfterEditData=function(e,t,r,a,n,o,i,l){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];try{if(!(e&&t&&r&&a&&o&&i))throw new Error("参数缺失！");var c=s(e,t,r,a,n,o,i,l,u),d=c.card,p=d.body,f=d.bodys;return u&&1==p[a].rows.length||!u&&f[a].rows.length,c}catch(e){throw e}},function(e,t){var r={},a=e.form.getAllFormValue(t);return a.areacode=t,r[t]=a,r}),l=function(e,t,r,a){var n=e.cardTable.getChangedRows(t),o=a[0].rowid,i=[];if(n&&n.length>1){var l=!0,s=!1,c=void 0;try{for(var d,p=n[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value,m=f.rowid;if(m&&m==o){i.push(f);break}}}catch(e){s=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw c}}}else n&&1==n.length&&i.push(n[0]);var b={rows:i,areaType:"table",areacode:t},y={};y[t]=b;var g=i&&i[0].values.relationindex.value;if(g){var _=u(e,r,g);if(_&&_.length>0){var h={rows:_,areaType:"table",areacode:r};y[r]=h}}return y},s=function(e,t,r,a,n,o,s,u,c){var d={head:i(e,r),pageid:t};return c?d.body=l(e,a):d.bodys=l(e,a,n,s),{areacode:a,attrcode:o,card:d,changedrows:s,index:u}},u=t.queryRelationRowsByRowno=function(e,t,r){for(var a=[],n=e.cardTable.getAllRows(t,!1),o=0;o<n.length;o++){r==n[o].values.relationindex.value&&a.push(n[o])}return a}},205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllFinanceOrg=void 0,t.default=function(e){var t=this;e.createUIDom({pagecode:C,appcode:e.getUrlParam("c")},(function(r){if(r){if(r.template){var a=r.template;!function(e,t,r){var a="deal"!=t.getUrlParam("status"),n=!e.isallowflag;r[w].items.find((function(e){return"pk_bankaccount_p"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_bankaccount_r"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_bankname_r"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_financeplan"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_inneraccount_p"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_personnel"===e.attrcode})).showHistory=!1,r[w].items.find((function(e){return"pk_psnbankacc"===e.attrcode})).showHistory=!1,r[T].items.find((function(e){return"pk_allotaccount"===e.attrcode})).showHistory=!1,r[T].items.find((function(e){return"pk_fundbankaccount_p"===e.attrcode})).showHistory=!1,r[T].items.find((function(e){return"pk_fundcashaccount"===e.attrcode})).showHistory=!1,r[T].items.find((function(e){return"pk_fundplan"===e.attrcode})).showHistory=!1,(r[T].items.find((function(e){return"notenumber"===e.attrcode}))||{}).showHistory=!1,(r[T].items.find((function(e){return"notenumber"===e.attrcode}))||{}).isCacheable=!1,(r[w].items.find((function(e){return"pk_financeorg_p"===e.attrcode}))||{}).isShowUnit=!0,(r[P].items.find((function(e){return"pk_fundpayorg"===e.attrcode}))||{}).isShowUnit=!0,(r[P].items.find((function(e){return"pk_transactorg"===e.attrcode}))||{}).isShowUnit=!0,(r[P].items.find((function(e){return"pk_delgoorg"===e.attrcode}))||{}).isShowUnit=!0,(r[P].items.find((function(e){return"pk_delsourceorg"===e.attrcode}))||{}).isShowUnit=!0,r[P].items.map((function(e){"pk_org"==e.attrcode&&(e.queryCondition=function(){return{funcode:m.funcode,TreeRefActionExt:"nccloud.web.tmpub.filter.FundOrgPermissionFilter"}}),"pk_fundpayorg"==e.attrcode&&(e.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(P,"pk_org").value,isinform:t.form.getFormItemsValue(P,"isinform").value,TreeRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayFundOrgFilter"}}),"pk_transactorg"==e.attrcode&&(e.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(P,"pk_org").value,isinform:t.form.getFormItemsValue(P,"isinform").value,TreeRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.PayTransactOrgFilter"}}),"pk_costcenter"==e.attrcode&&(e.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(P,"pk_org").value}})})),r[m.card_from_delivermsg_id].items.map((function(e){"pk_clearinplan"!=e.attrcode&&"pk_clearoutplan"!=e.attrcode||(e.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(P,"pk_org").value}}),"pk_clearoutaccount"!=e.attrcode&&"pk_clearoutbankaccount"!=e.attrcode||(e.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(P,"pk_org").value,pk_delgoorg:(t.form.getFormItemsValue(P,"pk_delgoorg")||{}).value,pk_currtype:(t.form.getFormItemsValue(P,"pk_currtype")||{}).value,clearoutacctype:(t.form.getFormItemsValue(P,"clearoutacctype")||{}).value,acceptdate:(t.form.getFormItemsValue(P,"acceptdate")||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.ClearOutAccountFilter"}})})),r[w].items.map((function(e){O(t,e,n)})),r[m.card_tableedit1_id].items.map((function(e){O(t,e,n)})),r[T].items.map((function(e){B(t,e)})),r[m.card_tableedit2_id].items.map((function(e){B(t,e)})),(0,k.addDefReferFilter)(t,{meta:r,areaCode:[P,w,T,m.card_tableedit1_id,m.card_tableedit2_id],getOrgFunc:function(){return(t.form.getFormItemsValue(P,"pk_org")||{}).value}});var o=t.MutiInit.getIntl(m.funcode),i={attrcode:"opr",label:o&&o.get("36300TP-000049"),fixed:"right",itemtype:"customer",visible:!0,width:"200px",render:function(r,n,o){var i=t.cardTable.getStatus(w),l=!1,s=t.form.getFormItemsValue(P,"vsourcebustype").value;m.busType.BusType_BillFBM==s&&(l=!0);var u=[];return console.log("dealflag",a),u=a?l?["Open"]:e.copyflag1?["CopyAtLine"]:["Open","CopyThisLine","InsertLine","DeleteLine"]:["Open"],"browse"===i&&(u=n.expandRowStatus?["CloseDown"]:["OpenDown"]),React.createElement("div",{className:"currency-opr-col"},t.button.createOprationButton(u,{area:"card_inner",buttonLimit:m.button_limit,onButtonClick:function(t,a){return y.bodyButtonClick.call(e,t,a,r,n,o,w)}}))}};r[w].items.push(i);var l={attrcode:"opr",label:o&&o.get("36300TP-000049"),fixed:"right",itemtype:"customer",visible:!0,width:"200px",render:function(r,a,n){var o=t.cardTable.getStatus(T),i=(t.form.getFormItemsValue(P,"isinform")||{}).value,l=(t.form.getFormItemsValue(P,"ispayroll")||{}).value,s=t.form.getFormItemsValue(P,"vsourcebustype").value,u=!1;m.busType.BusType_BillFBM==s&&(u=!0),l=!!(l&&1==l||l&&"Y"==l);var c=[];return c=(i=!!(i&&1==i||i&&"Y"==i))||l||u?["Open"]:e.copyflag2?["CopyAtLine"]:["Open","CopyThisLine","InsertLine","DeleteLine"],"browse"===o&&(c=a.expandRowStatus?["CloseDown"]:["OpenDown"]),React.createElement("div",{className:"currency-opr-col"},t.button.createOprationButton(c,{area:"card_inner",buttonLimit:m.button_limit,onButtonClick:function(t,o){return y.bodyButtonClick.call(e,t,o,r,a,n,T)}}))}};r[T].items.push(l)}(t,e,a),e.meta.setMeta(a,(function(){e.getUrlParam("id");var r=e.getUrlParam("isCopy");if("add"!=e.getUrlParam("status")||r){if("add"==e.getUrlParam("status")&&r||"copy"==e.getUrlParam("status")||"edit"==e.getUrlParam("status")){t.props.form.setFormItemsDisabled(m.card_from_id,{pk_org:!0});_.paymentBeforeUtil.call(t,["pk_fundpayorg","pk_costcenter","pk_clearoutaccount","pk_clearoutplan","pk_clearinplan","paytotalmnt","pk_paycurrtype","exprice"],e,m.card_from_id)}else if("deal"==t.props.getUrlParam("status")){t.props.form.setFormItemsDisabled(m.card_from_id,{pk_org:!0});_.paymentBeforeUtil.call(t,["pk_fundpayorg","pk_transactorg","pk_costcenter","pk_clearoutaccount","pk_clearoutplan","pk_clearinplan","paytotalmnt","pk_paycurrtype","exprice"],e,m.card_from_id),t.props.form.getFormItemsValue(m.card_from_id,"vsourcebustype").value!=m.busType.BusType_BillHand&&t.props.form.setFormItemsDisabled(m.card_from_id,{isreversebustype:!0,pk_currtype:!0,pk_paycurrtype:!0})}}else e.initMetaByPkorg();h.orgVersionView.call(t,t.props,m.card_from_id)}))}if(r.button){var n=r.button;e.button.setButtons(n),b.buttonVisible.call(t,e)}if(r.context){var o=r.context;if("add"===e.getUrlParam("status")&&!t.isCopy&&o.pk_org){var i=r.context,l=i.pk_org,s=i.org_Name,u=i.pk_org_v,c=i.org_v_Name,d={value:o.pk_org,display:o.org_Name};e.form.setFormItemsValue(P,{pk_org:{value:l,display:s},pk_org_v:{value:u,display:c}}),g.afterEvent.call(t,t.props,m.card_from_id,"pk_org",d,null,null,null,null,!0),t.props.resMetaAfterPkorgEdit(),t.props.form.setFormItemsDisabled(m.card_from_id,{pk_org:!1})}}}}))};var a=r(0),n=I(r(26)),o=(I(r(206)),I(r(44))),i=I(r(65)),l=I(r(45)),s=I(r(27)),u=I(r(66)),c=I(r(67)),d=I(r(68)),p=I(r(69)),f=(I(r(209)),r(55)),m=r(25),b=r(118),y=r(210),g=r(114),_=r(115),h=r(10),v=r(7),k=r(1);function I(e){return e&&e.__esModule?e:{default:e}}a.base.NCPopconfirm;var P=m.card_from_id,w=m.card_table1_id,T=m.card_table2_id,C=m.card_page_id;var S=t.getAllFinanceOrg=function(e,t,r,a){for(var n=[],o=e.cardTable.getAllRows(a,!1),i=0;i<o.length;i++){var l=o[i];n.indexOf(l.values.pk_financeorg_p.value)>-1||n.push(l.values.pk_financeorg_p.value)}return JSON.stringify(n)},O=function(e,t,r){"pk_inneraccount_p"==t.attrcode&&(t.render=function(t,r,a){return(0,n.default)({queryCondition:function(){return{pk_org:(e.form.getFormItemsValue(P,"pk_fundpayorg")||{}).value,pk_ownerorg:(r.values.pk_financeorg_p||{}).value,pk_fundpayorg:(e.form.getFormItemsValue(P,"pk_fundpayorg")||{}).value,pk_currtype:(e.form.getFormItemsValue(P,"pk_currtype")||{}).value,pk_financeorg_p:(r.values.pk_financeorg_p||{}).value,oripaymode:(r.values.oripaymode||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.InnerAccountPRefFilter"}}})}),"pk_financeorg_p"==t.attrcode&&(t.render=function(t,r,a){return(0,c.default)({queryCondition:function(){return{pk_fundpayorg:e.form.getFormItemsValue(P,"pk_fundpayorg").value,TreeRefActionExt:"nccloud.web.fts.pub.filter.DefaultFundFinanceOrgFilter"}}})}),"pk_bankaccount_r"==t.attrcode&&(t.checkStrictly=r,t.render=function(t,a,n){return(0,o.default)({checkStrictly:r,queryCondition:function(){return{pk_currtype:e.form.getFormItemsValue(P,"pk_currtype").value,accclass:2,pk_cust:(a.values.pk_company_r||{}).value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.CustBankAccRFilter"}}})}),"pk_bankname_r"==t.attrcode&&(t.checkStrictly=r,t.render=function(t,a,n){return(0,i.default)({checkStrictly:r,queryCondition:function(){return{pk_org:(e.form.getFormItemsValue(P,"pk_org")||{}).value,GridRefActionExt:"nccloud.web.fts.pub.filter.NoneInnerBankDocFilter"}}})}),"pk_financeplan"==t.attrcode&&(t.render=function(t,r,a){return(0,d.default)({queryCondition:function(){return{pk_org:e.form.getFormItemsValue(P,"pk_org").value}}})}),"pk_company_r"==t.attrcode&&(t.checkStrictly=r,t.render=function(t,a,n){return(0,l.default)({checkStrictly:r,queryCondition:function(){var t=e.cardTable.getValByKeyAndIndex(w,n,"pk_financeorg_p").value;e.form.getFormItemsValue(P,"pk_org").value;return{pk_financeorg_p:t,pk_org:t,pk_group:(0,v.getDefData)(m.PaymentConst.dataSource,t)}}})})},B=function(e,t){"pk_fundbankaccount_p"==t.attrcode&&(t.render=function(t,r,a){return(0,s.default)({queryCondition:function(){var t=(r.values.paymode||{}).value,n=(r.values.isnetpay||{}).value,o=(r.values.pk_allotaccount||{}).value,i=e.form.getFormItemsValue(P,"acceptdate").value,l=e.form.getFormItemsValue(P,"pk_currtype").value,s=e.form.getFormItemsValue(P,"pk_paycurrtype").value,u=e.form.getFormItemsValue(P,"isexchangepay").value,c=e.form.getFormItemsValue(P,"pk_transactorg").value,d=e.form.getFormItemsValue(P,"pk_org").value,p=(0,f.getRelationIndexFinanceOrg)(e,r,a,m.card_table1_id),b=S(e,r,a,m.card_table1_id);return t!=m.IPaymentConst.Pay_Back.value&&t!=m.IPaymentConst.Pay_Group.value||(d=p),console.log("pk_financeorg_p",p),console.log("pk_financeorgs",b),{refnodename:"使用权参照",pk_financeorg_p:p,pk_financeorgs:b,pk_allotaccount:o,pk_org:d,pk_transactorg:c,acceptdate:i,isexchangepay:u,isnetpay:n,pk_currtype:l,paymode:t,pk_paycurrtype:s,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.FundBankAccFilter"}}})}),"pk_fundcashaccount"==t.attrcode&&(t.render=function(t,r,a){return(0,u.default)({queryCondition:function(){return{acceptdate:e.form.getFormItemsValue(P,"acceptdate").value,pk_org:e.form.getFormItemsValue(P,"pk_org").value,pk_currtype:e.form.getFormItemsValue(P,"pk_currtype").value,pk_transactorg:e.form.getFormItemsValue(P,"pk_transactorg").value,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.FundCashAccountFilter"}}})}),"pk_allotaccount"==t.attrcode&&(t.render=function(t,r,a){return(0,s.default)({queryCondition:function(){var t=(r.values.paymode||{}).value,a=(r.values.isebankback||{}).value,n=(r.values.pk_fundbankaccount_p||{}).value,o=e.form.getFormItemsValue(P,"acceptdate").value,i=e.form.getFormItemsValue(P,"pk_paycurrtype").value,l=e.form.getFormItemsValue(P,"pk_transactorg").value,s=e.form.getFormItemsValue(P,"pk_org").value;return t!=m.IPaymentConst.Pay_Back.value&&t!=m.IPaymentConst.Pay_Group.value||(s=l),{refnodename:"使用权参照",pk_org:s,isebankback:a,pk_fundbankaccount_p:n,pk_transactorg:l,acceptdate:o,paymode:t,pk_paycurrtype:i,GridRefActionExt:"nccloud.web.fts.commission.commissionpayment.filter.AllotAccountFilter"}}})}),"pk_fundplan"==t.attrcode&&(t.render=function(t,r,a){return(0,d.default)({queryCondition:function(){return{pk_org:e.form.getFormItemsValue(P,"pk_org").value}}})}),"pk_drawer"==t.attrcode&&(t.render=function(t,r,a){return(0,p.default)({queryCondition:function(){return{pk_org:e.form.getFormItemsValue(P,"pk_org").value}}})})}},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"fbm",currentLocale:"zh-CN",moduleId:"refer_fbm"},refType:"grid",refName:"refer-0022",refcode:"fbm.refer.fbm.Bill4FtsPayGridRef",queryGridUrl:"/nccloud/fbm/refer/Bill4FtsPayGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-0012","refer-0013","refer-0014","refer-0015","refer-0017","refer-0018"],code:["fbmbillno","currname","money","enddate","billtypename","orgname"]}]};return React.createElement(a,Object.assign(t,e))};var a=r(0).high.Refer},207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(3),l=B(i),s=(B(r(4)),r(0)),u=r(114),c=r(118),d=r(46),p=B(r(24)),f=B(r(30)),m=B(r(19)),b=r(55),y=r(92),g=r(10),_=r(6),h=r(25),v=r(5),k=r(6),I=r(7),P=B(r(23)),w=r(115),T=r(119),C=r(1),S=r(92),O=r(2);function B(e){return e&&e.__esModule?e:{default:e}}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}s.base.NCFormControl;var R=s.base.NCAnchor,x=s.base.NCScrollLink,D=s.base.NCScrollElement,F=s.base.NCAffix,A=(s.base.NCBackBtn,s.base.NCIcon,s.base.NCDiv),N=s.high.NCUploader,j=(s.high.PrintOutput,s.high.ApproveDetail),L=s.high.Inspection,V=s.high.BillTrack,E=s.high.ApprovalTrans,U=(a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.call(r),r.formId=h.card_from_id,r.moduleId=h.module_id,r.tableId1=h.card_table1_id,r.tableId2=h.card_table2_id,r.pageId=h.card_page_id,r.currAccid="",r.maxIndex=0,r.billID="",r.billNO="",r.isPay=!1,r.isMergePay=!1,r.isSaveAdd=!1,r.copyflag1=!1,r.copyflag2=!1,r.rateflag=!1,r.isCopy=!1,r.isallowflag=!1,r.isbankaccrinput=!1,r.iscustomerinput=!1,r.isbankinput=!1,r.state={showUploader:!1,showInnerAccount:!1,showOriginal:!1,showOriginalData:[],showBuLu:!1,onLineData:[],modelType:_.SHOWMODEL_BULU,actionCode:"",pmtConfirmData:{},showApproveDetail:!1,showNtbDetail:!1,ntbdata:null,showModal:!1,showAbolish:!1,showBillReview:!1,assignData:null,assignShow:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!1,showBillCode:!1});var e=this.props.getUrlParam("id");this.billID=e;var t=this.props.getUrlParam("scene"),r=this.props.getUrlParam("pk_ntbparadimvo");("fip"==t||O.SCENE.LINK==t||r)&&(0,I.setDefData)(h.PaymentConst.dataSource,h.PaymentConst.islink,!0),e&&this.qryData(!1)}},{key:"componentWillMount",value:function(){var e,t=this;(0,s.getMultiLang)({moduleId:(e={},M(e,k.module_tmpub_name,[k.module_tmpub_id]),M(e,k.module_name,[h.module_id,h.funcode]),e),callback:function(e){(0,C.saveMultiLangRes)(t.props,e),u.initTemplate.call(t,t.props)}}),window.onbeforeunload=function(){if("browse"!=t.props.getUrlParam("status"))return t.props.MutiInit.getIntl("36300TP")&&t.props.MutiInit.getIntl("36300TP").get("36300TP-000103")}}},{key:"handleClick",value:function(){this.props.getUrlParam("autolink");this.props.pushTo("/list",{autolink:"Y"})}},{key:"render",value:function(){var e=this,t=this.props,r=t.cardTable,a=t.form,n=t.button,o=t.modal,i=t.cardPagination,s=t.ncmodal,c=t.socket,m=this.props.BillHeadInfo.createBillHeadInfo,g=this.props.button.getButtons(),k=this.props.MutiInit.getIntl(h.funcode),I=a.createForm,w=r.createCardTable,T=i.createCardPagination,S=(n.createButton,n.createButtonApp),O=s.createModal,B=this.state,M=B.showUploader,U=B.showInnerAccount,q=(B.showOriginal,B.showOriginalData,B.currAccid),H=B.showApproveDetail,z=B.showNtbDetail,K=B.ntbdata,G=B.showModal,W=B.showAbolish,J=B.showBillReview,Y=B.assignData,Q=B.assignShow,Z=this.billID,$=this.billNO,X=this.props.getUrlParam("status"),ee=this.props.form.getFormItemsValue(this.formId,"pk_billtype")&&this.props.form.getFormItemsValue(this.formId,"pk_billtype").value,te=(this.props.form.getFormItemsValue(this.formId,"isinform")||{}).value;return te=!!(te&&1==te||te&&"Y"==te),l.default.createElement("div",{className:"nc-bill-extCard"},l.default.createElement(R,null,l.default.createElement(x,{to:"forminfo",spy:!0,smooth:!0,duration:300,offset:-100},l.default.createElement("p",null,k&&k.get("36300TP-000056"))),l.default.createElement(x,{to:"businfo",spy:!0,smooth:!0,duration:300,offset:-100},l.default.createElement("p",null,k&&k.get("36300TP-000057"))),l.default.createElement(x,{to:"detail",spy:!0,smooth:!0,duration:300,offset:-50},l.default.createElement("p",null,k&&k.get("36300TP-000058")))),l.default.createElement("div",{className:"nc-bill-top-area"},l.default.createElement(F,null,l.default.createElement(A,{areaCode:A.config.HEADER,className:"nc-bill-header-area"},l.default.createElement("div",{className:"header-title-search-area"},m({title:k&&k.get("36300TP-000088")+" ",billCode:$,backBtnClick:function(){e.handleClick()}})),c.connectMesg({headBtnAreaCode:"card_head",formAreaCode:h.card_from_id,billpkname:h.PaymentConst.pk_filed,billtype:h.PaymentConst.billType,dataSource:h.PaymentConst.dataSource}),l.default.createElement("div",{className:"header-button-area"},this.props.button.createErrorFlag({headBtnAreaCode:"card_head"}),S({area:"card_head",onButtonClick:u.buttonClick.bind(this)})),l.default.createElement("div",{className:"header-cardPagination-area",style:{float:"right"}},T({handlePageInfoChange:u.pageInfoClick.bind(this),dataSource:h.PaymentConst.dataSource})))),l.default.createElement(D,{name:"forminfo"},l.default.createElement("div",{className:"nc-bill-form-area"},I(this.formId,{expandArr:[h.card_from_id,h.card_from_exchangemsg_id,h.card_from_delivermsg_id],onAfterEvent:u.afterEvent.bind(this),onBeforeEvent:u.beforeEvent.bind(this)})))),l.default.createElement("div",{className:"nc-bill-bottom-area"},l.default.createElement(D,{name:"businfo"},l.default.createElement("div",{className:"nc-bill-table-area"},w(this.tableId1,{tableHead:this.getTableHead.bind(this,g,this.tableId1),modelSave:function(){e.saveBill(!1),e.props.cardTable.closeModel(e.tableId1)},onAfterEvent:u.afterEvent.bind(this),onBeforeEvent:u.beforeEvent.bind(this),selectedChange:b.setCardShouderBtnUseful.bind(this),showCheck:!0,showIndex:!0,modelAddRow:y.modelAddLineProcess.bind(this),modelDelRowBefore:y.modelDelLineProcess.bind(this),modelDelRow:y.modelDelLineAfterProcess.bind(this),hideAdd:"deal"==X,hideDel:"deal"==X}))),l.default.createElement(D,{name:"detail"},l.default.createElement("div",{className:"nc-bill-table-area",style:{borderRadius:"0 0 4px 4px"}},w(this.tableId2,{tableHead:this.getTableHead.bind(this,g,this.tableId2),modelSave:function(){e.saveBill(!1),e.props.cardTable.closeModel(e.tableId2)},onAfterEvent:u.afterEvent.bind(this),onBeforeEvent:u.beforeEvent.bind(this),selectedChange:b.setCardShouderBtnUseful.bind(this),showCheck:!0,showIndex:!0,modelAddRow:y.modelAddLineProcess.bind(this),modelDelRowBefore:y.modelDelLineProcess.bind(this),modelDelRow:y.modelDelLineAfterProcess.bind(this),hideAdd:te,hideDel:te})))),O("MessageDlg",{size:"lg",content:""}),l.default.createElement(f.default,{showmodal:this.state.showBuLu,modal:o,onLineData:this.state.onLineData,moduleType:_.sourceModel_FTS,modelType:this.state.modelType,onSureClick:function(t){e.processRetMsg(t),e.setState({showBuLu:!1})},onCloseClick:function(){e.setState({showBuLu:!1})}}),l.default.createElement("div",{className:"nc-faith-demo-div2"},M&&l.default.createElement(N,{billId:Z,target:null,placement:"bottom",billNo:$,onHide:function(){e.setState({showUploader:!1})},customInterface:{queryLeftTree:"/nccloud/tmpub/pub/lefttreequery.do",queryAttachments:h.base_url+"paymentattachment.do"}})),U&&l.default.createElement(d.InnerAccoutDialog,{id:"dialog",showModal:U,accpk:q,closeModal:function(){e.setState({showInnerAccount:!1,currAccid:""})}}),l.default.createElement(p.default,{showmodal:this.state.showOriginal,showOriginalData:this.state.showOriginalData,onSureClick:function(t){e.setState({showOriginal:!1})},onCloseClick:function(){e.setState({showOriginal:!1})}}),l.default.createElement("div",null,H&&l.default.createElement(j,{show:H,billtype:ee,billid:Z,close:function(){e.setState({showApproveDetail:!1})}})),l.default.createElement("div",null,l.default.createElement(L,{show:z,sourceData:K,cancel:function(){e.setState({showNtbDetail:!1})},affirm:function(){e.setState({showNtbDetail:!1})}})),l.default.createElement("div",null,J&&l.default.createElement(V,{show:J,close:function(){e.setState({showBillReview:!1,billID:null})},pk:Z,type:ee})),(G||W)&&l.default.createElement(P.default,{title:G?k&&k.get("36300TP-000083"):k&&k.get("36300TP-000096"),label:G?k&&k.get("36300TP-000083"):k&&k.get("36300TP-000096"),show:G||W,onOk:function(t){G?e.beSureClick.call(e,e.props,t,!0):W&&e.payAbolish.call(e,e.props,t)},onClose:function(){e.setState({showModal:!1,showAbolish:!1})}}),l.default.createElement("div",null,Q&&l.default.createElement(E,{title:(0,C.loadMultiLang)(this.props,"36300-000015"),data:Y,display:Q,getResult:function(t){var r={};t&&(r.content=JSON.stringify(t)),e.setState({assignShow:!1,assignData:null});var a={};a[h.card_table1_id]="pk_paymentfinance",a[h.card_table2_id]="pk_paymentfund",(0,v.cardOperator)(e.props,h.card_page_id,h.card_from_id,a,"pk_payment",h.base_url+"paymentcommit.do",e.props.MutiInit.getIntl("36300TP")&&e.props.MutiInit.getIntl("36300TP").get("36300TP-000015"),h.PaymentConst.dataSource,e.toggleShow.bind(e),!0,r)},cancel:function(){e.setState({assignShow:!1,assignData:null})},hideNote:!1})))}}]),t}(i.Component),n=function(){var e,t,r=this;this.toggleShow=function(){var e=r.props.getUrlParam("status"),t=r.props.getUrlParam("scene"),a=r.props.getUrlParam("pk_ntbparadimvo"),n=!1,o=r.props.getUrlParam("autolink");("fip"==t||O.SCENE.LINK==t||a||o&&"Y"==o)&&(n=!0),"browse"==e?r.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!n,showBillCode:!0,billCode:r.billNO}):"edit"==e||e==h.viewmod_deal?r.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!1,showBillCode:!0,billCode:r.billNO}):r.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!1,showBillCode:!1}),c.buttonVisible.call(r,r.props),b.clearOutAccountView.call(r,r.props,r.formId),(0,C.showErrBtn)(r.props,{headBtnCode:"card_head",headAreaCode:h.card_from_id,fieldPK:h.PaymentConst.pk_filed,datasource:h.PaymentConst.dataSource})},this.qryData=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props.getUrlParam("status"),a=r.props.getUrlParam("isCopy"),n=r.props.getUrlParam("ts");r.isCopy=a;var o=r.props.getUrlParam("autolink");o&&"Y"==o&&(o=!0);var i=h.base_url;e?i+="paymentcardquery.do":t==h.viewmod_deal?i+="paymentloaddecideinfo.do":i+="edit"==t?"paymentedit.do":a?"paymentcopy.do":"paymentcardquery.do",n||(n=r.props.form.getFormItemsValue(r.formId,"ts")&&r.props.form.getFormItemsValue(r.formId,"ts").value);var l={pk:r.props.getUrlParam("id"),pageCode:r.pageId,ts:n},c=r;(0,s.ajax)({url:i,data:l,success:function(n){if(n.data){if("browse"!=t&&!o||e||s.cardCache.setDefData(h.cache.iserrtoast,h.PaymentConst.dataSource,!0),"isallow"==n.data.userjson?(r.isallowflag=!0,c.props.cardTable.setColEditableByKey(h.card_table1_id,["bankaccountname_r"],!0)):r.isallowflag=!1,n.data.head&&(c.props.form.setAllFormValue(M({},c.formId,n.data.head[c.formId])),r.billID=n.data.head[r.formId].rows[0].values.pk_payment.value||"",r.billNO=n.data.head[r.formId].rows[0].values.vbillno.value||""),n.data.bodys){T.customerResetDisplayFormQuery.call(r,c.props,n.data.bodys[c.tableId1]),(0,T.fbmbillnoAfterEdit)(c.props,null,n.data.bodys[c.tableId2]);for(var i=n.data.bodys[c.tableId1].rows,l=0,d=0;d<i.length;d++){var p=i[d];p.values.rowno&&p.values.rowno.value>l&&(l=p.values.rowno.value)}r.maxIndex=l,t==h.viewmod_deal&&u.initTemplate.call(c,c.props)}e&&(0,s.toast)({color:"success",title:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000113")}),(0,I.updateCacheData)(r.props,h.PaymentConst.pk_filed,r.billID,n.data,r.formId,h.PaymentConst.dataSource,n.data.head[r.formId].rows[0].values),o&&!e&&(0,I.addCacheData)(r.props,h.PaymentConst.pk_filed,r.billID,n.data,r.formId,h.PaymentConst.dataSource),g.orgVersionView.call(c,c.props,h.card_from_id),c.toggleShow(),a&&(r.props.form.setFormItemsDisabled(h.card_from_id,{pk_org:!0}),u.initTemplate.call(r,r.props),c.props.resMetaAfterPkorgEdit())}else{var f;(0,s.toast)({color:"warning",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000109")}),r.billNO="",r.billID="",c.props.form.EmptyAllFormValue(c.formId),c.props.cardTable.setMulTablesData((M(f={},h.card_table1_id,{rows:[]}),M(f,h.card_table2_id,{rows:[]}),f)),r.toggleShow()}}})},this.decideBill=function(){r.props.getUrlParam("status"),r.props.getUrlParam("isCopy");var e=h.base_url;e+="paymentloaddecideinfo.do";var t=r.props.form.getFormItemsValue(r.formId,"ts").value,a={pk:r.props.getUrlParam("id"),pageCode:r.pageId,ts:t},n=r;(0,s.ajax)({url:e,data:a,success:function(e){if(e.data){if("isallow"==e.data.userjson?(r.isallowflag=!0,r.props.cardTable.setColEditableByKey(h.card_table1_id,["bankaccountname_r"],!0)):r.isallowflag=!1,r.props.pushTo("/card",{status:h.viewmod_deal,from:"card",id:r.props.getUrlParam("id"),pagecode:h.card_page_id}),u.initTemplate.call(n,n.props),e.data.head&&(n.props.form.setAllFormValue(M({},n.formId,e.data.head[n.formId])),r.billID=e.data.head[r.formId].rows[0].values.pk_payment.value||"",r.billNO=e.data.head[r.formId].rows[0].values.vbillno.value||""),e.data.bodys){T.customerResetDisplayFormQuery.call(r,n.props,e.data.bodys[n.tableId1]),(0,T.fbmbillnoAfterEdit)(n.props,null,e.data.bodys[n.tableId2]);for(var t=e.data.bodys[n.tableId1].rows,a=0,o=0;o<t.length;o++){var i=t[o];i.values.rowno&&i.values.rowno.value>a&&(a=i.values.rowno.value)}r.maxIndex=a}b.versionControl.call(n,n.props),n.toggleShow()}else{var l;(0,s.toast)({color:"warning",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000109")}),r.billNO="",r.billID="",n.props.form.EmptyAllFormValue(n.formId),n.props.cardTable.setMulTablesData((M(l={},h.card_table1_id,{rows:[]}),M(l,h.card_table2_id,{rows:[]}),l)),r.toggleShow()}}})},this.delConfirm=function(){var e={},t=r.props.getUrlParam("id"),a=r.props.form.getFormItemsValue(r.formId,"ts").value;e[t]=a,(0,s.ajax)({url:"/nccloud/fts/commission/paymentdelete.do",data:{pkMapTs:e,pageCode:h.card_page_id},success:function(e){if(e){(0,s.toast)({color:"success",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000051")});var a=(0,I.getNextId)(r.props,t,h.PaymentConst.dataSource);(0,I.deleteCacheData)(r.props,h.PaymentConst.pk_filed,t,h.PaymentConst.dataSource),u.pageInfoClick.call(r,r.props,a)}}})},this.saveBill=(e=regeneratorRuntime.mark((function e(){var t,a,n,o,i,l,c,d,p,f,y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],_=arguments[1];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.isSaveAdd,r.props.form.setFormItemsValue(r.formId,{voucherflag:{value:"N"}}),a=r.props.getUrlParam("status"),n=h.base_url+"paymentinsert.do","add"==a?n=h.base_url+"paymentinsert.do":"edit"==a?n=h.base_url+"paymentupdate.do":a==h.viewmod_deal&&(n=h.base_url+"paymentdecidesave.do"),y&&"add"==a?n=h.base_url+"paymentsavecommit.do":y&&"edit"==a&&(n=h.base_url+"paymentupdatecommit.do"),o=r.props.form.isCheckNow(h.card_from_id),i=r.props.cardTable.getNumberOfRows(h.card_table1_id),l=r.props.cardTable.getNumberOfRows(h.card_table2_id),!(i<=0||l<=0)){e.next=12;break}return(0,s.toast)({color:"danger",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000102")}),e.abrupt("return");case 12:if(c=r.props.cardTable.checkTableRequired(),o&&c){e.next=15;break}return e.abrupt("return");case 15:return b.resetBodysRowno.call(r,r.props),T.customerInputCleatValue.call(r,r.props),d=(0,C.createSimpleBillData)(r.props,h.card_page_id,h.card_from_id,[r.tableId1,r.tableId2],!1),e.next=20,(0,m.default)({isSign:!0,isKey:!0,isSave:!0,data:d,encryptVOClassName:"nccloud.dto.fts.commission.commissionpayment.CommissionPaymentEncryptVO4NCC"});case 20:if(!(p=e.sent).isStop){e.next=23;break}return e.abrupt("return");case 23:d=p.data,f=void 0,(0,s.ajax)({url:n,data:{data:JSON.stringify(d),pageCode:r.pageId},success:function(e){var n=null,o=null,i=null;if(e.success&&e.data){var l,c=e.data,d=(c.head,c.bodys);e.data.head&&e.data.head[r.formId]&&(f=(0,v.showTBBMsg)(e.data.head,r.formId),i=e.data.head[r.formId].rows[0].values.pk_org,n=e.data.head[r.formId].rows[0].values.pk_payment.value,o=e.data.head[r.formId].rows[0].values.vbillno.value,r.billID=n,r.billNO=o,t?r.props.form.EmptyAllFormValue(r.formId):r.props.form.setAllFormValue(M({},r.formId,e.data.head[r.formId]))),d&&(d=b.fbmBillnoDisplay.call(r,r.props,d),d=r.updateBody(r.props,d),(d=T.customerResetDisplayFormSave.call(r,r.props,d))&&(e.data.bodys=d)),t&&r.props.cardTable.setMulTablesData((M(l={},r.tableId1,{rows:[]}),M(l,r.tableId2,{rows:[]}),l)),"add"==a?(0,I.addCacheData)(r.props,h.PaymentConst.pk_filed,n,e.data,r.formId,h.PaymentConst.dataSource,e.data.head[r.formId].rows[0].values):"edit"!=a&&a!=h.viewmod_deal||(0,I.updateCacheData)(r.props,h.PaymentConst.pk_filed,n,e.data,r.formId,h.PaymentConst.dataSource,e.data.head[r.formId].rows[0].values)}t?(r.props.setUrlParam({status:"add"}),r.billID="",r.billNO="",r.props.form.setFormItemsValue(h.card_from_id,{pk_org:{value:i.value,display:i.display}}),r.props.initMetaByPkorg(),r.props.resMetaAfterPkorgEdit(),u.afterEvent.call(r,r.props,h.card_from_id,"pk_org",i)):r.props.setUrlParam({status:"browse",id:n}),g.orgVersionView.call(r,r.props,h.card_from_id),r.toggleShow();var p=_&&"function"==typeof _;f||p||(0,s.toast)({color:"success",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000052")}),p&&_()}});case 26:case"end":return e.stop()}}),e,r)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function a(n,o){try{var i=t[n](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))},function(){return t.apply(this,arguments)}),this.updateBody=function(e,t){return t[h.card_table1_id]&&t[h.card_table1_id].rows&&t[h.card_table1_id].rows[0]&&t[h.card_table1_id].rows[0].rowid?t[h.card_table1_id]=e.cardTable.updateDataByRowId(h.card_table1_id,t[h.card_table1_id]):e.cardTable.setTableData(h.card_table1_id,t[h.card_table1_id]),t[h.card_table2_id]&&t[h.card_table2_id].rows&&t[h.card_table2_id].rows[0]&&t[h.card_table2_id].rows[0].rowid?t[h.card_table2_id]=e.cardTable.updateDataByRowId(h.card_table2_id,t[h.card_table2_id]):e.cardTable.setTableData(h.card_table2_id,t[h.card_table2_id]),t},this.editBill=function(e){var t=r.props.getUrlParam("id"),a=r.props.form.getFormItemsValue(h.card_from_id,"ts").value,n=h.card_page_id;(0,s.ajax)({url:h.base_url+"paymentedit.do",data:{pk:t,pageCode:n,ts:a},success:function(e){if(e&&e.data){if("isallow"==e.data.userjson?(r.isallowflag=!0,(0,w.customerAllowInputProcess)(r.props,h.card_table1_id,!0)):((0,w.customerAllowInputProcess)(r.props,h.card_table1_id,!1),r.isallowflag=!1),r.props.setUrlParam({status:"edit"}),e.data.head&&(r.props.form.setAllFormValue(M({},r.formId,e.data.head[r.formId])),r.billID=e.data.head[r.formId].rows[0].values.pk_payment.value||"",r.billNO=e.data.head[r.formId].rows[0].values.vbillno.value||""),e.data.bodys){T.customerResetDisplayFormQuery.call(r,r.props,e.data.bodys[r.tableId1]),(0,T.fbmbillnoAfterEdit)(r.props,null,e.data.bodys[r.tableId2]);for(var t=e.data.bodys[r.tableId1].rows,a=0,n=0;n<t.length;n++){var o=t[n];o.values.rowno&&o.values.rowno.value>a&&(a=o.values.rowno.value)}r.maxIndex=a}r.props.form.setFormItemsDisabled(h.card_from_id,{pk_org:!0}),u.initTemplate.call(r,r.props),g.orgVersionView.call(r,r.props,h.card_from_id),r.toggleShow()}}})},this.processRetMsg=function(e){if(r.state.modelType!=_.SHOWMODEL_LIULAN){var t={},a=r.props.getUrlParam("id"),n=r.props.form.getFormItemsValue(r.formId,"ts").value;t[a]=n;var o={pk:r.props.form.getFormItemsValue(r.formId,"pk_payment").value,ts:r.props.form.getFormItemsValue(r.formId,"ts").value,pkMapTs:t,results:e,actionCode:r.state.actionCode,isRet:!0,pageCode:h.card_page_id};(0,s.ajax)({url:"/nccloud/fts/commission/paymentprocessretmsg.do",data:o,success:function(e){if(e.success){if(e&&e.data){var t,a=e.data,n=(a.head,a.bodys);e.data.head&&e.data.head[r.formId]&&r.props.form.setAllFormValue(M({},r.formId,e.data.head[r.formId])),e.data.bodys&&e.data.bodys[r.tableId1]&&T.customerResetDisplayFormQuery.call(r,r.props,e.data.bodys[r.tableId1]),r.props.cardTable.setMulTablesData((M(t={},h.card_table1_id,n[h.card_table1_id]),M(t,h.card_table2_id,n[h.card_table2_id]),t))}r.isPay?("UpRewrite"==r.state.actionCode?S.PaymentRecoveryFund.call(r,r.props):"DownRewrite"==r.state.actionCode?S.PaymentCallBackPay.call(r,r.props):"BankAccReWrite"==r.state.actionCode&&(r.isMergePay?S.PaymentMergePay.call(r,r.props):S.PaymentPay.call(r,r.props)),r.isPay=!1):(0,s.toast)({color:"success",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000108")})}}})}},this.getTableHead=function(e,t){var a=t==r.tableId1?"card_body":"card_body2",n=r.props.button,o=(n.createButton,n.createButtonApp);return l.default.createElement("div",{className:"shoulder-definition-area"},l.default.createElement("div",{className:"definition-icons"},r.props.cardTable.createBrowseIcons(t,{iconArr:["close","open","max"],maxDestAreaId:"finance-fts-commissionpayment-card"}),o({area:a,onButtonClick:function(e,a){return u.buttonClick.call(r,e,a,t)}})))},this.beSureClick=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&r.props.form.setFormItemsValue(r.formId,{backxjreason:{value:t}}),r.backConfirm()},this.backConfirm=function(){var e={},t=r.props.getUrlParam("id"),a=(r.props.form.getFormItemsValue(r.formId,"backxjreason")||{}).value,n=r.props.form.getFormItemsValue(r.formId,"ts").value,o={};o.backxjreason=a,e[t]=n,(0,s.ajax)({url:h.base_url+"paymentback.do",data:{extParam:o,pkMapTs:e,pageCode:h.card_page_id},success:function(e){if(e){(0,s.toast)({color:"success",content:r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000054")});var a=(0,I.getNextId)(r.props,t,h.PaymentConst.dataSource);(0,I.deleteCacheData)(r.props,h.PaymentConst.pk_filed,t,h.PaymentConst.dataSource),u.pageInfoClick.call(r,r.props,a),r.setState({showModal:!1})}}})},this.payAbolish=function(e,t){r.props.form.setFormItemsValue(r.formId,{backxjreason:{value:t}}),(0,v.cardOperator)(e,h.card_page_id,h.card_from_id,[h.card_table1_id,h.card_table2_id],"pk_payment",h.base_url+"paymentabolish.do",r.props.MutiInit.getIntl("36300TP")&&r.props.MutiInit.getIntl("36300TP").get("36300TP-000038"),h.PaymentConst.dataSource,r.toggleShow.bind(r)),r.setState({showAbolish:!1})},this.pageChange=function(e){if(r.props.setUrlParam({status:"browse"}),e)u.pageInfoClick.call(r,r.props,e);else{var t=r.props.getUrlParam("id"),a=(0,I.getNextId)(r.props,t,h.PaymentConst.dataSource);(0,I.deleteCacheData)(r.props,h.PaymentConst.pk_filed,t,h.PaymentConst.dataSource),u.pageInfoClick.call(r,r.props,a)}}},a);U=(0,s.createPage)({billinfo:{billtype:"extcard",pagecode:h.card_page_id,headcode:h.card_from_id,bodycode:[h.card_table1_id,h.card_table2_id]},mutiLangCode:h.funcode,orderOfHotKey:[h.card_from_id,h.card_table1_id,h.card_table2_id]})(U),t.default=U},209:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=226)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},226:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000095",placeholder:"refer-000095",rootNode:{refname:"refer-000095",refpk:"root"},refCode:"uapbd.fiacc.CostCenterTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/CostCenterTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1};return React.createElement(i,a({},t,e))};var n=r(0),o=r(3),i=n.high.Refer},3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer;o.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelFundLine=t.DelFinanceLine=t.copyFundLine=t.copyFinanceLine=t.bodyButtonClick=void 0;var a=r(0),n=r(25),o=r(5),i=r(92),l=r(55),s=r(114),u=(a.base.NCPopconfirm,a.base.NCIcon,n.card_from_id,n.card_page_id,t.bodyButtonClick=function(e,t,r,a,s,f){switch(t){case"Open":(0,o.Open)(e,f,s,a,"edit");break;case"CopyThisLine":f==n.card_table1_id?u.call(this,e,f,s,a):c.call(this,e,f,s,a),l.handlerCardTableInsertAfter.call(this,e);break;case"InsertLine":i.addLineProcess.call(this,e,f,s),l.handlerCardTableInsertAfter.call(this,e);break;case"DeleteLine":f==n.card_table1_id?d.call(this,e,f,s,a):p.call(this,e,f,s,a);break;case"CopyAtLine":f==n.card_table1_id?i.BatchCopyPaymentLine.call(this,e,f,s):i.BatchCopyFund.call(this,e,f,s),l.handlerCardTableInsertAfter.call(this,e),f==n.card_table1_id?(this.copyflag1=!1,this.toggleShow()):f==n.card_table2_id&&(this.copyflag2=!1,this.toggleShow());break;case"OpenDown":case"CloseDown":e.cardTable.toggleRowView(f,a)}},t.copyFinanceLine=function(e,t,r,a){var o=Number(parseInt(this.maxIndex)),l=e.form.getFormItemsValue(n.card_from_id,"isautorelation").value,u=[],c=[],d=JSON.parse(JSON.stringify(a));if(o=parseInt(o)+parseInt(1),d.selected=!1,u.push(d.values.relationindex.value),d.values.rowno={value:o.toString(),display:o.toString()},d.values.relationindex={value:l?o.toString():null,display:l?o.toString():null},d.values.pk_paymentfinance={value:null,display:null},d.values.pseudocolumn={value:null,display:null},c.push(o),this.maxIndex=o,e.cardTable.insertRowsAfterIndex(t,d,r),l){for(var p=(0,i.queryRelationRowsByRowno)(e,u),f=e.cardTable.getRowsByIndexs(n.card_table2_id,p),m=JSON.parse(JSON.stringify(f)),b=0;b<m.length;b++){var y=m[b];y.values.relationindex={value:c[b].toString(),display:c[b].toString()},y.values.rowno={value:c[b].toString(),display:c[b].toString()},y.values.pk_paymentfund={value:null,display:null},y.values.pseudocolumn={value:null,display:null}}var g=p[0];e.cardTable.insertRowsAfterIndex(n.card_table2_id,m,g)}var _=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");s.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",_,null,null,null,null,!0)}),c=t.copyFundLine=function(e,t,r,o){var i=o&&o.values.paymode.value;if(n.IPaymentConst.Pay_Group.value==i||n.IPaymentConst.Pay_Back.value==i||n.IPaymentConst.Pay_Proxy.value==i)return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000104")}),!1;var l=JSON.parse(JSON.stringify(o));l.selected=!1;var u=Number(parseInt(this.maxIndex)+parseInt(1));this.maxIndex=u,l.values.relationindex={value:null,display:null},l.values.rowno={value:u.toString(),display:u.toString()},l.values.pk_paymentfund={value:null,display:null},l.values.pseudocolumn={value:null,display:null},e.cardTable.insertRowsAfterIndex(t,l,r);var c=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");s.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",c,null,null,null,null,!0)},d=t.DelFinanceLine=function(e,t,r,a){var o=[];o.push(a.values.relationindex.value),e.cardTable.delRowsByIndex(t,r);var l=(0,i.queryRelationRowsByRowno)(e,o);l&&l.length>0&&e.cardTable.delRowsByIndex(n.card_table2_id,l);var u=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");return s.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",u,null,null,null,null,!0),!0},p=t.DelFundLine=function(e,t,r,a){(0,o.DelLine)(e,t,r);var i=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");s.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",i,null,null,null,null,!0)}},211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,s=this;if(null==t||null==t||""==t)return e.form.EmptyAllFormValue(this.formId),e.cardTable.setMulTablesData((l(r={},this.tableId1,{rows:[]}),l(r,this.tableId2,{rows:[]}),r)),this.billNO="",this.billID="",void this.toggleShow();var u=(0,n.getCacheDataByPk)(e,o.PaymentConst.dataSource,t);if(u)e.setUrlParam(t),e.form.setAllFormValue(l({},this.formId,u.head[this.formId])),i.customerResetDisplayFormQuery.call(this,this.props,u.bodys[this.tableId1]),(0,i.fbmbillnoAfterEdit)(this.props,null,u.bodys[this.tableId2]),this.billID=u.head[this.formId].rows[0].values.pk_payment.value||"",this.billNO=u.head[this.formId].rows[0].values.vbillno.value||"",this.toggleShow();else{var c={pk:t,pageCode:this.pageId};(0,a.ajax)({url:"/nccloud/fts/commission/paymentcardquery.do",data:c,success:function(r){if(r.data){if(r.data.head)s.props.form.setAllFormValue(l({},s.formId,r.data.head[s.formId])),s.billID=r.data.head[s.formId].rows[0].values.pk_payment.value||"",s.billNO=r.data.head[s.formId].rows[0].values.vbillno.value||"",(0,n.getDefData)(o.PaymentConst.dataSource,o.PaymentConst.islink)&&(0,n.setDefData)(o.PaymentConst.dataSource,o.PaymentConst.linkSourceData+s.billID,r.data.head[s.formId]);r.data.bodys&&(i.customerResetDisplayFormQuery.call(s,s.props,r.data.bodys[s.tableId1]),(0,i.fbmbillnoAfterEdit)(s.props,null,r.data.bodys[s.tableId2])),e.setUrlParam(t),(0,n.updateCacheData)(e,o.PaymentConst.pk_filed,t,r.data,s.formId,o.PaymentConst.dataSource,r.data.head[s.formId].rows[0].values),s.toggleShow()}else{var u;(0,a.toast)({color:"warning",content:s.props.MutiInit.getIntl("36300TP")&&s.props.MutiInit.getIntl("36300TP").get("36300TP-000109")}),s.props.form.EmptyAllFormValue(s.formId),s.props.cardTable.setMulTablesData((l(u={},s.tableId1,{rows:[]}),l(u,s.tableId2,{rows:[]}),u)),s.billNO="",s.billID="",s.toggleShow()}}})}};var a=r(0),n=r(7),o=r(25),i=r(119);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},24:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=r(3),o=s(n),i=(s(r(4)),r(0)),l=(s(r(22)),r(28));function s(e){return e&&e.__esModule?e:{default:e}}var u=i.base.NCModal,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getLangCode=function(e){var t=r.props.MutiInit.getIntl(r.moduleId);return t&&t.get(r.moduleId+"-"+e)},r.initMultiLang=function(){var e=r.moduleId;(0,i.getMultiLang)({moduleId:e,currentLocale:r.state.currentLocale,domainName:"cmp",callback:r.setMultiLang})},r.setMultiLang=function(e){r.setState({json:e},(function(){l.initTemplate.call(r,r.props)}))},r.getData=function(e){var t={pubsearch:e,pagecode:"360701OB_P01",queryAreaCode:"",oid:"",queryType:"simple"};(0,i.ajax)({url:"/nccloud/cmp/bankaccountbook/initrestmoneypub.do",data:t,success:function(e){var t=e.success,a=e.data;if(t&&null!=a&&a){var n={},o=[];if(a.message)return(0,i.toast)({color:"warning",content:a.message}),void r.props.table.setAllTableData(r.tableId,{rows:[]});var l=a.scale;l||(l="3");var s=a.vos,u={},c={},d=s.accountCode,p=s.accountName,f=s.accountType,m=s.capitalType,b=s.currencyName,y=s.currentBalance,g=s.surplusBalance;c.accountcode={value:d,display:d},c.accountname={value:p,display:p},c.accounttype={value:f,display:f},c.capitaltype={value:m,display:m},c.currencyname={value:b,display:b},c.currentbalance={value:y,display:y,scale:l},c.surplusbalance={value:g,display:g,scale:l},u.values=c,u.status="0",u.rowid=null,o.push(u),n.rows=o,n.areacode=r.tableId,r.props.table.setAllTableData(r.tableId,n)}else r.props.table.setAllTableData(r.tableId,{rows:[]})}})},r.close=function(){r.setState({showOriginalData:[]},(function(){r.props.onCloseClick()}))},r.moduleId="360701OB",r.tableId="restmoney",r.state={currentLocale:"zh-CN",showOriginalData:[],json:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){this.initMultiLang()}},{key:"componentDidMount",value:function(){var e=this;this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:this.props.showOriginalData},(function(){e.initData()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.showmodal&&e.showmodal!==this.props.showmodal){this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:e.showOriginalData},(function(){t.initData()}))}}},{key:"initData",value:function(){var e=this.state.showOriginalData;if(Array.isArray(e)){if(!e||0==e.length)return;for(var t=0;t<e.length;t++){var r=e[t];r.pk_account||r.pk_cashaccount||e.splice(t,1)}if(0==e.length)return;this.getData(e)}else{var a=[];if(!e.pk_account&&!e.pk_cashaccount)return;a.push(e),this.getData(a)}}},{key:"render",value:function(){var e=this.props,t=e.table,r=e.button,a=(e.search,e.modal,t.createSimpleTable);r.createButton;return o.default.createElement("div",null,o.default.createElement(u,{fieldid:"accbalance",show:this.props.showmodal,style:{width:"1100px"},size:"lg",onHide:this.close},o.default.createElement(u.Header,{closeButton:"true"},o.default.createElement(u.Title,null,this.state.json["360701OB-000056"])),o.default.createElement(u.Body,{size:"sm",className:"body-resize-icon"},o.default.createElement("div",null,a(this.tableId,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0})))))}}]),t}(n.Component);t.default=(0,i.createPage)({})(c)},26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"tmpub",currentLocale:"zh-CN",moduleId:"refer_tmpub"},refType:"grid",refName:"refer-0011",refcode:"tmpub.refer.accid.AccidGridRef",queryGridUrl:"/nccloud/tmpub/refer/AccidGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-0012","refer-0013","refer-0014","refer-0015","refer-0016","refer-0017","refer-0018"],code:["refcode","refname","pk_ownerorgname","pk_orgname","currtypename","acctypename","isaccounting"]}]};return React.createElement(a,Object.assign(t,e))};var a=r(0).high.Refer},27:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=472)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer;o.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}},472:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000386",placeholder:"refer-000386",rootNode:{refname:"refer-000015",refpk:"root"},refCode:"uapbd.pub.BankaccSubUseTreeGridRef",queryTreeUrl:"/nccloud/uapbd/ref/BankaccSubUseTreeRef.do",queryGridUrl:"/nccloud/uapbd/ref/BankaccSubUseGridRef.do",columnConfig:[{name:["refer-000377","refer-000378","refer-000379","refer-000387","refer-000388","refer-000017","refer-000382","refer-000383","refer-000389","refer-000385","refer-000014"],code:["bd_bankaccsub.accnum","bd_bankaccsub.accname","bd_bankaccbas.code","bd_bankaccbas.name","bd_bankdoc.name","bd_banktype.name","bd_bankaccsub.code","bd_bankaccsub.name","bd_currtype.name","bd_bankaccsub.acctype as acctype","bd_bankaccbas.mnecode"],checked:{"bd_bankaccbas.mnecode":!1},search:{"bd_bankaccbas.mnecode":!0}}],treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1};return React.createElement(i,a({},t,e))};var n=r(0),o=r(3),i=n.high.Refer}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restmoney=t.initTemplate=void 0;var a=o(r(29)),n=o(r(17));function o(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=a.default,t.restmoney=n.default},29:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default.call(this);if(t.template){var r=t.template;r=function(e,t){return t.restmoney.items=t.restmoney.items.map((function(e,t){return e.width=150,e})),t.restmoney.showcheck=!0,t.restmoney.pagination=!1,t}(0,r),e.meta.setMeta(r)}};r(0);var a,n=r(17),o=(a=n)&&a.__esModule?a:{default:a}},44:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=474)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer;o.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}},474:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="refer-000393";"refer-000393"==e.title||"refer-000394"==e.title||"refer-000395"==e.title?t=e.title:e.title=t;var r={refName:t,placeholder:t,refCode:"uapbd.refer.pub.CustBankAccGridRef",queryGridUrl:"/nccloud/uapbd/ref/CustBankAccGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-000012","refer-000013","refer-000381","refer-000015","refer-000384"],code:["accnum","accname","bankdoc_name","banktype_name","currtype_name"]}],multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",isShowUnit:!1,unitProps:o.conf};return React.createElement(i,a({},r,e))};var n=r(0),o=r(3),i=n.high.Refer}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},45:function(e,t,r){"use strict";(function(e){var a,n,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(l,s){"object"==i(t)&&"object"==i(e)?e.exports=s(r(0),r(3)):(n=[r(0),r(3)],void 0===(o="function"==typeof(a=s)?a.apply(t,n):a)||(e.exports=o))}(window,(function(e,t){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":i(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=529)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},143:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer,l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000193",refCode:"uapbd.org.BusinessUnitAllTreeRef",rootNode:{refname:"refer-000193",refpk:"root"},placeholder:"refer-000194",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitAllTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1,isHasDisabledData:!1}},4:function(e,r){e.exports=t},5:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),i=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[a].concat(i).concat([o]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(a[o]=!0)}for(n=0;n<e.length;n++){var i=e[n];"number"==typeof i[0]&&a[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),t.push(i))}},t}},529:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000500",refCode:"uapbd.supplier.InnerCustSupplierForCustGridTreeRef",placeholder:"refer-000500",queryTreeUrl:"/nccloud/uapbd/ref/CustSupplierFlexTreeRef.do",queryGridUrl:"/nccloud/uapbd/ref/CustSupplierFlexGridRef.do",columnConfig:[{name:["refer-000047","refer-000501","refer-000502","refer-000014","refer-000504"],code:["pk_orgname","refcode","refname","mnecode","taxpayerid"],fullTxtCode:{refcode:!0,refname:!0,taxpayerid:!0},search:{mnecode:!0}}],isMultiSelectedEnabled:!1,treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isTreelazyLoad:!0,isShowUnit:!1,unitProps:s.conf,isShowUsual:!0,isHasDisabledData:!0,defaultCheck:"pk_custclass"};return c.default.createElement(p,a({},t,e))};var o=r(0),l=d(r(530)),s=r(143),u=r(4),c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}o.high.Refer;var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={rootNode:{refname:"pk_custclass"==r.props.defaultCheck?"refer-000538":"refer-000539",refpk:"root"}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onRadioChange",value:function(e){var t=this.state.rootNode;t.refname="pk_custclass"==e?"refer-000538":"refer-000539",this.setState({rootNode:t})}},{key:"render",value:function(){return c.default.createElement(l.default,a({},this.props,{rootNode:this.state.rootNode,onRadioChange:this.onRadioChange.bind(this)}))}}]),t}(u.Component)},530:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)},o=r(0);r(531);var l=o.base.NCRadio,s=o.high.Refer,u=(s.PopRefer,(0,s.MultiLangWrapper)(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getParam=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,a=t.queryCondition,o=t.pageSize,i=t.refType;"root"===e.pid&&(e.pid="");var l=e.keyword,s=void 0===l?"":l,u=e.pid,c=void 0===u?"":u,d=e.pageInfo,p=void 0===d?{}:d;p={pageSize:p.pageSize||o,pageIndex:p.pageIndex||("tree"===i?-1:0)};var f={pid:c,keyword:s,queryCondition:a?"function"==typeof a?a():"object"===(void 0===a?"undefined":n(a))?a:{}:{},pageInfo:p};return f.queryCondition.queryType=r.state.radioValue,f},r.handleGroupChange=function(e){r.setState({group_pk:e.refpk,expandedKeys:[]},(function(){r.getTreeData()}))},r.handleRadioChange=function(e){r.props.onRadioChange(e);var t=r.props.rootNode,a=r.state.group;a[void 0]=[t],r.setState({group:a,tableData:[{rows:[],page:{pageIndex:0,pageSize:r.props.pageSize,totalPage:1}}],treeData:[t],radioValue:e,expandedKeys:[]},(function(){r.getTreeData()}))},r.getTreeData=function(){var e=r.props,t=e.queryTreeUrl,a=e.isCacheable,n=e.rootNode,o=r.getParam({pid:"",pageInfo:{pageSize:10,pageIndex:-1},queryCondition:{queryType:r.state.radioValue}}),i=r.hasCache(t,o);r.state.tableData=[{rows:[],page:{pageIndex:0,pageSize:r.props.pageSize,totalPage:1}}],1==a&&i?r.setTreeData("treeData",n,i):r.loadTreeData(o).then((function(e){r.setTreeData("treeData",n,e)})),r.setState({tableData:r.state.tableData})},r.renderPopoverLeftHeader=function(){return React.createElement("div",{id:"radioGroup",style:{"margin-bottom":"5px","margin-left":"10px"}},React.createElement(l.NCRadioGroup,{name:"role",radioValue:r.state.radioValue,selectedValue:r.state.radioValue,onChange:r.handleRadioChange.bind(r)},React.createElement(l,{className:"my-radio",value:"pk_custclass"},r.props.multiLang["refer-000540"]),React.createElement(l,{className:"my-radio",value:"pk_supplierclass"},r.props.multiLang["refer-000541"])))},r.state=a({},r.state,{radioValue:"pk_custclass"==r.props.defaultCheck?"pk_custclass":"pk_supplierclass",group_pk:"firstGroup",currentReffer:[]}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.ReferWithUnit)));t.default=u},531:function(e,t,r){var a=r(532);"string"==typeof a&&(a=[[e.i,a,""]]);r(6)(a,{transform:void 0}),a.locals&&(e.exports=a.locals)},532:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".my-radio label.u-radio-label::before {\n  height: 14px!important;\n  width: 14px!important;\n}\n.my-radio label.u-radio-label::after {\n  margin-left: 4px!important;\n  top: 7px!important;\n}\n",""])},6:function(e,t,r){var a,n,o={},l=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=a.apply(this,arguments)),n}),s=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}((function(e){return document.querySelector(e)})),u=null,c=0,d=[],p=r(7);function f(e,t){for(var r=0;r<e.length;r++){var a=e[r],n=o[a.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](a.parts[i]);for(;i<a.parts.length;i++)n.parts.push(h(a.parts[i],t))}else{var l=[];for(i=0;i<a.parts.length;i++)l.push(h(a.parts[i],t));o[a.id]={id:a.id,refs:1,parts:l}}}}function m(e,t){for(var r=[],a={},n=0;n<e.length;n++){var o=e[n],i=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(l):r.push(a[i]={id:i,parts:[l]})}return r}function b(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=d[d.length-1];if("top"===e.insertAt)a?a.nextSibling?r.insertBefore(t,a.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),d.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",_(t,e.attrs),b(e,t),t}function _(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function h(e,t){var r,a,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var i=c++;r=u||(u=g(t)),a=I.bind(null,r,i,!1),n=I.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",_(t,e.attrs),b(e,t),t}(t),a=w.bind(null,r,t),n=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),a=P.bind(null,r),n=function(){y(r)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"==typeof document?"undefined":i(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==i(t.attrs)?t.attrs:{},t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=m(e,t);return f(r,t),function(e){for(var a=[],n=0;n<r.length;n++){var i=r[n];(l=o[i.id]).refs--,a.push(l)}for(e&&f(m(e,t),t),n=0;n<a.length;n++){var l;if(0===(l=a[n]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var v,k=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function I(e,t,r,a){var n=r?"":a.css;if(e.styleSheet)e.styleSheet.cssText=k(t,n);else{var o=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function P(e,t){var r=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function w(e,t,r){var a=r.css,n=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(a=p(a)),n&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([a],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}},7:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,a=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:a+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}}})}))}).call(this,r(13)(e))},46:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerAccoutDialog=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=r(3),o=s(n),i=(s(r(4)),r(0));r(50);var l=s(r(52));function s(e){return e&&e.__esModule?e:{default:e}}var u=i.base.NCModal,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.tableCode="inneraccbalance",r.init(e),r.state={json:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){this.init(e),this.queryAccBalance(this.props.accpk)}},{key:"componentWillMount",value:function(){var e=this;(0,i.getMultiLang)({moduleId:"3601Inner",domainName:"tmpub",callback:function(t,r,a){r&&e.setState({json:t},(function(){e.initTemplate()}))}})}},{key:"render",value:function(){var e=this.props.table.createSimpleTable;return o.default.createElement(u,{fieldid:"inneraccbalance",className:"InnerAccoutModal_class",show:this.show,onHide:this.close,style:{width:"700px"}},o.default.createElement(u.Header,{closeButton:!0},o.default.createElement(u.Title,null,this.state.json["3601Inner-000005"])),o.default.createElement(u.Body,{className:"body-resize-icon"},e&&o.default.createElement("div",null,e(this.tableCode,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0}))))}},{key:"componentDidMount",value:function(){this.queryAccBalance()}},{key:"init",value:function(e){this.pk_accid=e.accpk,this.show=e.showModal,this.close=e.closeModal}},{key:"queryAccBalance",value:function(){var e=this;(0,i.ajax)({url:"/nccloud/tmpub/pub/inneraccbalance.do",async:!0,data:{accid:this.pk_accid},success:function(t){var r=t.data,a={areacode:e.tableCode,rows:[{status:0,rowid:null,values:{name:{display:r.accName,value:r.accName,scale:-1},bookbalance:{display:null,value:r.bookBalance,scale:3},realbalance:{display:null,value:r.realBalance,scale:3},realbalancewithoutover:{display:null,value:r.realBalanceNoOverFraft,scale:3}}}]};e.props.table.setAllTableData(e.tableCode,a)},error:function(t){e.props.table.setAllTableData(e.tableCode,{rows:[]})}})}},{key:"initTemplate",value:function(){var e=l.default.call(this);if(e.template){var t=e.template;t=this.modifierMeta.call(this,t),this.props.meta.setMeta(t)}}},{key:"modifierMeta",value:function(e){return e}}]),t}(n.Component);t.InnerAccoutDialog=(0,i.createPage)({})(c)},50:function(e,t,r){var a=r(51);"string"==typeof a&&(a=[[e.i,a,""]]);var n={transform:void 0};r(9)(a,n);a.locals&&(e.exports=a.locals)},51:function(e,t,r){(e.exports=r(8)(!1)).push([e.i,".InnerAccoutModal_class .u-modal-content {\n  max-height: 300px !important;\n}\n",""])},52:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{inneraccbalance:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"inneraccbalance",tabRelation:["inneraccbalance"]}},inneraccbalance:{clazz:null,code:"inneraccbalance",items:[{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000000"],attrcode:"name",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000001"],attrcode:"bookbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000002"],attrcode:"realbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000003"],attrcode:"realbalancewithoutover",maxlength:"20",metapath:null}],moduletype:"table",name:this.state.json["3601Inner-000005"],pagination:!1,vometa:""},code:"inneraccbalancedialog",moduletype:"table",name:this.state.json["3601Inner-000005"]},code:"inneraccbalancedialog",formrelation:null,name:this.state.json["3601Inner-000005"],metapath:null,clazz:null,pagetype:"Nochild"}}},65:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=187)}({0:function(t,r){t.exports=e},187:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000546",refCode:"uapbd.bankacc.BankDocDefaultGridRef",placeholder:"refer-000546",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},rootNode:{refname:"refer-000546",refpk:"root"},queryGridUrl:"/nccloud/uapbd/ref/BankDocDefaultGridRef.do",queryTreeUrl:"/nccloud/uapbd/ref/BankDocDefaultTreeRef.do",columnConfig:[{name:["refer-000047","refer-000547","refer-000548","refer-000250","refer-000549","refer-000550","refer-000551","refer-000015"],code:["org_name","refcode","refname","shortname","pk_fatherbank","province","city","ttname"],checked:{ttname:!1}}],isMultiSelectedEnabled:!1};return React.createElement(d,a({},t,e))};var o=r(0),i=o.high.Refer,s=i.PopRefer,u=i.MultiLangWrapper,c=(o.high.Refer,o.base.NCCheckbox),d=(o.base.NCCollapse,o.base.NCButton,o.base.NCTable,u(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getParam=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,a=t.queryCondition,o=t.pageSize,i=t.refType,l=e.keyword,s=void 0===l?"":l,u=e.pid,c=void 0===u?"":u,d=e.pageInfo,p=void 0===d?{}:d;p={pageSize:p.pageSize||o,pageIndex:p.pageIndex||("tree"===i?-1:0)};var f={pid:c,keyword:s,queryCondition:a?"function"==typeof a?a():"object"===(void 0===a?"undefined":n(a))?a:{}:{},pageInfo:p};return f.queryCondition.isShowOwnBank=r.state.isShowOwnBank?"Y":"N",f.queryCondition.isIncludeCustSup=r.state.isIncludeCustSup?"Y":"N",f},r.renderPopoverBottomExtend=function(){return React.createElement("div",{style:{marginLeft:"225px"}},React.createElement("div",{style:{float:"left"}},React.createElement(c,{checked:r.state.isShowOwnBank,onChange:r.onChangeFirst.bind(r)},r.props.multiLang["refer-000552"])),React.createElement("div",{style:{marginLeft:"15px",float:"left"}},React.createElement(c,{checked:r.state.isIncludeCustSup,onChange:r.onChangeSecond.bind(r)},r.props.multiLang["refer-000553"])))},r.onChangeFirst=function(e){r.setState({isShowOwnBank:e},(function(){var e=r.getParam({pid:r.state.selectedKeys[0],pageInfo:{pageSize:r.props.pageSize,pageIndex:0}});null!==e.pid&&void 0!==e.pid&&""!==e.pid&&r.loadTableData(e).then((function(e){r.setTableData("tableData",r.state.currentLevel,e)}))}))},r.onChangeSecond=function(e){r.setState({isIncludeCustSup:e},(function(){var e=r.getParam({pid:r.state.selectedKeys[0],pageInfo:{pageSize:r.props.pageSize,pageIndex:0}});null!==e.pid&&void 0!==e.pid&&""!==e.pid&&r.loadTableData(e).then((function(e){r.setTableData("tableData",r.state.currentLevel,e)}))}))},r.state=a({},r.state,{isShowOwnBank:!1,isIncludeCustSup:!0}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s)))}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},66:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=516)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},10:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer,l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000165",placeholder:"refer-000165",rootNode:{refname:"refer-000165",refpk:"root"},treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},refCode:"uapbd.refer.org.FinanceOrgTreeRef",queryTreeUrl:"/nccloud/uapbd/org/FinanceOrgTreeRef.do",isShowDisabledData:!1,unitProps:o.conf,isRunWithChildren:!1}},516:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",refName:"refer-000466",placeholder:"refer-000466",refCode:"uapbd.refer.sminfo.CashAccountGridRef",queryGridUrl:"/nccloud/uapbd/sminfo/CashAccountGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-000002","refer-000003","refer-000384"],code:["refcode","refname","currtype"]}],unitProps:o.conf,isShowUnit:!1};return React.createElement(i,a({},t,e))};var n=r(0),o=r(10),i=n.high.Refer}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},67:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=10)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},10:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer,l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000165",placeholder:"refer-000165",rootNode:{refname:"refer-000165",refpk:"root"},treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},refCode:"uapbd.refer.org.FinanceOrgTreeRef",queryTreeUrl:"/nccloud/uapbd/org/FinanceOrgTreeRef.do",isShowDisabledData:!1,unitProps:o.conf,isRunWithChildren:!1}}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},68:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=235)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},235:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000113",placeholder:"refer-000113",rootNode:{refname:"refer-000113",refpk:"root"},refCode:"uapbd.refer.fiacc.FundPlanTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/FundPlanTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1};return React.createElement(i,a({},t,e))};var n=r(0),o=r(3),i=n.high.Refer},3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer;o.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},69:function(e,t,r){"use strict";(function(e){var a,n,o,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":l(e))&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../../../../",r(r.s=468)}({0:function(t,r){t.exports=e},1:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,a({},o,e))};var n=r(0).high.Refer,o=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},3:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,a({},l,e))};var n=r(0),o=r(1),i=n.high.Refer;o.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:o.conf,isShowUnit:!1}},468:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"gridTree",refName:"refer-000369",placeholder:"refer-000369",rootNode:{refname:"refer-000216",refpk:"root"},refCode:"uapbd.psninfo.PsndocTreeGridRef",queryTreeUrl:"/nccloud/uapbd/ref/PsndocTreeRef.do",queryGridUrl:"/nccloud/uapbd/ref/PsndocGridRef.do",columnConfig:[{name:["refer-000370","refer-000371","refer-000216"],code:["refcode","refname","deptname"],fullTxtCode:{refcode:!0,refname:!0}}],treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:i.conf,isShowUsual:!0,isShowUnit:!0,rowKey:"pk_psnjob"};return React.createElement(p,a({},t,e))};var o=r(0),i=r(3);i.conf.fieldid="orgunit";var s=o.high.Refer,u=(s.PopRefer,s.MultiLangWrapper),c=s.ReferWithUnit,d=(o.high.Refer,o.base.NCCheckbox),p=(o.base.NCCollapse,o.base.NCButton,o.base.NCTable,u(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getParam=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,a=t.queryCondition,o=t.pageSize,i=t.refType,l=e.keyword,s=void 0===l?"":l,u=e.pid,c=void 0===u?"":u,d=e.pageInfo,p=void 0===d?{}:d;p={pageSize:p.pageSize||o,pageIndex:p.pageIndex||("tree"===i?-1:0)};var f={pid:c,keyword:s,queryCondition:a?"function"==typeof a?a(r.props):"object"===(void 0===a?"undefined":n(a))?a:{}:{},pageInfo:p,refType:i};return f.queryCondition.isShowDimission=r.state.isShowDimission?"Y":"N",f},r.renderPopoverLeftHeader=function(){return r.props.isShowDimission&&React.createElement("div",{style:{"margin-bottom":"5px","margin-left":"10px"}},React.createElement(d,{checked:r.state.isShowDimission,onChange:r.onChangeFirst.bind(r)},r.props.multiLang["refer-000570"]?r.props.multiLang["refer-000570"]:"显示离职人员"))},r.onChangeFirst=function(e){r.setState({isShowDimission:e,isShowDisabledData:e,isDisabledDataDisabled:e},(function(){var e=r.__getParam({pid:r.state.selectedKeys[0],pageInfo:{pageSize:r.props.pageSize,pageIndex:0}});null!==e.pid&&void 0!==e.pid&&""!==e.pid&&r.loadTableData(e).then((function(e){r.setTableData("tableData",r.state.currentLevel,e)}))}))},r.state=a({},r.state,{unit:e.defaultUnitValue||{},isShowDimission:!1}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(c)))}})},"object"==l(t)&&"object"==l(e)?e.exports=i(r(0)):(n=[r(0)],void 0===(o="function"==typeof(a=i)?a.apply(t,n):a)||(e.exports=o))}).call(this,r(13)(e))},92:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTableDefData=t.modelDelLineAfterProcess=t.modelDelLineProcess=t.modelAddLineProcess=t.PaymentPay=t.PaymentCallBackPay=t.PaymentMergePay=t.PaymentRecoveryFund=t.BatchCopyFund=t.getCopyIndexByFinanceIndex=t.BatchCopyPaymentLine=t.queryRelationRowsByRowno=t.BatchDelPaymentFundLine=t.BatchDelPayemntLine=t.AddPaymentLine=t.addLineProcess=void 0;var a=r(0),n=r(25),o=r(2),i=r(6),l=r(114),s=r(5),u=b(r(205)),c=r(12),d=r(7),p=b(r(19)),f=r(55),m=r(1);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function a(n,o){try{var i=t[n](o),l=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}a.high.NCUploader;var _,h={};h[n.card_table1_id]="pk_paymentfinance",h[n.card_table2_id]="pk_paymentfund",t.default=(_=g(regeneratorRuntime.mark((function e(t,r,l){var u,d,p,m,b,g,_,v,k,I,P,T,O,M,H,W,J,Y,Q,Z,$,X,ee,te,re,ae,ne,oe,ie,le,se,ue=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getUrlParam("status"),u=this.props.form.getFormItemsValue(n.card_from_id,"pk_payment").value,d=this.props.form.getFormItemsValue(n.card_from_id,"vsourcebustype")&&this.props.form.getFormItemsValue(n.card_from_id,"vsourcebustype").value,this.props.form.getFormItemsValue(this.formId,"pk_vsourcebilltype").value,p=this.props.form.getFormItemsValue(this.formId,"vbillno").value,m=this.props.form.getFormItemsValue(this.formId,"pk_billtype")&&this.props.form.getFormItemsValue(this.formId,"pk_billtype").value,b=m,this.props.form.getFormItemsValue(this.formId,"pk_srcbill").value,g=this.props.form.getFormItemsValue(this.formId,"pk_org").value,_=this.props.form.getFormItemsValue(this.formId,"pk_group").value,v=this.props.form.getFormItemsValue(this.formId,"ispayroll").value,(k={})[(n.card_table1_id,n.card_table2_id)]="cardTable",I={},P=[],T=[],O=null,M={},e.t0=r,e.next="Add"===e.t0?26:"Save"===e.t0?29:"SaveAdd"===e.t0?33:"SaveCommit"===e.t0?37:"Edit"===e.t0?41:"Refresh"===e.t0?43:"Copy"===e.t0?45:"Delete"===e.t0?61:"Cancel"===e.t0?63:"Commit"===e.t0?65:"Uncommit"===e.t0?67:"Back"===e.t0?69:"Decide"===e.t0?71:"Undecide"===e.t0?73:"Deliver"===e.t0?75:"Undeliver"===e.t0?77:"Premit"===e.t0?79:"Unpremit"===e.t0?81:"File"===e.t0?83:"Print"===e.t0?85:"OffiPrint"===e.t0?87:"InOffiPrint"===e.t0?89:"OutPut"===e.t0?91:"LinkWorkFlow"===e.t0?93:"LinkSourceBill"===e.t0?96:"LinkAfterBill"===e.t0?105:"LinkNtbPlan"===e.t0?107:"LinkBankAcc"===e.t0?109:"LinkCashAcc"===e.t0?112:"LinkRecAcc"===e.t0?115:"LinkInnerAcc"===e.t0?118:"LinkCheckPayBill"===e.t0?121:"LinkCheckAccBill"===e.t0?132:"LinkUpBill"===e.t0?148:"LinkDownBill"===e.t0?150:"LinkViewVoucher"===e.t0?152:"LinkReturnBill"===e.t0?154:"Pay"===e.t0?160:"MergePay"===e.t0?169:"UnPay"===e.t0?178:"RecoveryFund"===e.t0?180:"CallBackPay"===e.t0?188:"QueryStatus"===e.t0?196:"Abolish"===e.t0?198:"UnionCheckPayBill"===e.t0?200:"PayChangeBill"===e.t0?202:"BankAccReWrite"===e.t0?204:"BankAccBrowse"===e.t0?206:"DownRewrite"===e.t0?208:"DownRewriteBrowse"===e.t0?210:"UpRewrite"===e.t0?212:"UpRewriteBrowse"===e.t0?214:"AddLine"===e.t0||"AddLine2"===e.t0?216:"DelLine"===e.t0?220:"DelLine2"===e.t0?223:"CopyLine"===e.t0||"CopyLine2"===e.t0?226:"CopyLineLast"===e.t0?249:"CopyLineLast2"===e.t0?254:"CancelLine"===e.t0||"CancelLine2"===e.t0?259:262;break;case 26:return N.call(this,t),this.toggleShow(),e.abrupt("break",263);case 29:return this.isSaveAdd=!1,I=this.props.createExtCardData(this.pageId,this.formId,[this.tableId1,this.tableId2]),t.validateToSave(I,this.saveBill.bind(this,!1),k,""),e.abrupt("break",263);case 33:return this.isSaveAdd=!0,I=this.props.createExtCardData(this.pageId,this.formId,[this.tableId1,this.tableId2]),t.validateToSave(I,this.saveBill.bind(this,!1),k,""),e.abrupt("break",263);case 37:return this.isSaveAdd=!1,I=this.props.createExtCardData(this.pageId,this.formId,[this.tableId1,this.tableId2]),t.validateToSave(I,K.bind(this,t),k,""),e.abrupt("break",263);case 41:return this.editBill(),e.abrupt("break",263);case 43:return this.qryData(!0),e.abrupt("break",263);case 45:if(!d||n.busType.BusType_BillDeliver!=d){e.next=48;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000008")}),e.abrupt("return");case 48:if(g=this.props.form.getFormItemsValue(n.card_from_id,"pk_org").value,H=this.props.form.getFormItemsValue(n.card_from_id,"pk_fundpayorg").value,g===H){e.next=53;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000009")}),e.abrupt("return");case 53:if(!(v=this.props.form.getFormItemsValue(n.card_from_id,"ispayroll").value)){e.next=57;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000010")}),e.abrupt("return");case 57:return r=t.getUrlParam("id"),t.pushTo("/card",{status:"add",id:r,isCopy:!0,from:"card"}),this.qryData(),e.abrupt("break",263);case 61:return t.modal.show("MessageDlg",{title:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000097"),content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000075"),leftBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000002"),rightBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000003"),hasCloseBtn:!1,beSureBtnClick:this.delConfirm.bind(this)}),e.abrupt("break",263);case 63:return t.modal.show("MessageDlg",{title:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000011"),content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000012"),leftBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000002"),rightBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000003"),hasCloseBtn:!1,beSureBtnClick:L.bind(this,t)}),e.abrupt("break",263);case 65:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentcommit.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000015"),n.PaymentConst.dataSource,z.bind(this),!0,{btncode:"Commit",pagecode:n.card_page_id}),e.abrupt("break",263);case 67:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentuncommit.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000016"),n.PaymentConst.dataSource,this.toggleShow.bind(this),null,{btncode:"Uncommit",pagecode:n.card_page_id}),e.abrupt("break",263);case 69:return d!==n.busType.BusType_BillFBM&&d!==n.busType.BusType_BillPayAwoke?this.setState({showModal:!0}):t.modal.show("MessageDlg",{title:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000098"),content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000086"),leftBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000002"),rightBtnName:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000003"),hasCloseBtn:!1,beSureBtnClick:this.beSureClick.bind(this)}),e.abrupt("break",263);case 71:return this.decideBill(),e.abrupt("break",263);case 73:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentundecide.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000017"),n.PaymentConst.dataSource,this.toggleShow.bind(this)),e.abrupt("break",263);case 75:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentdeliver.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000018"),n.PaymentConst.dataSource,this.toggleShow.bind(this)),e.abrupt("break",263);case 77:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentundeliver.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000019"),n.PaymentConst.dataSource,this.toggleShow.bind(this)),e.abrupt("break",263);case 79:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentpremit.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000020"),n.PaymentConst.dataSource,this.toggleShow.bind(this),null,{btncode:"Premit",pagecode:n.card_page_id}),e.abrupt("break",263);case 81:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentunpremit.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000021"),n.PaymentConst.dataSource,this.toggleShow.bind(this),null,{btncode:"Unpremit",pagecode:n.card_page_id}),e.abrupt("break",263);case 83:return this.setState({showUploader:!this.state.showUploader}),e.abrupt("break",263);case 85:return(0,a.print)("pdf",n.base_url+"paymentprint.do",{billtype:m,funcode:n.funcode,nodekey:null,oids:[u]}),e.abrupt("break",263);case 87:return G(t,!0),e.abrupt("break",263);case 89:return G(t,!1),e.abrupt("break",263);case 91:return(0,a.output)({url:n.base_url+"paymentprint.do",data:{oids:[u],outputType:"output"}}),e.abrupt("break",263);case 93:return this.billID=u,this.setState({showApproveDetail:!0}),e.abrupt("break",263);case 96:if(d!=n.busType.BusType_BillPayAwoke&&d!=n.busType.BusType_BillFBM&&d!=n.busType.BusType_BillDeliver){e.next=99;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000022")}),e.abrupt("return");case 99:if(d!=n.busType.BusType_BillHand){e.next=102;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000023")}),e.abrupt("return");case 102:return this.billID=u,this.setState({showBillReview:!0}),e.abrupt("break",263);case 105:return(0,a.ajax)({url:n.base_url+"paymentafterlinkinfo.do",data:{pk:u},success:function(e){if(e.data){var r=e.data;if(r&&r.length>0){var a=!0,n=!1,i=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value,d=c.type,p=c.pks,f=c.appCode,m=c.linkPageCode,g=c.billType;if(c.url,d&&d!=o.LINKTYPE.NORMAL){if(d==o.LINKTYPE.BILL_REVIEW){ue.billID=p[0],ue.setState({showBillReview:!0});break}}else{var _,h={};"F3"==g||"F2"==g?(y(_={scene:o.SCENE.LINK,status:"browse",appcode:f,pagecode:m},o.URL_PARAM.PK_SRC,u),y(_,o.LINK_PARAM.ARAP.FLAG,o.LINK_PARAM.ARAP.FLAG_VALUE),h=_):h=y({scene:o.SCENE.LINK,status:"browse",appcode:f,pagecode:m,srcbilltype:b},o.URL_PARAM.PK_SRC,u),t.openTo(null,h)}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}}}}),e.abrupt("break",263);case 107:return j.call(this,t),e.abrupt("break",263);case 109:return(W=A.call(this,t,n.card_table2_id,"pk_fundbankaccount_p"))&&(J="",P=this.props.cardTable.getCheckedRows(n.card_table2_id),Y=P[0].data,n.IPaymentConst.Pay_Group.value==Y.values.paymode.value||n.IPaymentConst.Pay_Back.value==Y.values.paymode.value?(Q=(0,f.getRelationIndexFinanceOrg)(t,Y,0,n.card_table1_id),J=Q):J=g,Z={pk_org:J,pk_account:W},T.push(Z),this.setState({showOriginal:!0,showOriginalData:T})),e.abrupt("break",263);case 112:return($=A.call(this,t,n.card_table2_id,"pk_fundcashaccount"))&&(X={pk_org:g,pk_cashaccount:$},T.push(X),this.setState({showOriginal:!0,showOriginalData:T})),e.abrupt("break",263);case 115:return(ee=A.call(this,t,n.card_table2_id,"pk_allotaccount"))&&(te={pk_org:g,pk_account:ee},T.push(te),this.setState({showOriginal:!0,showOriginalData:T})),e.abrupt("break",263);case 118:return(re=A.call(this,t,n.card_table1_id,"pk_inneraccount_p"))&&this.setState({showInnerAccount:!0,currAccid:re}),e.abrupt("break",263);case 121:if((P=this.props.cardTable.getCheckedRows(n.card_table2_id))&&0!=P.length){e.next=125;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000028")}),e.abrupt("return");case 125:if(!(P&&P.length>1)){e.next=128;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000029")}),e.abrupt("return");case 128:return O=P[0].data.values.pk_paymentfund&&P[0].data.values.pk_paymentfund.value,ae={pk:u,bpk:O},(0,a.ajax)({url:n.base_url+"paymentlinkpayconfirm.do",data:ae,success:function(e){var r=e.data;r&&(console.log("联查支付确认单",r[0].pks),t.openTo("/obm/ebankconfirmpay/confirmpay/main/index.html#/list",{status:"browse",appcode:"36100CONFM",pagecode:"36100CONFM_C01",yurrefs:r[0].pks,id:r[0].pks,type:"link"}))}}),e.abrupt("break",263);case 132:if((P=this.props.cardTable.getCheckedRows(n.card_table2_id))&&0!=P.length){e.next=136;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000028")}),e.abrupt("return");case 136:if(!(P&&P.length>1)){e.next=139;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000030")}),e.abrupt("return");case 139:if(O=P[0].data.values.pk_paymentfund&&P[0].data.values.pk_paymentfund.value,ne=P[0].data.values.isnetpay&&P[0].data.values.isnetpay.value,oe=P[0].data.values.dealway&&P[0].data.values.dealway.value,ne||oe){e.next=145;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000031")}),e.abrupt("return");case 145:return M={status:"browse",pk_paymentfund:O,sourceBillType:m},(0,c.linkApp)(t,n.PayChangeData.billtype,M),e.abrupt("break",263);case 148:return(0,a.ajax)({url:n.base_url+"paymentlinkupbill.do",data:{pk:u},success:function(e){var r=e.data;if(r){var a={status:"browse",srckey:r[0].pks,srcbilltype:m};(0,s.linkSucessPro)(t,e,a)}}}),e.abrupt("break",263);case 150:return(0,a.ajax)({url:n.base_url+"paymentlinkdownbill.do",data:{pk:u},success:function(e){var r=e.data;if(r){var a={status:"browse",linkquerytype:"1",srcbilltype:m,srcbillid:r[0].pks};(0,s.linkSucessPro)(t,e,a)}}}),e.abrupt("break",263);case 152:return(0,c.linkVoucherApp)(t,u,_,g,"36J5",p),e.abrupt("break",263);case 154:if(this.props.form.getFormItemsValue(this.formId,"billstatus").value==n.billstatus.PayOK){e.next=158;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000112")}),e.abrupt("return");case 158:return(0,a.ajax)({url:n.base_url+"paymentrcptinitcount.do",data:{pk:u},success:function(e){var r,a=(y(r={status:"browse"},o.URL_PARAM.PK_SRC,u),y(r,"scene",o.SCENE.LINK),y(r,"appcode","36300TPRF"),y(r,"pagecode","36300TPRF_L01"),r);"1"==parseInt(e.data)&&(a.pagecode="36300TPRF_C01"),t.openTo(null,a)}}),e.abrupt("break",263);case 160:if(v||(0,f.isEbankBuLuInfoFull)(t,"Pay")){e.next=166;break}this.isMergePay=!1,x.call(this,t,"BankAccReWrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_ZHIFU,!0,"Pay"),e.next=168;break;case 166:return e.next=168,q.call(this,t);case 168:return e.abrupt("break",263);case 169:if(v||(0,f.isEbankBuLuInfoFull)(t,"MergePay")){e.next=175;break}this.isMergePay=!0,x.call(this,t,"BankAccReWrite",n.base_url+"paymentbankrewrite.do",i.PAYMODEL_COMBINEPAY,!0,"MergePay"),e.next=177;break;case 175:return e.next=177,E.call(this,t);case 177:return e.abrupt("break",263);case 178:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentunpay.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000034"),n.PaymentConst.dataSource,this.toggleShow.bind(this),null,{btncode:"UnPay",pagecode:n.card_page_id}),e.abrupt("break",263);case 180:if(v||(0,f.isEbankBuLuInfoFull)(t,"RecoveryFund")){e.next=185;break}x.call(this,t,"UpRewrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_ZHIFU,!0,"RecoveryFund"),e.next=187;break;case 185:return e.next=187,V.call(this,t);case 187:return e.abrupt("break",263);case 188:if(v||(0,f.isEbankBuLuInfoFull)(t,"CallBackPay")){e.next=193;break}x.call(this,t,"DownRewrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_ZHIFU,!0,"CallBackPay"),e.next=195;break;case 193:return e.next=195,U.call(this,t);case 195:return e.abrupt("break",263);case 196:return(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentquerystatus.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000037"),n.PaymentConst.dataSource,this.toggleShow.bind(this),!0),e.abrupt("break",263);case 198:return this.setState({showAbolish:!0}),e.abrupt("break",263);case 200:return D.call(this,t),e.abrupt("break",263);case 202:return F.call(this,t),e.abrupt("break",263);case 204:return x.call(this,t,"BankAccReWrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_BULU),e.abrupt("break",263);case 206:return x.call(this,t,"BankAccBrowse",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_LIULAN),e.abrupt("break",263);case 208:return x.call(this,t,"DownRewrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_BULU),e.abrupt("break",263);case 210:return x.call(this,t,"DownRewriteBrowse",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_LIULAN),e.abrupt("break",263);case 212:return x.call(this,t,"UpRewrite",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_BULU),e.abrupt("break",263);case 214:return x.call(this,t,"UpRewriteBrowse",n.base_url+"paymentbankrewrite.do",i.SHOWMODEL_LIULAN),e.abrupt("break",263);case 216:return w.call(this,t,l),f.handlerCardTableInsertAfter.call(this,t),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 220:return C.call(this,t,l),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 223:return S.call(this,t,l),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 226:if(null!=(ie=t.cardTable.getCheckedRows(l))&&0!=ie.length){e.next=230;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000039")}),e.abrupt("return",!1);case 230:if(l!=n.card_table1_id){e.next=235;break}this.copyflag1=!0,this.toggleShow(),e.next=247;break;case 235:if(l!=n.card_table2_id){e.next=247;break}le=0;case 237:if(!(le<ie.length)){e.next=245;break}if(se=ie[le].data,n.IPaymentConst.Pay_Group.value!=se.values.paymode.value&&n.IPaymentConst.Pay_Back.value!=se.values.paymode.value&&n.IPaymentConst.Pay_Proxy.value!=se.values.paymode.value){e.next=242;break}return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000104")}),e.abrupt("return",!1);case 242:le++,e.next=237;break;case 245:this.copyflag2=!0,this.toggleShow();case 247:return f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 249:return B.call(this,t,l),l==n.card_table1_id&&(this.copyflag1=!1,this.toggleShow()),f.handlerCardTableInsertAfter.call(this,t),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 254:return R.call(this,t,l),l==n.card_table2_id&&(this.copyflag2=!1,this.toggleShow()),f.handlerCardTableInsertAfter.call(this,t),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 259:return"paymentfinance"==l?(this.copyflag1=!1,this.toggleShow()):"paymentfund"==l&&(this.copyflag2=!1,this.toggleShow()),f.setCardShouderBtnUseful.call(this,t,l),e.abrupt("break",263);case 262:return e.abrupt("break",263);case 263:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return _.apply(this,arguments)});var v,k,I,P,w=t.addLineProcess=function(e,t,r){var a=this.props.form.getFormItemsValue(this.formId,"isautorelation").value,o=((this.props.form.getFormItemsValue(this.formId,"pk_payment")||{}).value,this.props.form.getFormItemsValue(this.formId,"pk_org").value),i=this.props.form.getFormItemsValue(this.formId,"pk_group").value,l=Number(parseInt(this.maxIndex)+parseInt(1)),s={value:n.IPaymentConst.Pay_Direct.value,display:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000064")};this.maxIndex=l;var u={oripaymode:s,rowno:{value:l.toString(),display:l.toString()},relationindex:{value:a?l.toString():null,display:a?l.toString():null},pk_org:{value:o,display:o},pk_group:{value:i,display:i}},c={paymode:s,pk_org:{value:o,display:o},pk_group:{value:i,display:i},rowno:{value:l.toString(),display:l.toString()}},d=r||e.cardTable.getNumberOfRows(n.card_table1_id);console.log(d,"index11111");var p=r||e.cardTable.getNumberOfRows(n.card_table2_id);if(t==n.card_table1_id)if(a){T(e,n.card_table1_id,d,u);var f={paymode:{value:e.cardTable.getValByKeyAndIndex(n.card_table1_id,d,"oripaymode").value,display:e.cardTable.getValByKeyAndIndex(n.card_table1_id,d,"oripaymode").display},relationindex:{value:l.toString(),display:l.toString()},pk_org:{value:o,display:o},pk_group:{value:i,display:i},rowno:{value:l.toString(),display:l.toString()}};T(e,n.card_table2_id,p,f)}else u.relationindex={value:null,display:null},T(e,n.card_table1_id,d,u);else t==n.card_table2_id&&T(e,n.card_table2_id,p,c)},T=t.AddPaymentLine=function(e,t,r,a){e.cardTable.addRow(t,r,a,!1)},C=t.BatchDelPayemntLine=function(e,t){var r=e.cardTable.getCheckedRows(t);if(null==r||0==r.length)return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000040")}),!1;var o=[],i=[],s=!0,u=!1,c=void 0;try{for(var d,p=r[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;o.push(f.index),i.push(f.data.values.relationindex&&f.data.values.relationindex.value)}}catch(e){u=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw c}}e.cardTable.delRowsByIndex(t,o);this.props.form.getFormItemsValue(this.formId,"isautorelation").value;var m=O(e,i);m&&m.length>0&&e.cardTable.delRowsByIndex(n.card_table2_id,m);var b=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");return l.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",b,null,null,null,null,!0),!0},S=t.BatchDelPaymentFundLine=function(e,t){(0,s.BatchDelLine)(e,t);var r=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");l.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",r,null,null,null,null,!0)},O=t.queryRelationRowsByRowno=function(e,t){var r=[];if(t&&t.length>0)for(var a=e.cardTable.getAllRows(n.card_table2_id,!1),o=0;o<a.length;o++){var i=a[o];t.indexOf(i.values.relationindex.value)>-1&&r.push(o)}return r},B=t.BatchCopyPaymentLine=function(e,t,r){var o=e.cardTable.getCheckedRows(t);if(null==o||0==o.length)return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000039")}),!1;var i=Number(parseInt(this.maxIndex));console.log(i,"maxIndexCopy");var s=[],u=[],c=[],d=JSON.parse(JSON.stringify(o)),p=this.props.form.getFormItemsValue(this.formId,"isautorelation").value,f=!0,m=!1,b=void 0;try{for(var y,g=d[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var _=y.value;i=parseInt(i)+parseInt(1),_.data.selected=!1,u.push(_.data.values.relationindex&&_.data.values.relationindex.value),_.data.values.rowno={value:i.toString(),display:i.toString()},_.data.values.relationindex={value:p?i.toString():null,display:p?i.toString():null},_.data.values.pk_paymentfinance={value:null,display:null},_.data.values.pseudocolumn={value:null,display:null},console.log(_.data,"selectRowCopy"),s.push(_.data),c.push(i)}}catch(e){m=!0,b=e}finally{try{!f&&g.return&&g.return()}finally{if(m)throw b}}this.maxIndex=i;var h="";if(null==r&&(h=e.cardTable.getNumberOfRows(t,!1)),console.log(this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000041"),s,"table_index1",h),e.cardTable.insertRowsAfterIndex(t,s,h),p){var v=O(e,u);if(v&&v.length>0){for(var k=e.cardTable.getRowsByIndexs(n.card_table2_id,v),I=JSON.parse(JSON.stringify(k)),P=0;P<I.length;P++){var w=I[P];w.values.relationindex={value:c[P].toString(),display:c[P].toString()},w.values.rowno={value:c[P].toString(),display:c[P].toString()},w.values.pk_paymentfund={value:null,display:null},w.values.pseudocolumn={value:null,display:null}}var T=M(e,r);console.log(this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000042"),I,"table_index2",T),e.cardTable.insertRowsAfterIndex(n.card_table2_id,I,T)}}var C=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");return l.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",C,null,null,null,null,!0),!0},M=t.getCopyIndexByFinanceIndex=function(e,t){if(null==t||null==t||""==t)return e.cardTable.getNumberOfRows(n.card_table2_id,!1);var r=e.cardTable.getRowsByIndexs(n.card_table1_id,t);if(0==r.length)return e.cardTable.getNumberOfRows(n.card_table2_id,!1);var a=r[0].values.relationindex.value;return O([a])[0]},R=t.BatchCopyFund=function(e,t,r){var o=e.cardTable.getCheckedRows(t);if(null==o||0==o.length)return(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000039")}),!1;var i=[],s=JSON.parse(JSON.stringify(o)),u=Number(parseInt(this.maxIndex)),c=!0,d=!1,p=void 0;try{for(var f,m=s[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var b=f.value;u=Number(parseInt(u)+parseInt(1)),b.data.selected=!1,b.data.values.relationindex={value:null,display:null},b.data.values.rowno={value:u.toString(),display:u.toString()},b.data.values.pk_paymentfund={value:null,display:null},b.data.values.pseudocolumn={value:null,display:null},i.push(b.data)}}catch(e){d=!0,p=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw p}}this.maxIndex=u,null==r&&(r=e.cardTable.getNumberOfRows(t,!1)),e.cardTable.insertRowsAfterIndex(t,i,r);var y=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");return l.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",y,null,null,null,null,!0),!0},x=function(e,t,r,o){var i=this,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments[5],u=this.props.form.getFormItemsValue(this.formId,"pk_payment").value,c=this.props.form.getFormItemsValue(this.formId,"ts").value,d={};d[u]=c;var p={};p.extAction=s,(0,a.ajax)({url:r,data:{extParam:p,pkMapTs:d,actionCode:t},success:function(e){e&&e.data&&(i.isPay=l,"UpRewrite"!=t&&"DownRewrite"!=t||i.props.form.setFormItemsValue(n.card_from_id,{ts:{value:e.data.ts,display:e.data.ts}}),i.setState({onLineData:e.data.onlineData||[],actionCode:t,modelType:o},(function(){i.setState({showBuLu:!0})})))}}),this.toggleShow()},D=function(e){var t=this.props.cardTable.getCheckedRows(n.card_table2_id);if(t&&0!=t.length)if(t&&t.length>1)(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000029")});else if(this.props.form.getFormItemsValue(this.formId,"pk_transactorg").value===this.props.form.getFormItemsValue(this.formId,"pk_org").value)if(this.props.form.getFormItemsValue(this.formId,"ispayroll").value)(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000111")});else{var r=t[0].data.values.bankpaymsg,o=t[0].data.values.bankretmsg;if(r&&r.value||o&&o.value){var i=t[0].data.values.paystatus&&t[0].data.values.paystatus.value;t[0].data.values.netpayinfo&&t[0].data.values.netpayinfo.value;if(!n.NetPay_Status.NetPay_Fail!=i||!n.NetPay_Status.NetPay_Paying!=i){var l=this.props.form.getFormItemsValue(this.formId,"pk_payment").value,s=this.props.form.getFormItemsValue(this.formId,"ts").value,u=t[0].data.values.pk_paymentfund&&t[0].data.values.pk_paymentfund.value,c=[];c.push(u);var d={};d[l]=s,(0,a.ajax)({url:n.base_url+"paymentpayconfirm.do",data:{pkMapTs:d,bodyPKs:c},success:function(t){if(t&&t.data){var r=t.data;console.log(r,"pmtConfirmData"),e.openTo(n.ConfirmData.pmtConfirmUrl,{billtype:n.ConfirmData.billtype,pagecode:n.ConfirmData.pagecode,appcode:n.ConfirmData.appcode,status:"add",pk_org:r.pk_org,pk_group:r.pk_group,srcbillcode:r.srcbillcode,srcbilltype:r.srcbilltype,srcnodecode:r.srcnodecode,srcpkid:r.srcpkid,srcsystem:r.srcsystem,yurref:r.yurref})}}}),this.toggleShow()}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000045")})}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000044")})}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000043")});else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000028")})},F=function(e){var t=this.props.cardTable.getCheckedRows(n.card_table2_id);if(t&&0!=t.length)if(t&&t.length>1)(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000029")});else if(this.props.form.getFormItemsValue(this.formId,"pk_transactorg").value===this.props.form.getFormItemsValue(this.formId,"pk_org").value){var r=t[0].data.values.paystatus&&t[0].data.values.paystatus.value;if(n.NetPay_Status.NetPay_Fail==r)if(t[0].data.values.pk_payinfochanging&&t[0].data.values.pk_payinfochanging.value)(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000047")});else{var i=this.props.form.getFormItemsValue(this.formId,"pk_payment").value,l=(this.props.form.getFormItemsValue(this.formId,"ts").value,(this.props.form.getFormItemsValue(this.formId,"pk_billtype")||{}).value),s={status:"edit",sourceBillID:i,sourceBillBID:t[0].data.values.pk_paymentfund&&t[0].data.values.pk_paymentfund.value,sourceBillType:l,scene:o.SCENE.OTHER};(0,c.linkApp)(e,n.PayChangeData.billtype,s),this.toggleShow()}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000046")})}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000043")});else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000028")})},A=function(e,t,r){var n=this.props.cardTable.getCheckedRows(t);if(n&&0!=n.length){if(!(n&&n.length>1)){var o=n[0].data.values[r].value;return o||(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000024")}),o}(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000029")})}else(0,a.toast)({color:"warning",content:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000048")})},N=function(e){var t;e.getUrlParam("id");e.pushTo("/card",{status:"add",from:"card"}),u.default.call(this,e),this.billID="",e.form.EmptyAllFormValue(n.card_from_id),e.cardTable.setMulTablesData((y(t={},n.card_table1_id,{rows:[]}),y(t,n.card_table2_id,{rows:[]}),t)),this.toggleShow()},j=function(e){var t=this,r=e.form.getFormItemsValue(n.card_from_id,"pk_payment").value;(0,a.ajax)({url:n.base_url+"paymentlinkntb.do",data:{pk:r},success:function(e){var r=e.data;t.setState({showNtbDetail:!0,ntbdata:r})}})},L=function(e){var t=this.props.getUrlParam("status");if("edit"==t||t==n.viewmod_deal)e.setUrlParam({status:"browse",id:e.getUrlParam("id")}),this.qryData();else if("add"==t||"copy"==t){var r,a=(0,d.getCurrentLastId)(n.PaymentConst.dataSource);if(a)e.setUrlParam({status:"browse",id:a,isCopy:!1}),this.qryData();else this.billID="",this.props.form.EmptyAllFormValue(this.formId),this.props.cardTable.setMulTablesData((y(r={},this.tableId1,{rows:[]}),y(r,this.tableId2,{rows:[]}),r)),this.props.pushTo("/card",{status:"browse"}),this.toggleShow()}else window.history.back()},V=t.PaymentRecoveryFund=(v=g(regeneratorRuntime.mark((function e(t){var r,a,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,f.handleIsNeedCADentify)(t,n.card_from_id,"card","RecoveryFund"),(a={})[n.card_table1_id]="pk_paymentfinance",a[n.card_table2_id]="pk_paymentfund",o={btncode:"RecoveryFund",pagecode:n.card_page_id},i=t.form.getFormItemsValue(n.card_from_id,"pk_payment").value,"error"!=r){e.next=8;break}return e.abrupt("return");case 8:if(!r){e.next=15;break}return e.next=11,(0,p.default)({isSign:!0,isKey:!0,data:null,encryptVOClassName:null,primaryId:[i]});case 11:if((l=e.sent)&&!l.isStop){e.next=14;break}return e.abrupt("return");case 14:o={sign_strSrc:l.data.text,signature:l.data.signText,sign_sn:l.data.userjson,btncode:"RecoveryFund",pagecode:n.card_page_id};case 15:(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,a,"pk_payment",n.base_url+"paymentrecoveryfund.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000035"),n.PaymentConst.dataSource,this.toggleShow.bind(this),!0,o);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)}),E=t.PaymentMergePay=(k=g(regeneratorRuntime.mark((function e(t){var r,a,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r={})[n.card_table1_id]="pk_paymentfinance",r[n.card_table2_id]="pk_paymentfund",a={btncode:"MergePay",pagecode:n.card_page_id},o=t.form.getFormItemsValue(n.card_from_id,"pk_payment").value,"error"!=(i=(0,f.handleIsNeedCADentify)(t,n.card_from_id,"card","MergePay"))){e.next=8;break}return e.abrupt("return");case 8:if(!i){e.next=15;break}return e.next=11,(0,p.default)({isSign:!0,isKey:!0,data:null,encryptVOClassName:null,primaryId:[o]});case 11:if((l=e.sent)&&!l.isStop){e.next=14;break}return e.abrupt("return");case 14:a={sign_strSrc:l.data.text,signature:l.data.signText,sign_sn:l.data.userjson,btncode:"MergePay",pagecode:n.card_page_id};case 15:(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,r,"pk_payment",n.base_url+"paymentmergepay.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000033"),n.PaymentConst.dataSource,this.toggleShow.bind(this),!0,a);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)}),U=t.PaymentCallBackPay=(I=g(regeneratorRuntime.mark((function e(t){var r,a,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r={})[n.card_table1_id]="pk_paymentfinance",r[n.card_table2_id]="pk_paymentfund",a={btncode:"CallBackPay",pagecode:n.card_page_id},o=t.form.getFormItemsValue(n.card_from_id,"pk_payment").value,"error"!=(i=(0,f.handleIsNeedCADentify)(t,n.card_from_id,"card","CallBackPay"))){e.next=8;break}return e.abrupt("return");case 8:if(!i){e.next=15;break}return e.next=11,(0,p.default)({isSign:!0,isKey:!0,data:null,encryptVOClassName:null,primaryId:[o]});case 11:if((l=e.sent)&&!l.isStop){e.next=14;break}return e.abrupt("return");case 14:a={sign_strSrc:l.data.text,signature:l.data.signText,sign_sn:l.data.userjson,btncode:"CallBackPay",pagecode:n.card_page_id};case 15:(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,r,"pk_payment",n.base_url+"paymentcallbackpay.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000036"),n.PaymentConst.dataSource,this.toggleShow.bind(this),!0,a);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)}),q=t.PaymentPay=(P=g(regeneratorRuntime.mark((function e(t){var r,a,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r={})[n.card_table1_id]="pk_paymentfinance",r[n.card_table2_id]="pk_paymentfund",a={btncode:"Pay",pagecode:n.card_page_id},o=t.form.getFormItemsValue(n.card_from_id,"pk_payment").value,"error"!=(i=(0,f.handleIsNeedCADentify)(t,n.card_from_id,"card","Pay"))){e.next=8;break}return e.abrupt("return");case 8:if(!i){e.next=15;break}return e.next=11,(0,p.default)({isSign:!0,isKey:!0,data:null,encryptVOClassName:null,primaryId:[o]});case 11:if((l=e.sent)&&!l.isStop){e.next=14;break}return e.abrupt("return");case 14:a={sign_strSrc:l.data.text,signature:l.data.signText,sign_sn:l.data.userjson,btncode:"Pay",pagecode:n.card_page_id};case 15:(0,s.cardOperator)(t,n.card_page_id,n.card_from_id,r,"pk_payment",n.base_url+"paymentpay.do",this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000032"),n.PaymentConst.dataSource,this.toggleShow.bind(this),!0,a);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)}),H=(t.modelAddLineProcess=function(e,t,r){var a=this.props.form.getFormItemsValue(this.formId,"isautorelation").value,o=Number(parseInt(this.maxIndex)+parseInt(1));r+=1,this.maxIndex=o;var i=H.call(this,e,t,o,!1);if(this.props.cardTable.setValByKeysAndIndex(t,r,i),t==n.card_table1_id&&a){var l=r||e.cardTable.getNumberOfRows(n.card_table2_id);i=H.call(this,e,n.card_table2_id,o,!0),T(e,n.card_table2_id,l,i)}},t.modelDelLineProcess=function(e,t,r,a){if(t==n.card_table1_id){var o=[];o.push(a.values.relationindex.value);var i=O(e,o);i&&i.length>0&&e.cardTable.delRowsByIndex(n.card_table2_id,i)}return!0},t.modelDelLineAfterProcess=function(e,t){var r=this.props.form.getFormItemsValue(n.card_from_id,"totalamount");return l.afterEvent.call(this,this.props,n.card_from_id,"bodyevent",r,null,null,null,null,!0),!0},t.getTableDefData=function(e,t,r,a){var o=this.props.form.getFormItemsValue(this.formId,"pk_org").value,i=this.props.form.getFormItemsValue(this.formId,"pk_group").value,l=this.props.form.getFormItemsValue(this.formId,"isautorelation").value,s={value:n.IPaymentConst.Pay_Direct.value,display:this.props.MutiInit.getIntl("36300TP")&&this.props.MutiInit.getIntl("36300TP").get("36300TP-000064")},u=parseInt(r).toString(),c={};return t==n.card_table1_id?c={oripaymode:s,rowno:{value:u,display:u},relationindex:{value:l?u:null,display:l?u:null},pk_org:{value:o,display:o},pk_group:{value:i,display:i}}:t==n.card_table2_id&&a?c={paymode:s,rowno:{value:u,display:u},relationindex:{value:u,display:u},pk_org:{value:o,display:o},pk_group:{value:i,display:i}}:t!=n.card_table2_id||a||(c={paymode:s,pk_org:{value:o,display:o},pk_group:{value:i,display:i}}),c}),z=function(e,t){if(t){Array.isArray(t)&&(t=t[0]);var r=t.workflow;r&&"approveflow"==r||"workflow"==r?this.setState({assignData:t,assignShow:t}):this.toggleShow()}},K=function(e){var t=this;this.saveBill.call(this,!1,(function(){(0,s.cardOperator)(e,n.card_page_id,n.card_from_id,h,"pk_payment",n.base_url+"paymentcommit.do",t.props.MutiInit.getIntl("36300TP")&&t.props.MutiInit.getIntl("36300TP").get("36300TP-000015"),n.PaymentConst.dataSource,z.bind(t),!0,{btncode:"SaveCommit",pagecode:n.card_page_id})}))},G=function(e,t){(0,m.elecSignCardPrint)(e,{url:n.base_url+"paymentelecsignprint.do",offical:t,appCode:n.funcode,nodeKey:t?n.printnodekey.official:n.printnodekey.inofficial,headCode:n.card_from_id,field_id:n.PaymentConst.pk_filed,field_billno:"vbillno",getOrgFunc:function(){var t=e.form.getFormItemsValue(n.card_from_id,"pk_delgoorg")&&e.form.getFormItemsValue(n.card_from_id,"pk_delgoorg").value;return t||e.form.getFormItemsValue(n.card_from_id,"pk_org").value},validateFunc:function(){var t=e.form.getFormItemsValue(n.card_from_id,"billstatus").value;return n.billstatus.PayOK!=t?e.MutiInit.getIntl("36300TP")&&e.MutiInit.getIntl("36300TP").get("36300TP-000110"):null}})}}}]);
//# sourceMappingURL=card.js.map