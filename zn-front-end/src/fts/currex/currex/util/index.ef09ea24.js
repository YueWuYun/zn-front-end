/*! @ncctag {"provider":"test","date":"2020-5-11 22:20:58"} */
!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a(require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["nc-lightapp-front"],a):"object"==typeof exports?exports["fts/currex/currex/util/index"]=a(require("nc-lightapp-front")):e["fts/currex/currex/util/index"]=a(e["nc-lightapp-front"])}(window,(function(e){return function(e){var a={};function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var i in e)t.d(r,i,function(a){return e[a]}.bind(null,i));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="../../../../",t(t.s=30)}({0:function(a,t){a.exports=e},1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.rewriteTransferSrcBids=a.deleteCacheDataForList=a.getNextId=a.getCurrentLastId=a.getDefData=a.setDefData=a.hasListCache=a.addCacheData=a.getCacheDataByPk=a.deleteCacheData=a.updateCacheData=a.changeUrlParam=void 0;var r=t(15);a.changeUrlParam=r.changeUrlParam,a.updateCacheData=r.updateCacheData,a.deleteCacheData=r.deleteCacheData,a.getCacheDataByPk=r.getCacheDataByPk,a.addCacheData=r.addCacheData,a.hasListCache=r.hasListCache,a.setDefData=r.setDefData,a.getDefData=r.getDefData,a.getCurrentLastId=r.getCurrentLastId,a.getNextId=r.getNextId,a.deleteCacheDataForList=r.deleteCacheDataForList,a.rewriteTransferSrcBids=r.rewriteTransferSrcBids},13:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.orgVersionView=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk_org",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org_v";if(e&&a){var i=e.getUrlParam("status"),n="browse"==i,c={};c[t]=!n,c[r]=n,e.form.setFormItemsVisible(a,c)}},a.orgVersionViewNew=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk_org",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org_v";if(e&&a){var i=e.getUrlParam("status"),n="browse"==i,c={};c[t]=!n,c[r]=n,e.form.setItemsVisible(a,c)}}},15:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.rewriteTransferSrcBids=a.deleteCacheDataForList=a.getNextId=a.getCurrentLastId=a.getDefData=a.setDefData=a.hasListCache=a.addCacheData=a.getCacheDataByPk=a.deleteCacheData=a.updateCacheData=a.changeUrlParam=void 0;var r=t(0);a.changeUrlParam=function(e,a){e.setUrlParam(a)},a.updateCacheData=function(e,a,t,i,n,c,o){r.cardCache.addCache;var s=r.cardCache.updateCache;r.cardCache.getCacheById,s(a,t,i,n,c)},a.deleteCacheData=function(e,a,t,i){var n=r.cardCache.deleteCacheById;r.cardCache.getNextId,n(a,t,i)},a.getCacheDataByPk=function(e,a,t){return(0,r.cardCache.getCacheById)(t,a)},a.addCacheData=function(e,a,t,i,n,c,o){(0,r.cardCache.addCache)(t,i,n,c,o)},a.hasListCache=function(e,a){return e.table.hasCacheData(a)},a.setDefData=function(e,a,t){(0,r.cardCache.setDefData)(a,e,t)},a.getDefData=function(e,a){return(0,r.cardCache.getDefData)(a,e)},a.getCurrentLastId=function(e){return(0,r.cardCache.getCurrentLastId)(e)},a.getNextId=function(e,a,t){return(0,r.cardCache.getNextId)(a,t)},a.deleteCacheDataForList=function(e,a,t){e.table.deleteCacheId(a,t)},a.rewriteTransferSrcBids=function(e,a,t){if(t){var r=[];t.forEach((function(e){r.push(e.values[a].value)})),e.transferTable.setSavedTransferTableDataPk(r)}}},2:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.URL_PARAM={ID:"id",STATE:"status",SCENE:"scene",TBB_LINK:"pk_ntbparadimvo",LINK_ID:"linkId",PK_SRC:"pk_src"},a.sagaField={frozen:"saga_frozen",gtxid:"saga_gtxid",btxid:"saga_btxid",status:"saga_status"},a.sagaFrozenEnum={frozen:1,unfrozen:0},a.sagaStateEnum={success:0,fail:1},a.SCENE={DEFAULT:"defaultsce",APPROVE:"approvesce",LINK:"linksce",FIP:"fip",OTHER:"othersce"},a.LINKTYPE={NORMAL:"NORMAL",BILL_REVIEW:"BILL_REVIEW"},a.LINK_PARAM={ARAP:{FLAG:"flag",FLAG_VALUE:"ftsLinkArap"}},a.MODULE_INFO={TMPUB:"tmpub",TMPUB_NUM:"3601"},a.COMMON_URL={ELECSIGNPRINTCHECK:"/nccloud/tmpub/pub/elecsignprintcheck.do"},a.cache={rateinfo:"rateinfo",iserrtoast:"iserrtoast"},a.SPLIT_TBBCTRLTYPE="_ctrltype_",a.tbbwarntype={flexibility:"0",inflexibility:"1",warning:"2"}},30:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.VoucherLinkBillToCard=a.VoucherLinkBill=a.versionControl=void 0;var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(0),n=t(13),c=t(4),o=t(2),s=t(1);a.versionControl=function(e){var a={};a[c.card_from_id]=["pk_org","pk_exorg"];(0,n.orgVersionView)(e,a,{})},a.VoucherLinkBill=function(e,a,t){var n=i.cacheTools.get("checkedData");if(n&&0!=n.length){var o=JSON.stringify(e.table.getTablePageInfo(c.list_table_id)),u={voucherParam:JSON.stringify(n),pageInfo:o};(0,i.ajax)({url:c.base_url+"currexvoucherbill.do",data:{extParam:u,pageCode:a},success:function(a){var i=a.success,n=a.data;if(i)if(n){var o=n.head,u=n.grid;if(o&&1==o[t].rows.length){var d=o[t].rows[0].values.pk_currex_h.value;(0,s.setDefData)(c.CurrExConst.dataSource,c.CurrExConst.linkSourceData+d,o[t]);var l={};l[t]=r({},o[c.card_from_id]),e.table.setAllTableData(t,l[t]),setTimeout((function(){e.pushTo("/card",{status:"browse",id:d,pagecode:c.card_page_id,autolink:"Y"})}),10)}else u?e.table.setAllTableData(t,u[t]):e.table.setAllTableData(t,{rows:[]})}else e.table.setAllTableData(t,{rows:[]})}})}},a.VoucherLinkBillToCard=function(e,a,t){var r=i.cacheTools.get("checkedData");if(r&&0!=r.length){var n={voucherParam:JSON.stringify(r)};(0,i.ajax)({url:c.base_url+"currexvoucherbill.do",data:{extParam:n,pageCode:a},success:function(a){var r=a.success,i=a.data;if(r)if(i)if(1==i[t].rows.length){var n=i[t].rows[0].values.pk_payment.value;(0,s.setDefData)(PaymentConst.dataSource,PaymentConst.linkSourceData+n,i[t]),setTimeout((function(){e.pushTo("/card",{status:"browse",scene:o.SCENE.LINK,id:n,pagecode:c.card_page_id,autolink:"Y"})}),10)}else i?e.table.setAllTableData(t,i[t]):e.table.setAllTableData(t,{rows:[]});else e.table.setAllTableData(t,{rows:[]})}})}}},4:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.module_id="3630",a.base_url="/nccloud/fts/currex/",a.base_path="/fts/currex/currex/",a.button_limit=3,a.billtype="36JV",a.link_billtype="36JV",a.funcode="36300CUREX",a.print_nodekey=null,a.CurrExConst={dataSource:"TM_FTS_CurrEx_base",pk_filed:"pk_currex_h",hasQryFlag:"hasQryFlag",queryCondition:"queryCondition",islink:"islinkpayment",saveAddOrg:"saveaddorg",linkSourceData:"linkSourceData"},a.list_page_id="36300CUREX_L01",a.list_search_id="36300CUREX_search",a.list_table_id="currex",a.card_page_id="36300CUREX_C01",a.card_from_id="currex",a.card_from_exchangemsg_id="exchangeinfo",a.card_from_srcinfo_id="srcinfo",a.card_from_auditinfo_id="auditinfo",a.saga_gtxid="saga_gtxid",a.pk="pk_currex_h",a.printnodekey={official:"OFFICIAL",inofficial:"INOFFICIAL"},a.viewmod_deal="deal",a.LISTGROUP={NEEDCOMMIT:"0",APPROVING:"1",PAYSUCCESS:"2",ALL:"3"},a.billstatus={WaitCommit:"0",WaitApprove:"1",PayOK:"2"},a.group_all=5,a.busType={BusType_Purchas:"purchasing",BusType_Selling:"selling",BusType_Exchange:"exchange"},a.srcBusiType={SrcBusiType_APPLY:"APPLY",SrcBusiType_HAND:"HAND"},a.card_hidden_buttons=["Save","SaveCommit","Delete","Commit","Decide","Back","UnCommit","Cancel","Add","Premit","Unpremit","Edit","Copy"],a.head_hidden_buttons=["BatchDelete","Copy","BatchCommit","BatchPremit","BatchUnPremit","BatchUncommit","File","Print","OutPut","OffiPrint","InOffiPrint"],a.head_majorbuttons=["Add","Commit","Decide","Pay","Premit","Deliver"],a.cache={iserrtoast:"iserrtoast"}}})}));
//# sourceMappingURL=index.ef09ea24.js.map