/*! @ncctag {"date":"2020-5-11 23:42:19"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/riart/flowinstancecentre/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/riart/flowinstancecentre/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,a){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=60)}({0:function(t,a){t.exports=e},1:function(e,a){e.exports=t},2:function(e,t){e.exports=a},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[a].concat(s).concat([o]).join("\n")}var r;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(n[s]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&n[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),t.push(r))}},t}},4:function(e,t,a){var n,o,s={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),i=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),l=null,c=0,u=[],d=a(6);function f(e,t){for(var a=0;a<e.length;a++){var n=e[a],o=s[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(w(n.parts[r],t))}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(w(n.parts[r],t));s[n.id]={id:n.id,refs:1,parts:i}}}}function p(e,t){for(var a=[],n={},o=0;o<e.length;o++){var s=e[o],r=t.base?s[0]+t.base:s[0],i={css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(i):a.push(n[r]={id:r,parts:[i]})}return a}function h(e,t){var a=i(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function w(e,t){var a,n,o,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var r=c++;a=l||(l=b(t)),n=_.bind(null,a,r,!1),o=_.bind(null,a,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),n=k.bind(null,a,t),o=function(){m(a),a.href&&URL.revokeObjectURL(a.href)}):(a=b(t),n=M.bind(null,a),o=function(){m(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=p(e,t);return f(a,t),function(e){for(var n=[],o=0;o<a.length;o++){var r=a[o];(i=s[r.id]).refs--,n.push(i)}e&&f(p(e,t),t);for(o=0;o<n.length;o++){var i;if(0===(i=n[o]).refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete s[i.id]}}}};var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,a,n){var o=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var s=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}function M(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function k(e,t,a){var n=a.css,o=a.sourceMap,s=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||s)&&(n=d(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}},6:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?e:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?a+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},60:function(e,t,a){"use strict";var n,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(1),i=d(r),l=d(a(2)),c=a(0),u=a(61);function d(e){return e&&e.__esModule?e:{default:e}}a(67);var f=c.base.NCModal,p=c.base.NCButton,h=c.base.NCFormControl,m=c.base.NCTabs,b=c.high.ApproveDetail,v=c.high.FlowChart,w=m.NCTabPane,y="instance_table",g="",_=(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.call(a),u.initTemplate.call(a,a.props),a.props.selecteddataPK=null,a.props=e,a.state={showHide:!1,showModal:!1,flowinstance:null,showModalType:"",modalId:"",mangeReason:"",overDueDate:"",overDueDateRemind:"",showFlowModal:!1,billtype:"",billid:"",searchvalue:null,imgArr:[],json:{},inlt:null,flowListInfo:{},avtiveTab:"main",list:[],modalSize:"lg"};var n=a;return"handleClose onConfirm handleConfirm onClose openModelById getData showOperateData changeMangeReason changeOverDueDateRemind changeOverDueDate".split(" ").forEach((function(e){n[e]=n[e].bind(n)})),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleClose",value:function(){""!=this.state.showModalType&&this.setState({showModal:!1})}},{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1016-101609",domainName:"uap",callback:function(t,a,n){a?e.setState({json:t,inlt:n}):console.log("未加载到多语资源")}})}},{key:"refreshpage",value:function(){(0,u.searchBtnClick)(this.props,null,"refresh")}},{key:"onConfirm",value:function(){this.getBilltype(this.state.flowinstance.billtype.value);var e=this;if("suspend"==this.state.showModalType){e.state.flowinstance.key={value:e.state.flowinstance.key};var t={instance:{instance_table:{areacode:"instance_table",rows:[{values:e.state.flowinstance}]}},manageReason:e.state.mangeReason};(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/suspendAction.do",data:t,async:!1,success:function(t){!t.data||"200"!=t.data&&"200"!=t.data.code?(0,c.toast)({color:"danger",content:t.data.error}):((0,c.toast)({color:"success"}),e.closeModal(),e.refreshpage())},error:function(e){console.error(e)}})}else if("terminate"==this.state.showModalType){e.state.flowinstance.key={value:e.state.flowinstance.key};var a={instance:{instance_table:{areacode:"instance_table",rows:[{values:e.state.flowinstance}]}},manageReason:e.state.mangeReason},n={billtype:this.state.billtype,action:"getMoudle"};(0,c.ajax)({url:"/nccloud/riawf/myprocesscenter/MyProcessButtonAction.do",data:n,async:!1,success:function(t){if(t.data&&"success"==t.data.success){var n="/nccloud/"+t.data.moudle+"/workflow/flowmanagecentre/terminateAction.do";(0,c.ajax)({url:n,data:a,success:function(t){!t.data||"200"!=t.data&&"200"!=t.data.code?(0,c.toast)({color:"danger",content:t.data.error}):((0,c.toast)({color:"success"}),e.closeModal(),e.refreshpage())},error:function(e){(0,c.toast)({color:"danger",content:e.message})}})}},error:function(e){(0,c.toast)({color:"danger",content:e.message})}})}else if("resume"==this.state.showModalType){e.state.flowinstance.key={value:e.state.flowinstance.key};var o={instance:{instance_table:{areacode:"instance_table",rows:[{values:e.state.flowinstance}]}},manageReason:e.state.mangeReason};(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/resumeAction.do",data:o,success:function(t){!t.data||"200"!=t.data&&"200"!=t.data.code?(0,c.toast)({color:"danger",content:t.data.error}):((0,c.toast)({color:"success"}),e.closeModal(),e.refreshpage())},error:function(e){console.error(e)}})}else if("timeLimit"==this.state.showModalType){var s=this.state.overDueDate,r=this.state.overDueDateRemind;if(0==parseInt(e.state.overDueDate)&&0==parseInt(e.state.overDueDateRemind))return void e.closeModal();if(!/(^[1-9]\d*$)/.test(s)&&0!=parseInt(e.state.overDueDate))return void(0,c.toast)({color:"warning",content:this.state.json["101609-000017"]});if(!/(^[1-9]\d*$)/.test(r)&&0!=parseInt(e.state.overDueDateRemind))return void(0,c.toast)({color:"warning",content:this.state.json["101609-000018"]});var i={instance:this.state.flowinstance.pk_wf_instance.value,overDueDate:e.state.overDueDate,overDueDateRemind:e.state.overDueDateRemind};if(!e.state.overDueDate)return alert(this.state.json["101609-000019"]),void(0,c.toast)({color:"warning",content:this.state.json["101609-000019"]});if(!e.state.overDueDateRemind)return void(0,c.toast)({color:"warning",content:this.state.json["101609-000020"]});if(parseInt(e.state.overDueDate)<parseInt(e.state.overDueDateRemind))return void(0,c.toast)({color:"warning",content:this.state.json["101609-000021"]});(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/timLimitSaveAction.do",data:i,success:function(t){!t.data||"200"!=t.data&&"200"!=t.data.code?(0,c.toast)({color:"danger",content:t.data.error}):((0,c.toast)({color:"success"}),e.refreshpage())},error:function(e){console.error(e)}}),e.closeModal()}else"flowinstance_operhis"==this.state.showModalType&&e.handleClose()}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"updateTableDataByIndex",value:function(){this.setState({showModal:!1})}},{key:"showOperateData",value:function(){var e=this,t=this;if(null!=g&&""!=g){var a={instancepk:g};(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/queryOperateHistory.do",data:a,success:function(e){e.success&&(null!=e.data?t.props.table.setAllTableData("opter_table",e.data.rows):t.props.table.setAllTableData("opter_table",{rows:[]}))},error:function(e){(0,c.toast)({color:"danger",content:e.message})}})}if("timeLimit"==this.state.showModalType){var n={instancepk:this.state.flowinstance.pk_wf_instance.value};(0,c.ajax)({url:"/nccloud/workflow/approvalcenter/generActivityInfo.do",data:{billtype:this.state.billtype,billid:this.state.billid,imageindex:"all"},method:"post",success:function(t){if(t.data){var a=t.data||{};e.setState({flowListInfo:a})}else e.setState({flowListInfo:{}})}}),(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/timeLimitQueryAction.do",data:n,method:"post",success:function(t){t.data?e.setState({overDueDate:t.data.timelimit,overDueDateRemind:t.data.timeremind}):e.setState({overDueDate:"0",overDueDateRemind:"0"})},error:function(e){(0,c.toast)({color:"danger",content:e.message})}})}}},{key:"changeMangeReason",value:function(e){this.setState({mangeReason:e})}},{key:"getBilltype",value:function(e){var t=this;(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/billTypeQueryByPKAction.do",data:{billtype:e},method:"POST",async:!1,success:function(e){e.data;null!=e.data&&(t.state.billtype=e.data)}})}},{key:"doPageAction",value:function(e,t,a,n,o){var s=this,r=this;r.state.flowinstance=n,r.state.billid=r.state.flowinstance.billid.value,(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/billTypeQueryByPKAction.do",data:{billtype:r.state.flowinstance.billtype.value},method:"POST",success:function(e){e.data;switch(null!=e.data&&(s.state.billtype=e.data),t){case"flowinstance_suspend":r.openModelById("suspendModal");break;case"flowinstance_resume":g=r.state.flowinstance.pk_wf_instance.value,r.openModelById("resumeModal");break;case"flowinstance_terminal":r.openModelById("terminateModal");break;case"flowinstance_operhis":g=r.state.flowinstance.pk_wf_instance.value,r.openModelById("flowinstance_operhis");break;case"flowinstance_timeLimit":r.openModelById("timeLimitModal");break;case"flowinstance_flow":r.setState({showFlowModal:!0},(function(){}));break;case"flowinstance_bill":(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/openBillUrlQueryAction.do",data:{billtype:r.state.billtype},method:"POST",success:function(e){var t="/",a=e.data.pageurl;a?(t=a.indexOf("#")>=0?a+(a.split("#")[1].length>0?"?":"")+"status=browse&id="+r.state.billid:a+"?status=browse&id="+r.state.billid,r.props.openTo(t,{id:r.state.billid,status:"browse",appcode:e.data.appcode,pagecode:e.data.pagecode,c:e.data.appcode,p:e.data.pagecode})):(0,c.toast)({color:"warning",content:s.state.json["101609-000022"]})}})}}})}},{key:"componentDidMount",value:function(){var e=this;this.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!1,showBillCode:!1}),(0,c.ajax)({url:"/nccloud/platform/appregister/queryallbtns.do",data:{appcode:"101609",pagecode:"10160901"},success:function(t){e.props.button.setButtons(t.data)}})}},{key:"changeOverDueDate",value:function(e){this.setState({overDueDate:e})}},{key:"changeOverDueDateRemind",value:function(e){this.setState({overDueDateRemind:e})}},{key:"fillTimelimitData",value:function(){this.state.flowinstance.pk_wf_instance.value}},{key:"render",value:function(){var e,t,a,n=this,o=this.props,s=o.table,r=o.search,l=s.createSimpleTable,d=r.NCCreateSearch,g=c.base.NCDiv,_=this.props.BillHeadInfo.createBillHeadInfo,M="",k="",j="";return"suspend"==this.state.showModalType?(M=this.state.json["101609-000023"],j=this.state.json["101609-000010"]):"terminate"==this.state.showModalType?(M=this.state.json["101609-000024"],j=this.state.json["101609-000012"]):"resume"==this.state.showModalType?(M=this.state.json["101609-000025"],j=this.state.json["101609-000011"]):"showOperate"==this.state.showModalType?M=this.state.json["101609-000026"]:"timeLimit"==this.state.showModalType&&(M=this.state.json["101609-000027"],k=i.default.createElement(f.Body,null,i.default.createElement("div",{className:"body-content"},i.default.createElement("div",{className:"content-inner"},i.default.createElement("div",{className:"nc-theme-common-font-c label"},this.state.json["101609-000028"]),i.default.createElement("div",{className:"content"},i.default.createElement(h,{fieldid:"overDueDate",className:"demo-input",value:this.state.overDueDate,onChange:this.changeOverDueDate})),i.default.createElement("div",{className:"nc-theme-common-font-c label"},this.state.json["101609-000029"]),i.default.createElement("div",{className:"content"},i.default.createElement(h,{fieldid:"overDueDateRemind",className:"demo-input",value:this.state.overDueDateRemind,onChange:this.changeOverDueDateRemind}))),i.default.createElement("div",{className:"label"},this.state.json["101609-000033"],":"),i.default.createElement(m,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"main",onChange:this.changeTabInfo.bind(this),style:{background:"none"}},Object.keys(this.state.flowListInfo).length>0&&this.generateRejectTitleArr(this.state.flowListInfo).map((function(e,t){return i.default.createElement(w,{tab:""+e.actName,key:e.subid},i.default.createElement("div",{className:"dagrechart-wrapper",style:{textAlign:"center"}}))}))),Object.keys(this.state.flowListInfo).length?i.default.createElement(v,{readOnly:!0,list:this.state.flowListInfo[this.state.avtiveTab]}):"",i.default.createElement("div",{className:"table-area"},l("timelimit_table",{onAfterEvent:u.afterEvent})))),this.fillTimelimitData()),"flowinstance_operhis"!=this.state.showModalType&&"suspend"!=this.state.showModalType&&"terminate"!=this.state.showModalType&&"resume"!=this.state.showModalType||(k=i.default.createElement(f.Body,null,i.default.createElement("div",{className:"body-content"},"flowinstance_operhis"==this.state.showModalType?"":i.default.createElement("div",{className:"content-inner"},i.default.createElement("div",{className:"label"},M),i.default.createElement("div",{className:"content"},i.default.createElement(h,{className:"demo-input",value:this.state.mangeReason,onChange:this.changeMangeReason}))),i.default.createElement("div",{className:"table-area"},l("opter_table",{onAfterEvent:u.afterEvent,height:520}))))),i.default.createElement("div",{className:"nc-bill-list"},i.default.createElement(g,{areaCode:g.config.HEADER},i.default.createElement("div",{className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-title-search-area"},i.default.createElement("span",null,_({title:""+this.state.json["101609-000030"],initShowBackBtn:!1}))),i.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:"page_head",onButtonClick:function(e,t){return n.headButtonClick(e,t)},popContainer:document.querySelector(".header-button-area")})))),i.default.createElement("div",{className:"nc-bill-search-area"},d("instance_search",{clickSearchBtn:u.searchBtnClick.bind(this),onAfterEvent:u.afterEvent})),i.default.createElement("div",{className:"nc-bill-table-area"},l(y,(e={onAfterEvent:u.afterEvent,handlePageInfoChange:u.pageInfoClick,tableModelConfirm:u.tableModelConfirm,selectedChange:u.selectedChangeFn},t="handlePageInfoChange",a=this.handlePageInfoChangeFn,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e))),i.default.createElement(f,{className:"form-modal",fieldid:"overtimemodal",onShow:this.showOperateData,show:this.state.showModal,size:this.state.modalSize,backdrop:"static",onHide:this.handleClose},i.default.createElement(f.Header,{closeButton:!0},i.default.createElement(f.Title,null," ",j," ")),k,i.default.createElement(f.Footer,null,i.default.createElement(p,{fieldid:"overtimemodalconfirm",colors:"primary",onClick:this.onConfirm}," ",this.state.json["101609-000031"]),i.default.createElement(p,{fieldid:"overtimemodalcancel",className:"btn-transparent",onClick:this.handleClose}," ",this.state.json["101609-000002"]," "))),i.default.createElement(b,{fieldid:"flowinstance_approvedetail",show:this.state.showFlowModal,close:function(){n.setState({showFlowModal:!1})},billtype:this.state.billtype,billid:this.state.billid}))}}]),t}(r.Component),o=function(){var e=this;this.checkbeforeAction=function(t,a,n){var o="";if(1==n)o=e.state.json["101609-000010"];else if(2==n)o=e.state.json["101609-000011"];else if(3==n)o=e.state.json["101609-000012"];else if(4==n&&0!=t)return(0,c.toast)({color:"warning",content:e.state.json["101609-000013"]}),0;if(2!=a&&4!=a&&7!=a)return(0,c.toast)({color:"warning",content:e.state.json["101609-000014"]}),0;switch(n){case 1:if(0!=t)return(0,c.toast)({color:"warning",content:e.state.json["101609-000015"]+o+e.state.json["101609-000004"]}),0;break;case 2:if(2!=t)return(0,c.toast)({color:"warning",content:e.state.json["101609-000016"]+o+e.state.json["101609-000004"]}),0;break;case 3:if(0!=t)return(0,c.toast)({color:"warning",content:e.state.json["101609-000015"]+o+e.state.json["101609-000004"]}),0}},this.handleConfirm=function(){(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/queryByIntance.do",data:data,success:function(t){t.success&&e.props.table.setAllTableData(y,t.data.instance_table)},error:function(e){(0,c.toast)({color:"danger",content:e.message})}}),e.setState({showModal:!1})},this.onClose=function(){e.setState({showModal:!1})},this.openModelById=function(t){var a=e;if("suspendModal"==t){if(0==e.checkbeforeAction(a.state.flowinstance.procstatus_value.value,e.state.flowinstance.workflow_type_value.value,1))return;a.setState({showModalType:"suspend",showModal:!0})}if("terminateModal"==t){if(0==e.checkbeforeAction(a.state.flowinstance.procstatus_value.value,e.state.flowinstance.workflow_type_value.value,3))return;a.setState({showModalType:"terminate",showModal:!0})}if("resumeModal"==t){if(0==e.checkbeforeAction(a.state.flowinstance.procstatus_value.value,e.state.flowinstance.workflow_type_value.value,2))return;a.setState({showModalType:"resume",showModal:!0})}if("showOperateModal"==t&&a.setState({showModalType:"showOperate",showModal:!0}),"timeLimitModal"==t){if(0==e.checkbeforeAction(a.state.flowinstance.procstatus_value.value,e.state.flowinstance.workflow_type_value.value,4))return;a.setState({showModalType:"timeLimit",showModal:!0})}"flowinstance_operhis"==t&&a.setState({showModalType:"flowinstance_operhis",showModal:!0})},this.changeTabInfo=function(t){e.setState((function(e){return{activeTab:t,list:e.flowListInfo[t]}}))},this.generateRejectTitleArr=function(t){var a=[{subid:"main",actName:e.state.json["101609-000032"]}],n=Object.keys(t);return t.main.map((function(e,t,o){e.subid&&e.ispassroute&&n.includes(e.subid)&&a.push({subid:e.subid,actName:e.act_name})})),a},this.handlePageInfoChangeFn=function(e,t,a,n){(0,u.searchBtnClick)(e,a,!1)},this.buttonClick1=function(t){switch(t){case"add":e.props.table.openModel(y,"add")}},this.getData=function(){e.props.table.getTablePageInfo(y);var t=e;(0,c.ajax)({url:"/nccloud/workflow/flowmanagecentre/queryByIntance.do",success:function(e){e.success&&t.props.table.setAllTableData(y,e.data.instance_table)},error:function(e){(0,c.toast)({color:"danger",content:e.message})}})}},n);_=(0,c.createPage)({})(_),l.default.render(i.default.createElement(_,null),document.querySelector("#app"))},61:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableModelConfirm=t.searchBtnClick=t.afterEvent=t.initTemplate=t.buttonClick=void 0;var n=l(a(62)),o=l(a(63)),s=l(a(64)),r=l(a(65)),i=l(a(66));function l(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=n.default,t.initTemplate=o.default,t.afterEvent=s.default,t.searchBtnClick=r.default,t.tableModelConfirm=i.default},62:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"addButton":e.table.openModel("role_table","add")}};a(0).base.Message},63:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.MultiInit.getMultiLang({moduleId:"1016-101609",domainName:"uap",callback:function(a,n,s){if(n){var r=e.getUrlParam("status");"add"==r&&(r="edit"),e.createUIDom({pagecode:"10160901",appcode:"101609"},(function(n){if(n){if(n.button){var s=n.button;e.button.setButtons(s)}if(n.template){var r=n.template;r.instance_table.pagination=!0,o.call(t,e,r,a),e.meta.setMeta(r)}}}))}else console.log("未加载到多语资源")}})};var n=a(0);n.base.NCPopconfirm,n.base.NCIcon,n.base.NCMessage,n.base.NCButton;function o(e,t,a){var n=this,o={label:a["101609-000004"],attrcode:"opr",visible:!0,fixed:"right",render:function(t,a,o){return e.button.createOprationButton(["flowinstance_flow","flowinstance_bill","flowinstance_suspend","flowinstance_terminal","flowinstance_resume","flowinstance_operhis","flowinstance_timeLimit"],{area:"oper",buttonLimit:4,onButtonClick:function(e,s){return n.doPageAction(e,s,t,a,o)}})}};return t.instance_table.items.push(o),t}},64:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,o,s,r){"billtype"==e&&(t.refpk=t.refcode)}},65:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var s=this;var r=this,i=e.search.getQueryInfo("instance_search");i.pageInfo=e.table.getTablePageInfo(o),t?(0!=a?i.pageInfo.pageIndex=0:i.pageInfo.pagepks=t,(0,n.ajax)({url:"/nccloud/workflow/flowmanagecentre/queryByIntance.do",data:i,success:function(t){t.success&&(t.data.instance_table&&void 0!==t.data.instance_table.allpks&&"refresh"!=a&&t.data.instance_table.allpks.length?(e.table.setAllTableData(o,t.data.instance_table),(0,n.toast)({color:"success",content:r.state.inlt&&r.state.inlt.get("101609-000005",{total:t.data.instance_table.allpks.length})})):t.data.instance_table&&void 0===t.data.instance_table.allpks?e.table.setAllTableData(o,t.data.instance_table):(e.table.setAllTableData(o,{rows:[]}),(0,n.toast)({color:"warning",content:s.state.json["101609-000007"]})))},error:function(e){console.error(e)}})):(0,n.ajax)({url:"/nccloud/workflow/flowmanagecentre/queryByIntance.do",data:i,success:function(t){t.success?e.table.setAllTableData(o,t.data.instance_table):e.table.setAllTableData(o,{rows:[]})},error:function(e){console.error(e)}})};var n=a(0),o="instance_table"},66:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=this;"add"==a&&(t.role_table.rows[0].values.role_type.value=1);var i={saveData:t,opr:a};console.log("data",i),(0,n.ajax)({url:"/nccloud/rabc/adminRole/save.do",data:i,success:function(t){t.success&&(alert(r.state.json["101609-000009"]),function(){var t=this,a=e.search.getAllSearchData(o),r={pageid:s,role_type:1};a&&(r={pageid:s,role_type:1,filter:{conditions:a,queryType:"simple",pagecode:o,oid:"1018Z01000000000F0WG",queryAreaCode:o,pageInfo:null}}),console.log("refreshdata",r),(0,n.ajax)({url:"/nccloud/rabc/role/adminRole.do",data:r,success:function(e){e.success&&(null!=e.data?t.props.table.setAllTableData(s,e.data.role_table):t.props.table.setAllTableData(s,{rows:[]}))}})}())},error:function(e){console.error(e)}})};var n=a(0),o="role_search",s="role_table"},67:function(e,t,a){var n=a(68);"string"==typeof n&&(n=[[e.i,n,""]]);var o={transform:void 0};a(4)(n,o);n.locals&&(e.exports=n.locals)},68:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,'.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.cf {\n  *zoom: 1;\n}\n.cf:before,\n.cf:after {\n  display: table;\n  content: " ";\n}\n.cf:after {\n  clear: both;\n}\n#finance-reva-pobdoc-list {\n  min-width: 1440px;\n  padding: 20px;\n}\n#finance-reva-pobdoc-list .search-area {\n  padding: 20px;\n}\n#finance-reva-pobdoc-list .title-button-area {\n  height: 50px;\n  padding: 20px 0px 20px 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n#finance-reva-pobdoc-list .title-button-area .title-area {\n  width: 30%;\n  height: 22px;\n  font-size: 16px;\n  font-family: PingFangHK-Medium;\n  color: #474d54;\n  line-height: 22px;\n}\n#finance-reva-pobdoc-list .title-button-area .button-area {\n  width: 70%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n  padding-right: 20px;\n}\n#finance-reva-pobdoc-list .currency-opr-col {\n  width: 60px;\n}\n#finance-reva-pobdoc-list .currency-opr-col .currency-opr-del {\n  cursor: pointer;\n}\n#finance-reva-pobdoc-list .currency-opr-col .currency-opr-del:hover {\n  color: #d83030;\n}\n#finance-reva-pobdoc-list .hide {\n  display: none;\n}\n#finance-reva-pobdoc-list .lightapp-component-simpleTable .simpleTable-component-wrapper .u-table .u-table-tbody tr i {\n  color: #E14C46;\n}\n.refer-container .refer-cascading-list {\n  z-index: 2333333;\n}\n.demo4 .u-label {\n  width: 75px;\n  text-align: right;\n}\n.demo4 .province,\n.demo4 .city,\n.demo4 .area {\n  width: 90px!important;\n}\n.demo4 .uf.uf-calendar {\n  position: relative;\n  top: -4px;\n  right: 9px;\n}\n.demo4 .u-form-submit {\n  padding-left: 75px;\n}\ntextarea {\n  min-height: 100px;\n  min-width: 300px;\n}\n.header-title-search-area .title-search-detail {\n  font-size: 16px;\n}\n',""])}})}));
//# sourceMappingURL=index.22cea9b4.js.map