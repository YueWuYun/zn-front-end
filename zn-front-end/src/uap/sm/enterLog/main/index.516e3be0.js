/*! @ncctag {"date":"2020-5-11 23:43:52"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/sm/enterLog/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/sm/enterLog/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=307)}({1:function(t,n){t.exports=e},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gerRequestVO=t.isWindowSystem=t.findCurrPrinterNameObjById=t.initTempalteIdInfo=t.initFormVal=t.modifyMeta=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(1),o=i.viewModel.getGlobalStorage;function r(e){return!Object.keys(e).length}function l(e){return!e||!Object.keys(e).length}var s=function(e){var t=[];return e.nccloudPrinterList.length?(e.nccloudPrinterList.forEach((function(e){t.push(a({},e,{display:e.printerName,value:e.printerId}))})),t):t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Array"!==Object.prototype.toString.call(e).slice(8,-1)||!e.length};function d(e,t){var n=this.state.responseAllData.currentNCCloudPrinter,a=void 0===n?{}:n;if(!t&&r(a)||!t&&!a.printerName)return e[0];if(!t&&!r(a))return function(e,t){var n={};return p(e)?n:n=e.find((function(e){return e.printerName==t.printerName}))}(e,a);if(t){var i=e.find((function(e){return t===e.printerId}));return!i||r(i)?e[0]:i}}function c(e,t){return d.call(this,e,t)}function u(e,t){var n=[];return e.nccloudPaperResourceList&&e.nccloudPaperResourceList.length?(e.nccloudPaperResourceList.forEach((function(e){!n.some((function(t){return t.display==e.paperSourceName}))&&n.push({display:e.paperSourceName,value:e.paperSourceId})})),n):n}function f(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=[];return e.paperList&&e.paperList.length?(e.paperList.forEach((function(e){t.push(a({},e,{display:e.paperName,value:e.paperId}))})),t):t}function m(e){var t=this.state.responseAllData,n=(void 0===t?{}:t).currentNccloudPaper,a=void 0===n?{}:n,i={};return r(a)?e.paperList[0]:(i=e.paperList.find((function(e){return e.paperName.trim()==a.paperName.trim()})))?i:(i=e.paperList.find((function(e){return e.paperName.trim().includes("自定义纸张")||e.paperId.trim().includes("defined")})),i=Object.assign({},i,a))}var g=function(e){var t=[];return p(e.nccloudTemplateInfoList)?t:(e.nccloudTemplateInfoList.forEach((function(e){t.push({display:e.templateName,value:e.templateId})})),t)};function h(){var e={},t=this.props.form.getAllFormValue("printRange").rows[0].values;for(var n in t)e[n]=t[n].value;return e.doubleside=0!=e.doubleside,e.isDuplex=1!=e.doubleside,e}function y(){var e={},t=this.props.form.getAllFormValue("printMachine").rows[0].values;for(var n in t)e[n]=t[n].value;return e}function v(){var e={},t=this.props.form.getAllFormValue("printStyle").rows[0].values;for(var n in t)e[n]=t[n].value;return e}t.modifyMeta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.responseAllData,n=this.props.meta.getMeta(),a=s.call(this,t);if(this.printerVO=c.call(this,t.nccloudPrinterList,e),a){var i=u.call(this,this.printerVO,e),o=f.call(this,this.printerVO,e),r=g.call(this,t);n.printTemplate.items.map((function(e){"templateInfoList"===e.attrcode&&(e.options=r)})),n.printMachine.items.map((function(e){"PrinterList"===e.attrcode&&(e.options=a),"paperResourceList"===e.attrcode&&(e.options=i)})),n.printStyle.items.map((function(e){"paperList"===e.attrcode&&(e.options=o)})),this.props.meta.setMeta(n)}else toast({content:this.state.json.index_067})},t.initFormVal=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=this.state.configParams,n={};if(console.log({ais:JSON.parse(o("localStorage",t.asid))}),this.state.asid&&o("localStorage",t.asid)){var a=JSON.parse(o("localStorage",t.asid)).toEndInfo;n=JSON.parse(a.ncclouPrintSetting)}var i=this.state.json.index_027,r=0;!l(n)&&n.doubleside&&(n.isDuplex?n.isDuplex&&(i=this.state.json.index_029,r=2):(i=this.state.json.index_028,r=1));var s={rows:[{values:{pageRangeType:{display:l(n)?this.state.json.index_000:n.pageRangeType.display,value:l(n)?0:n.pageRangeType},pageFrom:{value:l(n)?1:n.pageFrom},pageTo:{value:l(n)?1:n.pageTo},pageWholeType:{display:l(n)||0==n.pageWholeType?this.state.json.index_020:1==n.pageWholeType?this.state.json.index_021:this.state.json.index_022,value:l(n)?0:n.pageWholeType},copies:{value:l(n)?1:n.copies||1},collated:{value:!l(n)&&n.collated},doubleside:{display:i,value:r}}}]};!l(n)&&n.doubleside.value&&this.props.form.setFormItemsDisabled("printRange",{isDuplex:!1}),l(n)||1!=n.pageRangeType.value||this.props.form.setFormItemsVisible("printRange",{pageFrom:!0,pageTo:!0});var p={rows:[{values:{PrinterList:{display:this.printerVO.printerName,value:this.printerVO.printerId},printerStatus:{display:this.printerVO.printerStatus?this.state.json.index_062:this.state.json.index_063,value:this.printerVO.printerStatus},twoSide:{display:this.printerVO.twoSide?this.state.json.index_064:this.state.json.index_065,value:this.printerVO.twoSide},paperResourceList:{display:this.printerVO.nccloudPaperResourceList.length?this.printerVO.nccloudPaperResourceList[0].paperSourceName:"",value:this.printerVO.nccloudPaperResourceList.length?this.printerVO.nccloudPaperResourceList[0].paperSourceId:""}}}]},d=m.call(this,this.printerVO),c=e.nccloudPaperDirect?d.paperHeight:d.paperWidth,u=e.nccloudPaperDirect?d.paperWidth:d.paperHeight;(d.paperName.trim().includes("自定义纸张")||d.paperId.trim().includes("defined"))&&(e.nccloudPaperDirect?(c=d.paperWidth<d.paperHeight?d.paperWidth:d.paperHeight,u=d.paperWidth<d.paperHeight?d.paperHeight:d.paperWidth):(c=d.paperWidth>d.paperHeight?d.paperWidth:d.paperHeight,u=d.paperWidth>d.paperHeight?d.paperHeight:d.paperWidth));var f={rows:[{values:{paperList:{display:d.paperName,value:d.paperId},paperWidth:{value:c},paperHeight:{value:u},nccloudPaperDirect:{display:e.nccloudPaperDirect?this.state.json.index_039:this.state.json.index_038,value:e.nccloudPaperDirect||!1},isMultiColor:{value:!1}}}]};this.props.form.setFormItemsDisabled("printStyle",{paperWidth:this.state.json.index_015!==d.paperName,paperHeight:this.state.json.index_015!==d.paperName}),this.props.form.setAllFormValue({printRange:s}),this.props.form.setAllFormValue({printMachine:p}),this.props.form.setAllFormValue({printStyle:f})},t.initTempalteIdInfo=function(e){var t=this.state.configParams.printTemplateID,n={};if(p(e.nccloudTemplateInfoList))return{display:"",value:""};n=e.nccloudTemplateInfoList[0],t?(n=e.nccloudTemplateInfoList.find((function(e){return e.templateId==t})))&&!p(e.nccloudTemplateInfoList)||(n=e.nccloudTemplateInfoList[0]):e.currentNCCloudTemplateInfo&&Object.keys(e.currentNCCloudTemplateInfo).length&&(n=e.currentNCCloudTemplateInfo),this.props.form.setFormItemsValue("printTemplate",{templateInfoList:{display:n.templateName,value:n.templateId}})},t.findCurrPrinterNameObjById=d,t.isWindowSystem=function(){return navigator.userAgent.toLowerCase().includes("windows")},t.gerRequestVO=function(){console.log(this.props.params);var e=(0,i.deepClone)(this.props.params),t=this.state.nopreview;e.formulaConfig&&delete e.formulaConfig;var n,a,o={},r={},l={},s=v.call(this),p=y.call(this),d=h.call(this);for(var c in p)l[c]=p[c];var u=this.props.form.getFormItemsValue("printMachine","PrinterList");for(var f in l.printerId=u.value,l.printerName=u.display,l.PrinterList&&delete l.PrinterList,s)r[f]=s[f];var m=this.props.form.getFormItemsValue("printStyle","paperList");for(var g in r.paperList&&delete r.paperList,r.paperName=m.display,r.paperId=m.value,o.nccloudPaperDirect=r.nccloudPaperDirect,d)o[g]=d[g];o.doubleside=0!=o.doubleside,o.isDuplex=1!=o.doubleside,o.isMultiColor=r.isMultiColor,delete r.isMultiColor;var b=this.props.form.getFormItemsValue("printMachine","paperResourceList");n={paperSourceId:b.value||"",paperSourceName:b.display||""};var w=this.props.form.getFormItemsValue("printTemplate","templateInfoList");return a={templateId:w.value||"",templateName:w.display||""},o=Object.assign({},o,{currentNccloudPaper:r,currentNCCloudPaperResource:n,currentNCCloudPrinter:l,currentNCCloudTemplateInfo:a,nopreview:t}),console.log({requestVO:Object.assign({},e,{ncclouPrintSetting:o})}),Object.assign({},e,{printTemplateID:a.templateId||null,ncclouPrintSetting:JSON.stringify(o),printSetting:JSON.stringify(o),nopreview:t})}},2:function(e,n){e.exports=t},226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments[4],r=function(o,r){r?s(e,t,n,a,i,o):console.log("未加载到多语资源")};(0,o.getMultiLang)({moduleId:"contains_printOnClient",callback:r})};l(n(2)),l(n(5));var i=l(n(227)),o=n(1),r=n(172);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,i,r,l){var s=n.ncclouPrintSetting;s&&s.printTemplateID?p(e,t,a({},n,{printTemplateID:i?s.printTemplateID:n.printTemplateID,printSetting:JSON.stringify(s)}),r,l):i?function(e,t,n,i,r){var l=null;(0,o.ajax)({method:"post",url:"/nccloud/platform/print/queryTemplates.do",data:n,success:function(s){var d=s.success,c=s.data;if(d){if(!c||!c.length)return(0,o.toast)({color:"warning",content:r.index_048});l=c[0].m_ctemplateid?c[0].m_ctemplateid:null,p(e,t,a({},n,{printTemplateID:l}),i,r)}}})}(e,t,n,r,l):p(e,t,n,r,l)};function p(e,t,n,o,l){var s=(0,r.isWindowSystem)()?"1":"2";n.sysType&&(s=n.sysType),(0,i.default)({newProps:e,params:a({},n,{realData:n.realData||!1,download:"preview",sysType:s}),url:t,enctype:2},o,l)}},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=s(n(5)),o=n(1),r=s(n(318)),l=s(n(228));function s(e){return e&&e.__esModule?e:{default:e}}var p,d,c=o.base.NCLoading,u=window.document.createElement("div");function f(e){i.default.render(React.createElement(c,{show:!0,fullScreen:!0,container:e}),e)}function m(e){e.className="",i.default.unmountComponentAtNode(e),e.parentElement&&e.parentElement.removeChild(e)}window.document.body.appendChild(u),u.className="nc-loading-hidden",t.default=(p=regeneratorRuntime.mark((function e(t){var n,s,p,d,c,g,h,y,v,b,w,x,S,_,k=t.newProps,P=t.params,L=t.url,C=t.enctype,O=t.hasModal,T=void 0!==O&&O,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},j=arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.hadPlugin){e.next=10;break}return f(u),e.next=4,(0,l.default)(k,L,{});case 4:if("error"!==e.sent){e.next=9;break}return(0,o.toast)({color:"error",content:j.index_052}),m(u),e.abrupt("return");case 9:m(u);case 10:for(_ in T||(n=document.body,(s=document.createElement("section")).classList.add("form-preview-print-contain"),n.appendChild(s),i.default.render(React.createElement(r.default,a({},k,{params:P,url:L,onEnsureInfoSave:I})),s)),p="",d="",(c=window.parent.location.hash.split("?"))&&c[1]&&(g=c[1].split("&"))&&g instanceof Array&&g.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(p=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(d=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))})),h=(p||null)+"-"+(window.actionName||null),y={sys_busiaction:h,sys_appcode:d,sys_ts:(new Date).getTime()},C=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(C),v=[{target:"printPreviewModal",method:"POST",enctype:C,type:"hidden",action:L||""},document.createElement("form")],b=v[0],w=v[1],Object.assign(w,b),x=a({},P,y,{formulaConfig:null}),S=function(e){if(x[e]instanceof Array)x[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,w.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=x[e],w.appendChild(t)}},x)S(_);return document.body.appendChild(w),w.submit(),document.body.removeChild(w),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})),d=function(){var e=p.apply(this,arguments);return new Promise((function(t,n){return function a(i,o){try{var r=e[i](o),l=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e){return d.apply(this,arguments)})},228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){var o=null;return new Promise((function(r,l){if(null!=o&&1==o.readyState)(0,a.toast)({color:"warning",content:i.index_043});else if("WebSocket"in window){o=null;var s=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");s.onopen=function(e){console.log("连接成功")},s.onclose=function(e){console.log("关闭连接")},s.onerror=function(a){return e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t}),r("error")},s.onmessage=function(e){console.log("msg",JSON.parse(e.data));var t={};if(e&&(Object.keys(e).length||e.data))return s.close(),t.nccloudPrinterList=JSON.parse(e.data).nccloudPrinterList,r(t)};var p={},d=setInterval((function(){if(s.readyState==WebSocket.OPEN){clearInterval(d),(p=Object.assign({},n,{compalteAddress:t,type:"2",nccloudsessionid:n.nccloudsessionid})).formulaConfig&&delete p.formulaConfig;var e=JSON.stringify(p);s.send(e)}}),1e3)}else(0,a.toast)({color:"warning",content:i.index_046})}))};var a=n(1)},229:function(e,t,n){(function(e){!function(n,a){"use strict";var i={};n.PubSub=i;var o=n.define;!function(e){var t={},n=-1;function a(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,t,n){e(t,n)}function r(e,n,a,r){var l,s=t[n],p=r?o:i;if(t.hasOwnProperty(n))for(l in s)s.hasOwnProperty(l)&&p(s[l],e,a)}function l(e,n,i,o){var l=function(e,t,n){return function(){var a=String(e),i=a.lastIndexOf(".");for(r(e,e,t,n);-1!==i;)i=(a=a.substr(0,i)).lastIndexOf("."),r(e,a,t,n)}}(e="symbol"==typeof e?e.toString():e,n,o);return!!function(e){for(var n=String(e),i=Boolean(t.hasOwnProperty(n)&&a(t[n])),o=n.lastIndexOf(".");!i&&-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),i=Boolean(t.hasOwnProperty(n)&&a(t[n]));return i}(e)&&(!0===i?l():setTimeout(l,0),!0)}e.publish=function(t,n){return l(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return l(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,a){if("function"!=typeof a)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=a,i},e.subscribeOnce=function(t,n){var a=e.subscribe(t,(function(){e.unsubscribe(a),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var a,i,o,r="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),l=!r&&"string"==typeof n,s="function"==typeof n,p=!1;if(!r){for(a in t)if(t.hasOwnProperty(a)){if(i=t[a],l&&i[n]){delete i[n],p=n;break}if(s)for(o in i)i.hasOwnProperty(o)&&i[o]===n&&(delete i[o],p=!0)}return p}e.clearSubscriptions(n)}}(i),"function"==typeof o&&o.amd?o((function(){return i})):(void 0!==e&&e.exports&&(t=e.exports=i),t.PubSub=i,e.exports=t=i)}("object"==typeof window&&window||this)}).call(this,n(8)(e))},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var i=(r=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),o=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}var r;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(a[o]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&a[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},307:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),o=f(i),r=f(n(5)),l=n(1),s=n(308),p=f(n(317)),d=f(n(326)),c=f(n(327));n(328);var u=f(n(229));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=l.base.NCTabs,h=(l.base.NCButton,l.base.NCInput,l.base.NCSelect),y=g.NCTabPane,v=(h.NCOption,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.close=function(){n.setState({showModal:!1})},n.onButtonClick=function(e){},n.modalOnClick=function(e){var t=n;if("exportModel"==e){var a=t.props.form.getAllFormValue("exportModalForm"),i=a.rows[0].values.exportDate.value,o=a.rows[0].values.filePath.value,r=a.rows[0].values.fileNamePri.value;if(null==a||null==i||null==o||""==o||""==i)(0,l.toast)({content:t.state.json["1880000025-000042"],color:"warning"});else{var s=o.split("\\\\");if(s.forEach((function(e){if(0==e.length)return!0})),/^[^[^/:,;*?\"<>|]+$/.test(o)&&0!=s.length)if(/^[^\\\\/:,;*?\"<>|]+$/.test(r)){var p={exportDate:i,filePath:o,fileNamePri:r};(0,l.ajax)({url:"/nccloud/riart/enterLog/enterLogExportAction.do",data:p,success:function(e){var n=e.success,a=e.data;n&&(null==a||null==a.message?((0,l.toast)({color:"success"}),t.props.modal.close("userDetail")):(0,l.toast)({content:null==a?t.state.json["1880000025-000044"]:a.message,color:"danger"}))},error:function(e){null!=e&&null!=e&&(/Read too much data from database for one time/.test(e.message)?(0,l.toast)({content:t.state.json["1880000025-000048"],color:"danger"}):(0,l.toast)({content:e.message,color:"danger"}))}})}else(0,l.toast)({content:t.state.json["1880000025-000047"],color:"warning"});else(0,l.toast)({content:t.state.json["1880000025-000058"],color:"warning"})}}else if("importModel"==e){var d=t.props.form.getAllFormValue("importModalForm"),c=d.rows[0].values.exportPath.value;d.rows[0].values.fileName.value;if(null==c||null==c)(0,l.toast)({content:t.state.json["1880000025-000049"],color:"warning"});else{var u=!1;if(null!=c&&null!=c&&0!=c.trim().length||(u=!0),!/^[^[^:,;*?"<>|]+$/.test(c)||u)(0,l.toast)({content:t.state.json["1880000025-000049"],color:"warning"});else{var f={exportPath:d.rows[0].values.exportPath.value,fileName:d.rows[0].values.fileName.value};(0,l.ajax)({url:"/nccloud/riart/enterLog/enterLogImportAction.do",data:f,success:function(e){var n=e.success,a=e.data;n&&(null==a||null==a.message?((0,l.toast)({color:"success"}),t.props.modal.close("userDetail")):(0,l.toast)({content:null==a?t.state.json["1880000025-000046"]:a.message,color:"danger"}),t.setState({loadData:!1}))},error:function(e){null!=e&&null!=e&&(0,l.toast)({content:e.message,color:"danger"})}})}}}else"logTableModal"==e&&t.props.modal.close("userDetail")},n.onModalChangeTabs=function(e){var t=n;t.props.renderItem("table","importLog",null,null),t.setState({modalTasChange:!0,modalKey:e})},n.showData=function(){var e=n,t={pageIndex:"0",pageSize:"10"},a={};a="importLog"==e.state.modalKey?{importLog:e.props.table.getTablePageInfo(e.state.modalKey),exportLog:t}:{importLog:t,exportLog:e.props.table.getTablePageInfo(e.state.modalKey)},(0,l.ajax)({url:"/nccloud/riart/enterLog/enterLogUnloadingLogTable.do",data:a,success:function(t){var n=t.success;t.data;n&&(t&&t.data.Importings?e.props.table.setAllTableData("importLog",t.data.Importings.gridImportings):e.props.table.setAllTableData("importLog",{rows:[]}),t.data&&t.data.Unloadings?e.props.table.setAllTableData("exportLog",t.data.Unloadings.gridUnloadings):e.props.table.setAllTableData("exportLog",{rows:[]}))}})},n.handlePageInfoChangeModel=function(e,t,a,i){n.showData()},n.onChangeTabs=function(e){n.setState({tabsKey:e},(function(){document.getElementById("logingLog").style.display="none",document.getElementById("operatelog").style.display="none",document.getElementById(e).style.display="block"}))},n.handlePageInfoChangeFn=function(e,t,a,i){var o=n;(0,s.clickSearchBtn)(o,a,!1)},n.logTableModalContent=function(){var e=n,t=e.props.table.createSimpleTable;return o.default.createElement("div",null,o.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:n.state.modalKey,onChange:n.onModalChangeTabs},o.default.createElement(y,{tab:e.state.json["1880000025-000029"],key:"exportLog"},t("exportLog",{showIndex:!0,handlePageInfoChange:e.handlePageInfoChangeModel})),o.default.createElement(y,{tab:e.state.json["1880000025-000030"],key:"importLog"},t("importLog",{showIndex:!0,handlePageInfoChange:e.handlePageInfoChangeModel}))))},n.downLoadExe=function(){var e="";e="logingLog"==n.state.tabsKey?"enterlog_ncc":"enternode_ncc";var t=n.props.table.getPks(n.state.tabsKey);(0,l.formDownload)({params:{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:e,oids:t,download:"down"},url:"/nccloud/riart/buslog/enterLogPrintAction.do",enctype:2})},n.printerView=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,p.default)(n.props,"/nccloud/riart/buslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!0)},n.printerPreview=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,d.default)(n.props,"/nccloud/riart/buslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!1)},n.printOnClient=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,c.default)(n.props,"/nccloud/riart/buslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!1)};var a=n.props;a.search,a.button,a.form;return n.state={msgLog:"",showModal:!1,buttonType:"exportModal",tabsKey:"logingLog",modalKey:"exportLog",modalTasChange:!1,json:{},inlt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"002210220SLOG",domainName:"uap",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"creatModalContent",value:function(e){var t=this.props.table.createSimpleTable,n=this.props.form.createForm;return"exportModel"==e?o.default.createElement("div",null,n("exportModalForm",{}),o.default.createElement("p",null,this.state.json["1880000025-000031"])):"importModel"==e?o.default.createElement("div",null,n("importModalForm",{}),o.default.createElement("p",null,this.state.json["1880000025-000037"])):"logTableModal"==e?o.default.createElement("div",null,o.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},o.default.createElement(y,{tab:this.state.json["1880000025-000029"],key:"1"},t("exportLog",{})),o.default.createElement(y,{tab:this.state.json["1880000025-000030"],key:"2"},t("importLog",{})))):"autoExportLog"==e?o.default.createElement("div",null,n("autoExportModal",{}),o.default.createElement("p",null,this.state.json["1880000025-000057"],",",this.state.json["1880000025-000058"],"+ncccloudfs_tmp+NCCUnloadFileTemp+",this.state.json["1880000025-000059"],"+",this.state.json["1880000025-000060"],"+",this.state.json["1880000025-000061"],"+",this.state.json["1880000025-000062"])):void 0}},{key:"changePaper",value:function(e,t){this.setState(m({},e,t)),u.default.publish("modifySfPaper",m({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.search,a=t.form,i=t.button,r=t.modal.createModal,p=n.NCCreateSearch,d=(a.createForm,i.createButton,this.props.table.createSimpleTable),c=l.base.NCDiv,u=this.props.BillHeadInfo.createBillHeadInfo;return o.default.createElement("div",{className:"nc-bill-list"},r("code-config"),r("printService",{className:"print-service"}),o.default.createElement(c,{areaCode:c.config.HEADER},o.default.createElement("div",{className:"nc-bill-header-area"},o.default.createElement("div",{className:"header-title-search-area"},o.default.createElement("span",null,u({title:""+this.state.json["1880000025-000059"],initShowBackBtn:!1}))),o.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:"header",onButtonClick:s.headerButtonOnClick.bind(this),popContainer:document.querySelector(".header-button-area")})))),o.default.createElement("div",{className:"nc-bill-search-area"},o.default.createElement("div",{id:"logingLog"},p("searchArea",{clickSearchBtn:s.clickSearchBtn.bind(this),showAdvBtn:!1})),o.default.createElement("div",{id:"operatelog",style:{display:"none"}},p("searchNode",{clickSearchBtn:s.clickSearchBtn.bind(this),showAdvBtn:!1}))),o.default.createElement("div",{className:"tab-definInfo-area"},o.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:this.state.tabsKey,onChange:this.onChangeTabs},o.default.createElement(y,{tab:this.state.json["1880000025-000060"],key:"logingLog"},d("logingLog",{showIndex:!0,handlePageInfoChange:this.handlePageInfoChangeFn})),o.default.createElement(y,{tab:this.state.json["1880000025-000061"],key:"operatelog"},d("operatelog",{showIndex:!0,handlePageInfoChange:this.handlePageInfoChangeFn})))),r("userDetail",{title:this.state.json["1880000025-000055"],content:"",beSureBtnClick:function(){e.props.modal.close("userDetail")},cancelBtnClick:function(){e.props.modal.close("userDetail")},closeModalEve:function(){e.props.modal.close("userDetail")},userControl:!1,size:"lg",noFooter:!1,rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000006"]}),r("logTableModal",{title:this.state.json["1880000025-000040"],content:this.logTableModalContent(),beSureBtnClick:function(){e.props.modal.close("logTableModal")},cancelBtnClick:function(){e.props.modal.close("logTableModal")},closeModalEve:function(){e.props.modal.close("logTableModal")},userControl:!1,size:"xlg",noFooter:!1,className:"enterLog",rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000006"]}),this.props.ncmodal.createModal("realUserDetail",{color:"info",title:this.state.json["1880000025-000055"],content:this.state.json["1880000025-000056"],beSureBtnClick:function(){e.props.modal.close("realUserDetail")},cancelBtnClick:function(){e.props.modal.close("realUserDetail")},closeModalEve:function(){e.props.modal.close("realUserDetail")},userControl:!1,size:"lg",noFooter:!1,rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000057"]}))}}]),t}(i.Component));v=(0,l.createPage)({initTemplate:s.initTemplate})(v),r.default.render(o.default.createElement(v,null),document.getElementById("app"))},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerButtonOnClick=t.clickSearchBtn=t.initTemplate=void 0;var a=n(309),i=n(314);t.initTemplate=a.initTemplate,t.clickSearchBtn=i.clickSearchBtn,t.headerButtonOnClick=i.headerButtonOnClick},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var a,i=n(310),o=(a=i)&&a.__esModule?a:{default:a};t.initTemplate=o.default},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"002210220SLOG",domainName:"uap",callback:function(t,n,a){n?e.createUIDom({pagecode:"10220SLOG_enterlog",appcode:"10220SLOG"},(function(n){n?l(n,e,t):l((0,o.default)(t),e,t)})):console.log("未加载到多语资源")}})};var a=n(1),i=(r(n(311)),r(n(312))),o=r(n(313));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){if(e&&e.button){var o=e.button;t.button.setButtons(o),t.button.setPopContent("delete","确认要删除该信息吗？")}var r=e.template;e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).refcode="uapbd/refer/psninfo/PsndocTreeGridRef/index.js"),r.exportLog={moduletype:"table",pagination:!0,items:[{label:n["1880000025-000010"],attrcode:"ip",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000011"],attrcode:"pk_user",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000012"],attrcode:"operationresult",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000013"],attrcode:"operationdate",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000014"],attrcode:"unloadingtimepoint",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000015"],attrcode:"pk_psndoc",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000016"],attrcode:"operationfilename",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000017"],attrcode:"errorReason",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0}]},r.importLog={moduletype:"table",pagination:!0,items:[{label:n["1880000025-000010"],attrcode:"ip",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000011"],attrcode:"pk_user",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000012"],attrcode:"operationresult",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000013"],attrcode:"operationdate",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000018"],attrcode:"unloadingtimepoint",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000015"],attrcode:"pk_psndoc",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000019"],attrcode:"operationfilename",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000020"],attrcode:"errorReason",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0}]},r.importModalForm={moduletype:"form",status:"edit",items:[{visible:!0,itemtype:"input",required:!0,attrcode:"exportPath",label:n["1880000025-000021"],col:6,width:80,leftspace:0},{visible:!0,attrcode:"fileName",label:n["1880000025-000022"],itemtype:"input",col:6,width:80,leftspace:0}]},r.exportModalForm={moduletype:"form",status:"edit",items:[{visible:!0,itemtype:"datepicker",required:!0,attrcode:"exportDate",label:n["1880000025-000023"],col:6,width:80,leftspace:0},{visible:!0,itemtype:"input",required:!0,attrcode:"filePath",label:n["1880000025-000021"],col:6,width:80,leftspace:0},{visible:!0,attrcode:"fileNamePri",label:n["1880000025-000024"],itemtype:"input",col:6,width:80,leftspace:0,required:!1}]},e.template.logingLog.pagination=!0,e.template.operatelog.pagination=!0,null!=e.template.logingLog.items&&e.template.logingLog.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.logingLog.items.find((function(e){return"logdate"==e.attrcode})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.logingLog.items&&e.template.logingLog.items.find((function(e){return"logoffdate"==e.attrcode}))&&(e.template.logingLog.items.find((function(e){return"logoffdate"==e.attrcode})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.operatelog.items&&null!=e.template.operatelog.items.find((function(e){return"datepicker"==e.itemtype}))&&(e.template.operatelog.items.find((function(e){return"datepicker"==e.itemtype})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"funccode"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"funccode"==e.attrcode})).refcode="uap/refer/riart/appRegestTreeRefer/index.js"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"logdate"==e.attrcode})).queryOperateType="between"),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"logdate"==e.attrcode})).queryOperateType="between"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode})).isShowUnit=!0),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode})).unitCondition=function(){return{isMutiGroup:"N"}}),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).isShowUnit=!0),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).unitCondition=function(){return{isMutiGroup:"N"}}),r=function(e,t,n){var a={label:n["1880000025-000025"],attrcode:"opr",disabled:!0,visible:!0,itermtype:"customer",render:function(t,n,a){return e.button.createOprationButton(["userDetail"],{area:"table",buttonLimit:3,onButtonClick:function(e,o){return(0,i.default)(e,o,t,n,a)}})}};return t.logingLog.items.push(a),t.operatelog.items.push(a),t}(t,r,n),t.meta.setMeta(r),(0,a.ajax)({url:"/nccloud/riart/buslog/userTypeAction.do",data:{},success:function(e){var n=e.success,a=e.data;n&&"1"==a.type&&t.button.setButtonVisible({modalList:!1,logTableModal:!1,importModal:!1,exportModal:!1})}})}},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=n(2),l=(a=r)&&a.__esModule?a:{default:a};var s=o.base.NCPopconfirm,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={content:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return l.default.createElement("div",null,l.default.createElement(s,{trigger:"click",placement:"top",content:e.state.content,onEnter:function(){var t="";null!=e.props.params&&(0,o.ajax)({url:"/nccloud/riart/buslogForm/searchUserInfoAction.do",data:e.props.params,success:function(n){var a=n.success,i=n.data;a?(t=i,e.setState({content:t})):(0,o.toast)({content:e.state.json["1880000025-000026"],color:"danger"})}})},onClose:function(){}},l.default.createElement("p",null,e.state.json["1880000025-000027"])))}}]),t}(r.Component);t.default=p},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,r){var l="";(0,a.ajax)({url:"/nccloud/riart/buslogForm/searchUserInfoAction.do",async:!1,data:o,success:function(e){var t=e.success,n=e.data;t?l=n:(0,a.toast)({content:_this.state.json["1880000025-000026"],color:"danger"})}}),e.modal.show("realUserDetail",{content:i(l)})};var a=n(1);function i(e){return React.createElement("div",{dangerouslySetInnerHTML:o(e)})}function o(e){return{__html:e}}},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{template:{code:"10220SLOG_enterlog",name:e["1880000025-000059"],pageid:"0001Z010000000005Q8Q",validateFlag:!1,ts:"2018-10-24 20:17:46",logingLog:{items:[{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"user_name",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000011"],maxlength:"20",onlyLeafCanSelect:!1,position:"1",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",metadataProperty:"uap.psndoc.name",onlyLeafCanSelect:!1,position:"2",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,position:"3",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"ip",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009003"],maxlength:"19",onlyLeafCanSelect:!1,position:"6",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logoffdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009004"],maxlength:"19",onlyLeafCanSelect:!1,position:"7",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"entersystemresult",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009005"],maxlength:"0",onlyLeafCanSelect:!1,position:"8",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"detail",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009006"],maxlength:"50",onlyLeafCanSelect:!1,position:"9",required:!1,scale:"0",visible:!0}],moduletype:"table",pagination:!1,code:"logingLog",name:e["1880000025-000059"],oid:"0001Z010000000005Q8Z",areaVisible:!0,isunfold:!0,isnotmeta:!1,appcode:"10220SLOG",pagecode:"10220SLOG_enterlog",templateCode:"10220SLOG_enterlog",pageid:"0001Z010000000005Q8Q"},searchArea:{items:[{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logdate",containlower:!1,datatype:"33",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-0009003"],maxlength:"19",onlyLeafCanSelect:!1,position:"1",required:!0,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_user",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000011"],maxlength:"36",onlyLeafCanSelect:!1,position:"2",refcode:"uap/refer/riart/userDefaultRefer/index",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",onlyLeafCanSelect:!1,position:"3",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{queryOperateType:"like",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"ip",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logoffdate",containlower:!1,datatype:"33",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-0009004"],maxlength:"19",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,options:[{display:"RIA",value:"1"},{display:"WEB",value:"2"},{display:e["1880000025-0009007"],value:"3"},{display:e["1880000025-0009008"],value:"4"},{display:e["1880000025-0009009"],value:"5"},{display:"NCCloud",value:"7"}],position:"6",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,options:[{display:"PC",value:"1"},{display:"PAD",value:"2"},{display:"Mobile",value:"3"}],position:"7",required:!1,scale:"0",visible:!0}],moduletype:"search",code:"searchArea",name:e["1880000025-0009010"],oid:"0001Z010000000005Q8R",areaVisible:!0,isunfold:!0,isnotmeta:!1},operatelog:{items:[{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"funcname",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009011"],maxlength:"200",onlyLeafCanSelect:!1,position:"1",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"buttonname",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009012"],maxlength:"50",onlyLeafCanSelect:!1,position:"2",required:!1,scale:"0",visible:!1},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,position:"3",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"ip",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"user_name",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000011"],maxlength:"20",onlyLeafCanSelect:!1,position:"6",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",metadataProperty:"uap.psndoc.name",onlyLeafCanSelect:!1,position:"7",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009013"],maxlength:"19",onlyLeafCanSelect:!1,position:"8",required:!1,scale:"0",visible:!0}],moduletype:"table",pagination:!1,code:"operatelog",name:e["1880000025-0009014"],oid:"0001Z010000000005Q9H",areaVisible:!0,isunfold:!0,isnotmeta:!1,appcode:"10220SLOG",pagecode:"10220SLOG_enterlog",templateCode:"10220SLOG_enterlog",pageid:"0001Z010000000005Q8Q"},searchNode:{items:[{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logdate",containlower:!1,datatype:"33",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-000013"],maxlength:"19",onlyLeafCanSelect:!1,position:"1",required:!0,scale:"0",visible:!0},{queryOperateType:"=",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"funccode",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refcode",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-0009015"],maxlength:"20",onlyLeafCanSelect:!1,position:"2",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",onlyLeafCanSelect:!1,position:"3",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{queryOperateType:"=",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"buttonname",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009012"],maxlength:"50",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_user",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000011"],maxlength:"36",onlyLeafCanSelect:!1,position:"5",refcode:"uap/refer/riart/userDefaultRefer/index",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,options:[{display:"RIA",value:"1"},{display:"WEB",value:"2"},{display:e["1880000025-0009007"],value:"3"},{display:e["1880000025-0009008"],value:"4"},{display:e["1880000025-0009009"],value:"5"},{display:"NCCloud",value:"7"}],position:"6",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,options:[{display:"PC",value:"1"},{display:"PAD",value:"2"},{display:"Mobile",value:"3"}],position:"7",required:!1,scale:"0",visible:!0}],moduletype:"search",code:"searchNode",name:e["1880000025-0009016"],oid:"0001Z010000000005Q99",areaVisible:!0,isunfold:!0,isnotmeta:!1},gridrelation:{logingLog:{srcAreaCode:"logingLog",tabRelation:["logingLog"]},operatelog:{srcAreaCode:"operatelog",tabRelation:["operatelog"]}},containerrelation:{logingLog:{layout:"vertical",tabs:[["logingLog"],["operatelog"]]}}},button:[{id:"0001Z01000000000ZKXO",type:"general_btn",key:"logTableModal",title:e["1880000025-000052"],area:"header",btncolor:"button_secondary",isenable:!0,order:"0",children:[]},{id:"0001Z01000000000ZKVH",type:"dropdown",key:"modalList",title:e["1880000025-000053"],area:"header",btncolor:"button_secondary",isenable:!0,order:"1",children:[{id:"0001Z0100000000040YY",type:"general_btn",key:"model",area:"header",btncolor:"button_secondary",isenable:!0,order:"2",parentCode:"modalList",children:[{id:"0001Z01000000000ZKVJ",type:"general_btn",key:"importModel",title:e["1880000025-000053"],area:"header",btncolor:"button_secondary",isenable:!0,order:"3",parentCode:"model",children:[]},{id:"0001Z01000000000ZKVL",type:"general_btn",key:"exportModel",title:e["1880000025-000054"],area:"header",btncolor:"button_secondary",isenable:!0,order:"4",parentCode:"model",children:[]}]}]},{id:"0001Z01000000000ZKXQ",type:"dropdown",key:"printList",title:e["1880000025-000051"],area:"header",btncolor:"button_secondary",isenable:!0,order:"5",children:[{id:"0001Z0100000000040YV",type:"general_btn",key:"print",area:"header",btncolor:"button_secondary",isenable:!0,order:"6",parentCode:"printList",children:[{id:"0001Z01000000000ZKXS",type:"general_btn",key:"printMain",title:e["1880000025-000051"],area:"header",btncolor:"button_secondary",isenable:!0,order:"7",parentCode:"print",children:[]},{id:"0001Z01000000000ZKXT",type:"general_btn",key:"output",title:e["1880000025-0009017"],area:"header",btncolor:"button_secondary",isenable:!0,order:"8",parentCode:"print",children:[]},{id:"0001Z01000000000ZKXU",type:"general_btn",key:"preview",title:e["1880000025-0009018"],area:"header",btncolor:"button_secondary",isenable:!0,order:"9",parentCode:"print",children:[]}]}]},{id:"0001Z010000000005TVX",type:"general_btn",key:"userDetail",title:e["1880000025-000055"],area:"table",btncolor:"button_secondary",isenable:!0,order:"10",children:[]}],context:{pk_org:"GLOBLE00000000000000",org_Name:e["1880000025-0009019"],pk_org_v:"GLOBLE00000000000000",dataSource:"design",currentLangSeq:"1"}}}},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerButtonOnClick=t.clickSearchBtn=void 0;var a=o(n(315)),i=o(n(316));function o(e){return e&&e.__esModule?e:{default:e}}t.clickSearchBtn=a.default,t.headerButtonOnClick=i.default},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=this;null==this&&(i=e);var o="logingLog"==i.state.tabsKey?"searchArea":"searchNode";if(0==i.props.search.getAllSearchData(o));else{var r=i.props.search.getQueryInfo(o),l=r.querycondition.conditions.find((function(e){return"logdate"==e.field})).value.firstvalue.split(" ")[0],s=r.querycondition.conditions.find((function(e){return"logdate"==e.field})).value.secondvalue.split(" ")[0],p=new Date(l),d=new Date(s);parseInt(Math.abs(p-d)/1e3/60/60/24)>=31?(0,a.toast)({content:i.state.json["1880000025-000000"],color:"warning"}):"logingLog"==i.state.tabsKey?(r.pageInfo=i.props.table.getTablePageInfo("logingLog"),0!=n?r.pageInfo.pageIndex=0:r.pageInfo.pagepks=t,(0,a.ajax)({data:r,url:"/nccloud/riart/enterLog/enterLogTableAction.do",success:function(e){null==e||null==e.data||null==e.data.logingLog||0==e.data.logingLog.rows.length?(i.props.table.setAllTableData("logingLog",{rows:[]}),n&&(0,a.toast)({content:i.state.json["1880000025-000001"],color:"warning"})):(i.props.table.setAllTableData("logingLog",e.data.logingLog),n&&(0,a.toast)({content:i.state.json["1880000025-000002"]+e.data.logingLog.allpks.length+i.state.json["1880000025-000003"],color:"success"}))},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}})):(r.pageInfo=i.props.table.getTablePageInfo("operatelog"),0!=n?r.pageInfo.pageIndex=0:r.pageInfo.pagepks=t,(0,a.ajax)({data:r,url:"/nccloud/riart/nodelog/nodeLogTableAction.do",success:function(e){null==e.data||null==e.data.operatelog||null==e.data.operatelog||0==e.data.operatelog.rows.length?(i.props.table.setAllTableData("operatelog",{rows:[]}),n&&(0,a.toast)({content:i.state.json["1880000025-000001"],color:"warning"})):(i.props.table.setAllTableData("operatelog",e.data.operatelog),n&&(0,a.toast)({content:i.state.json["1880000025-000002"]+e.data.operatelog.allpks.length+i.state.json["1880000025-000003"],color:"success"}))},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}}))}};var a=n(1)},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this;switch(t){case"logTableModal":this.setState({showModal:!0,buttonType:"logTableModal"}),e.modal.show("logTableModal",{title:n.state.json["1880000025-000040"],noFooter:!0},n.showData.bind(n));break;case"importModel":this.setState({showModal:!0,buttonType:"importModal"}),e.modal.show("userDetail",{title:n.state.json["1880000025-000004"],content:n.creatModalContent(t),beSureBtnClick:function(){n.modalOnClick(t)},cancelBtnClick:function(){n.props.modal.close("userDetail")},closeModalEve:function(){n.props.modal.close("userDetail")},userControl:!1,size:"xlg",noFooter:!1,rightBtnName:n.state.json["1880000025-000005"],leftBtnName:n.state.json["1880000025-000006"]});break;case"exportModel":this.setState({showModal:!0,buttonType:"exportModal"}),e.modal.show("userDetail",{title:n.state.json["1880000025-000007"],content:n.creatModalContent(t),beSureBtnClick:function(){n.modalOnClick(t)},cancelBtnClick:function(){n.props.modal.close("userDetail")},closeModalEve:function(){n.props.modal.close("userDetail")},userControl:!1,size:"xlg",noFooter:!1,rightBtnName:n.state.json["1880000025-000005"],leftBtnName:n.state.json["1880000025-000006"]});break;case"printMain":var i="";i="logingLog"==this.state.tabsKey?"enterlog_ncc":"enternode_ncc";var o=e.table.getPks(this.state.tabsKey);null==o||null==o||o.length<=0?(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"}):(0,a.print)("pdf","/nccloud/riart/buslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:i,oids:o});break;case"output":var r="";r="logingLog"==this.state.tabsKey?"enterlog_ncc":"enternode_ncc";var l=e.table.getPks(this.state.tabsKey);if(null==l||null==l||l.length<=0)(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"});else{var s={funcode:"10220SLOG",appcode:"10220SLOG",nodekey:r,oids:l,outputType:"output"};(0,a.output)({url:"/nccloud/riart/buslog/enterLogPrintAction.do",data:s,callback:this.onButtonClick})}break;case"preview":var p="";p="logingLog"==this.state.tabsKey?"enterlog_ncc":"enternode_ncc";var d=e.table.getPks(this.state.tabsKey);null==d||null==d||d.length<=0?(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"}):(0,a.print)("pdf","/nccloud/riart/buslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:p,oids:d})}};var a=n(1)},317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,r.isWindowSystem)()){var l=function(a,i,r){i?d(e,t,n,o,a):console.log("未加载到多语资源")};(0,i.getMultiLang)({moduleId:"contains_printOnClient",callback:l})}else(0,i.print)("pdf",t,a({},n,{sysType:(0,r.isWindowSystem)()?"1":"2"}),o)};l(n(2)),l(n(5));var i=n(1),o=l(n(226)),r=n(172);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.Cipher.opaqueDecrypt,p=i.viewModel.getGlobalStorage,d=function(e,t,n,o,r){(0,i.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:"1"},success:function(l){var s=l.success,d=l.data;if(s){var u=null;d.asid&&p("localStorage",d.asid)&&(u=JSON.parse(p("localStorage",d.asid)).toEndInfo);var m=a({},n,{nccloudsessionid:d.sessionid,ncclouPrintSetting:u,asid:d.asid,isPrinterView:!0,searchTemplate:o,authority:d.authority});if(u&&u.printTemplateID&&u.nopreview){var g=(0,i.deepClone)(u);g=g.ncclouPrintSetting,m=Object.assign({},m,{ncclouPrintSetting:g}),f(e,t,a({},m,{printTemplateID:o?u.printTemplateID:n.printTemplateID}),r)}else c(e,t,m,o,r)}else(0,i.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},c=function(e,t,n,a,i){(0,o.default)(e,t,n,a,(function(a){var o=Object.assign({},a,{type:n.virType?n.virType:"1"});console.log({queryParams:o}),f(e,t,o,i)}))},u=null,f=function(e,t,n,a){var o=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,l=s(p("localStorage","cowboy")),d=p("localStorage","rockin")||!1;if(null!=o&&1==o.readyState)(0,i.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){o=null;var c=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");c.onopen=function(e){console.log("连接成功"),(u=window.open("")).document.title=a.index_049;var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';u.document.body.innerHTML=t},c.onclose=function(e){console.log("关闭连接")},c.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},c.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(c.close(),u.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(c.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:null,beginUrl:r,aeskey:l,rockin:d});var e=JSON.stringify(f);c.send(e)}}),1e3)}else(0,i.toast)({color:"warning",content:"不支持websocket"})}},318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=v(o),l=v(n(5)),s=n(1),p=v(n(319)),d=v(n(320)),c=v(n(321)),u=v(n(227)),f=n(172),m=v(n(228)),g=v(n(322)),h=v(n(323)),y=v(n(229));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(i,o){try{var r=t[i](o),l=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}var w=s.viewModel.getCookie,x=s.viewModel.setGlobalStorage,S=s.viewModel.getGlobalStorage,_=(s.viewModel.removeGlobalStorage,new(0,s.gzip)),k=s.Cipher.opaqueDecrypt,P=s.base.NCButton,L=(s.base.NCInput,s.base.NCRow),C=s.base.NCCol,O=s.base.NCIcon,T=s.base.NCCheckbox,I=s.base.NCLoading;n(324);var j=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.saveFrontCache=function(){var e=f.gerRequestVO.call(r),t=a({},e),n={toEndInfo:t};return x("localStorage",r.state.asid,JSON.stringify(n)),t},r.save=function(){r.cancel();var e=r.saveFrontCache();r.props.onEnsureInfoSave&&"function"==typeof r.props.onEnsureInfoSave&&r.props.onEnsureInfoSave(e)},r.cancel=function(){r.setState({modalVis:!1});var e=l.default.findDOMNode(r);l.default.unmountComponentAtNode(e);var t=e.parentNode;t.parentNode&&t.parentNode.removeChild(t)},r.getCurrentPages=(i=b(regeneratorRuntime.mark((function e(t){var i,o,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.state.configParams,o=i.printTemplateID,l=null,i.asid&&S("localStorage",i.asid)&&(l=JSON.stringify(JSON.parse(S("localStorage",i.asid)).toEndInfo)),s=a({},i,{printTemplateID:o,appcode:i.appcode,nodeKey:i.nodekey,ncclouPrintSetting:l?a({},l,{changeType:1}):l,download:"preview",sysType:3}),(0,h.default)({newProps:r.props,url:t.url,params:s,enctype:2}),console.log("gzipStatus",S("localStorage","gzip")),r.getUnzipCurrentPage("current");case 8:case"end":return e.stop()}}),e,n)}))),function(e){return i.apply(this,arguments)}),r.getTotalPages=function(e){var t=(0,s.deepClone)(e.params),n=a({},t,{download:"previewTotalPages"});(0,g.default)({newProps:r.props,url:e.url,params:n,enctype:2}),console.log("gzipStatus",S("localStorage","gzip")),r.getUnzipTotalPage("total")},r.getUnzipCurrentPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=k(S("localStorage","cowboy")),n=w("cookiets")||Date.now(),a=(n=isNaN(n)?n:Number(n))+"";t=a+t.substring(0,t.length-a.length);var i=r,o=0,l=setInterval((function(){var n="total"==e?window.frames.totalPageIframe:window.frames.currentPageIframe;if(n){(o+=1)>200&&clearInterval(l);var a=n.document.getElementsByTagName("pre")[0];if(a&&a.innerHTML){console.log(S("localStorage","rockin"));var r=a.innerHTML;"string"==typeof a.innerHTML&&"true"==S("localStorage","rockin")&&(r=s.Cipher.decrypt(a.innerHTML,t)),clearInterval(l),r="1"==S("localStorage","gzip")?_.unzip(r):JSON.parse(r),console.log("res",r),"total"==e?i.setState({totalPages:r.data}):"current"===e&&i.setState({currentPages:r.data})}}}),800)},r.getUnzipTotalPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"total",t=k(S("localStorage","cowboy")),n=w("cookiets")||Date.now(),a=(n=isNaN(n)?n:Number(n))+"";t=a+t.substring(0,t.length-a.length);var i=r,o=0,l=setInterval((function(){var n="total"==e?window.frames.totalPageIframe:window.frames.currentPageIframe;if(n){(o+=1)>2e3&&clearInterval(l);var a=n.document.getElementsByTagName("pre")[0];if(a&&a.innerHTML){console.log(S("localStorage","rockin"));var r=a.innerHTML;"string"==typeof a.innerHTML&&"true"==S("localStorage","rockin")&&(r=s.Cipher.decrypt(a.innerHTML,t)),clearInterval(l),r="1"==S("localStorage","gzip")?_.unzip(r):JSON.parse(r),console.log("res",r),"total"==e?i.setState({totalPages:r.data}):"current"===e&&i.setState({currentPages:r.data})}}}),1e3)},r.initFormData=(o=b(regeneratorRuntime.mark((function e(){var t,i,o,l,p,d,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.configParams,i=u.printTemplateID?u.printTemplateID:t.printTemplateID,e.next=4,(0,m.default)(r.props,r.props.url,a({},t,{printTemplateID:i}),r.state.json);case 4:o=e.sent,l=r.state.responseAllData,p=o.nccloudPrinterList,r.setState({nccloudPrinterList:p}),d=r,c=null,t.asid&&S("localStorage",t.asid)&&(c=JSON.stringify(JSON.parse(S("localStorage",t.asid)).toEndInfo)),r.setState({currPrintTemplateID:i,nopreview:!!c&&JSON.parse(c).nopreview||!1}),(0,s.ajax)({url:"/nccloud/riart/printtool/down.do",data:{printTemplateID:i,appcode:t.appcode,nodeKey:t.nodekey,ncclouPrintSetting:u.printTemplateID?a({},c,{changeType:1}):c},success:function(e){var t=e.success;if(e.data,t){if(l=a({},e.data,{nccloudPrinterList:p,printTemplateID:i}),c&&!l.currentNCCloudPrinter){var n=JSON.parse(JSON.parse(c).ncclouPrintSetting),o=n.currentNCCloudPrinter;l.currentNCCloudPrinter=o;var r=n.currentNCCloudPaperResource;l.currentNCCloudPaperResource=r}d.setState({responseAllData:l});var s=!u.printTemplateID;d.formatData(l,s)}}});case 13:case"end":return e.stop()}}),e,n)}))),function(){return o.apply(this,arguments)}),r.formatData=function(e,t){f.modifyMeta.call(r,e.printerId||""),f.initFormVal.call(r,e,"",e.printTemplateID),t&&f.initTempalteIdInfo.call(r,e)},r.reloadPDFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r.toggleShowLoad.call(r,!0);var t=f.gerRequestVO.call(r),n=r.state.configParams;(0,u.default)({newProps:r.props,params:a({},t,{printTemplateID:e||n.printTemplateID,changeType:e?1:2,hadPlugin:!0}),url:r.props.url,enctype:2,hasModal:!0},r.state.json),setTimeout((function(){r.toggleShowLoad.call(r,!1)}),1500)},r.resetIframeStyle=function(){},r.changePreviewStatus=function(e){r.setState({nopreview:e})},r.output=function(){var e=r.state,t=e.configParams,n=e.configUrl;(0,s.output)({url:n,data:a({},t,{download:null,outputType:"output",searchTemplate:!1}),callback:r.onButtonClick})},r.state={showLoad:!1,modalVis:!1,nopreview:!1,totalPages:0,currentPages:0,asid:r.props.params.asid,responseAllData:{nccloudPrinterList:[],currentNCCloudTemplateInfo:{},currentNccloudPaper:{},nccloudTemplateInfoList:[],currentNCCloudPrinter:{}},json:{},init:null,configParams:r.props.params,configUrl:r.props.url},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;(0,s.getMultiLang)({moduleId:"contains_printOnClient",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.configParams;this.setState({showModal:!0}),this.initFormData(),this.getTotalPages({params:t,url:this.props.url}),this.getCurrentPages({params:t,url:this.props.url}),y.default.subscribe("modifySfVar",(function(n,a){var i=JSON.parse(decodeURI(t.userjson));for(var o in a)i[o]=a[o];t.userjson=encodeURI(JSON.stringify(i)),e.setState({configParams:t})})),y.default.subscribe("modifySfPaper",(function(t,n){var i=e.state.configParams,o=i.printTemplateID,r=void 0===o?null:o,l=i.userjson,s=void 0===l?{}:l;for(var p in s=JSON.parse(decodeURI(s)),n)s[p]=n[p];i.userjson=encodeURI(JSON.stringify(s));var d=f.gerRequestVO.call(e);(0,u.default)({newProps:e.props,params:a({},d,{printTemplateID:r||i.printTemplateID,changeType:r?1:2,hadPlugin:!0}),url:e.props.url,enctype:2,hasModal:!0},e.state.json)}))}},{key:"toggleShowLoad",value:function(e){this.setState({showLoad:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.params,i=n.createForm,l=this.state,s=l.showModal,p=l.configParams;return console.log({configParams:p}),r.default.createElement("div",{className:"print-preview-model",style:{display:s?"block":"none"}},r.default.createElement("iframe",{id:"totalPageIframe",name:"totalPageIframe",style:{display:"none"}}),r.default.createElement("iframe",{id:"currentPageIframe",name:"currentPageIframe",style:{display:"none"}}),r.default.createElement("div",{className:"print-preview-model-dialog"}),r.default.createElement("div",{className:"model-body"},r.default.createElement("header",{className:"model-header"},r.default.createElement("span",null,this.state.json.index_003),r.default.createElement(O,{type:"uf-close",className:"close-modal",onClick:this.cancel})),r.default.createElement(L,null,r.default.createElement(C,{md:9},r.default.createElement("div",{style:{position:"absolute",zIndex:100,height:57,backgroundColor:"#525659",width:"96%"}}),r.default.createElement("iframe",{id:"printPreviewModal",name:"printPreviewModal",style:{width:"100%",height:"430px"},onLoad:function(){e.resetIframeStyle()}})),r.default.createElement(C,{md:3},r.default.createElement(I,{container:this,show:this.state.showLoad}),r.default.createElement("div",{className:"print-form-contain"},a.hideTemplate?null:r.default.createElement(o.Fragment,null,r.default.createElement("h4",{className:"header-title header-title-first"},this.state.json.index_004),i("printTemplate",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)})),r.default.createElement("h4",{className:"header-title"},this.state.json.index_005),i("printRange",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),r.default.createElement("h4",{className:"header-title"},this.state.json.index_006),i("printMachine",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),r.default.createElement("h4",{className:"header-title"},this.state.json.index_007),i("printStyle",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),a.formulaConfig?a.formulaConfig:null))),r.default.createElement("footer",{className:"model-footer"},p.hidePreviewCheck?null:r.default.createElement(T,{checked:this.state.nopreview,fieldid:"preview_check",value:this.state.nopreview,onChange:this.changePreviewStatus},this.state.json.index_008),a.hideTemplate?null:r.default.createElement("p",{className:"total-paegs"},"(",this.state.json.index_009,this.state.currentPages,this.state.json.index_010,")",this.state.json.index_011,this.state.totalPages,this.state.json.index_010),r.default.createElement(P,{onClick:this.save,fieldid:"print_btn",colors:"danger"},this.state.json.index_012),p.notNeedOutPutBtn?null:r.default.createElement(P,{onClick:this.output,fieldid:"output_btn"},this.state.json.index_013),r.default.createElement(P,{onClick:this.cancel,fieldid:"cancel_btn"},this.state.json.index_014))))}}]),t}(o.Component);j=(0,s.createPage)({initTemplate:p.default})(j),t.default=j},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};(0,a.getMultiLang)({moduleId:"contains_printOnClient",callback:function(n,a,o){a?(t={printTemplate:{moduletype:"form",items:[{attrcode:"templateInfoList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:n.index_004+"："}],status:"edit"},printRange:{moduletype:"form",items:[{attrcode:"pageRangeType",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"radio",showClear:!1,options:[{display:""+n.index_000,value:0},{display:""+n.index_016,value:1}],label:n.index_005+"："},{attrcode:"pageFrom",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!1,itemtype:"number",label:""+n.index_018},{attrcode:"pageTo",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!1,itemtype:"number",label:""+n.index_019},{attrcode:"pageWholeType",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[{display:""+n.index_020,value:0},{display:""+n.index_021,value:1},{display:""+n.index_022,value:2}],label:""+n.index_023},{attrcode:"copies",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"number",label:""+n.index_024},{attrcode:"collated",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"switch",label:""+n.index_025},{attrcode:"doubleside",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,label:""+n.index_026,options:[{display:""+n.index_027,value:0},{display:""+n.index_028,value:1},{display:""+n.index_029,value:2}]}],status:"edit"},printMachine:{moduletype:"form",items:[{attrcode:"PrinterList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_030},i({attrcode:"printerStatus",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,disabled:!0,itemtype:"input",label:""+n.index_031},"disabled",!0),{attrcode:"paperResourceList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_032},{attrcode:"twoSide",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_033,disabled:!0}],status:"edit"},printStyle:{moduletype:"form",items:[{attrcode:"paperList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_034},{attrcode:"paperWidth",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_035,disabled:!0},{attrcode:"paperHeight",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_036,disabled:!0},{attrcode:"nccloudPaperDirect",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"radio",label:""+n.index_037,options:[{display:""+n.index_038,value:!1},{display:""+n.index_039,value:!0}]},{attrcode:"isMultiColor",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"switch",label:""+n.index_040}],status:"edit"}},e.meta.setMeta(t)):console.log("未加载到多语资源")}})};var a=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,i){["pageFrom","pageTo"].includes(n)&&function(e,t){1!=e.form.getFormItemsValue(t,"pageRangeType")&&e.form.setFormItemsValue(t,{pageRangeType:{display:"页面",value:1}})}(e,t);return!0}},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,s){var p=a.value.key?a.value.key:a.value;a.display;"PrinterList"===n&&o.call(this,p);"nccloudPaperDirect"===n&&i.call(this,p);if(["paperList"].includes(n)&&a!==s){var d=this.props.meta.getMeta(),c=[];d.printStyle.items.map((function(e){"paperList"===e.attrcode&&(c=e.options)})),console.log({paperList:c}),r.call(this,c,p),this.props.form.setFormItemsDisabled(t,{paperWidth:this.state.json.index_015!==a.display,paperHeight:this.state.json.index_015!==a.display})}["templateInfoList"].includes(n)&&l.call(this,p);"pageRangeType"===n&&e.form.setFormItemsVisible("printRange",{pageFrom:!!Number(p),pageTo:!!Number(p)})};var a=n(172);function i(e){var t=this.props.form.getFormItemsValue("printStyle",["paperWidth","paperHeight"]);console.log({printStyleVO:t}),this.props.form.setFormItemsValue("printStyle",{paperWidth:{value:t[1].value},paperHeight:{value:t[0].value}}),this.reloadPDFile()}function o(e){a.modifyMeta.call(this,e);var t=this.props.form.getFormItemsValue("printStyle","paperList"),n=this.props.form.getFormItemsValue("printMachine","paperResourceList"),i=[],o=[],r=!1,l=this.props.meta.getMeta(),s=this.state.responseAllData.nccloudPrinterList.find((function(t){return e==t.printerId}));l.printStyle.items.find((function(e){if("paperList"===e.attrcode)return i=e.options,!0})),l.printMachine.items.find((function(e){if("paperResourceList"===e.attrcode)return o=e.options,!0})),o.length&&(r=o.some((function(e){return e.display==n.display}))),i.some((function(e){return e.display==t.display}))||(this.props.form.setFormItemsValue("printStyle",{paperList:{display:i[0].display,value:i[0].value}}),this.reloadPDFile()),!o.length||r?this.props.form.setFormItemsValue("printMachine",{paperResourceList:{display:o.length?o[0].display:"",value:o.length?o[0].value:""}}):this.props.form.setFormItemsValue("printMachine",{paperResourceList:{display:n.display?n.display:o[0].display,value:n.value?n.value:o[0].value}}),this.props.form.setFormItemsValue("printMachine",{printerStatus:{display:s.printerStatus?this.state.json.index_062:this.state.json.index_063,value:s.printerStatus},twoSide:{display:s.twoSide?this.state.json.index_064:this.state.json.index_065,value:s.twoSide}})}function r(e,t){var n=e.find((function(e){return e.value===t}));this.props.form.setFormItemsValue("printStyle",{paperWidth:{value:parseInt(n.paperWidth)},paperHeight:{value:parseInt(n.paperHeight)},nccloudPaperDirect:{value:n.paperWidth<n.paperHeight}}),this.reloadPDFile()}function l(e){this.initFormData({printTemplateID:e}),this.reloadPDFile(e)}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){e.newProps;var t=e.params,n=e.url,i=e.enctype,o=(e.hasModal,arguments.length>1&&void 0!==arguments[1]&&arguments[1],""),r="",l=window.parent.location.hash.split("?");if(l&&l[1]){var s=l[1].split("&");s&&s instanceof Array&&s.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(o=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(r=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))}))}var p=(o||null)+"-"+(window.actionName||null),d={sys_busiaction:p,sys_appcode:r,sys_ts:(new Date).getTime()},c=[{target:"totalPageIframe",method:"POST",enctype:i=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(i),type:"hidden",action:n||""},document.createElement("form")],u=c[0],f=c[1];Object.assign(f,u);var m=a({},t,d),g=function(e){if(m[e]instanceof Array)m[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,f.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=m[e],f.appendChild(t)}};for(var h in m)g(h);return document.body.appendChild(f),f.submit(),document.body.removeChild(f),!1};var i,o=n(5);(i=o)&&i.__esModule},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){e.newProps;var t=e.params,n=e.url,i=e.enctype,o=(e.hasModal,arguments.length>1&&void 0!==arguments[1]&&arguments[1],""),r="",l=window.parent.location.hash.split("?");if(l&&l[1]){var s=l[1].split("&");s&&s instanceof Array&&s.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(o=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(r=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))}))}var p=(o||null)+"-"+(window.actionName||null),d={sys_busiaction:p,sys_appcode:r,sys_ts:(new Date).getTime()},c=[{target:"currentPageIframe",method:"POST",enctype:i=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(i),type:"hidden",action:n||""},document.createElement("form")],u=c[0],f=c[1];Object.assign(f,u);var m=a({},t,d),g=function(e){if(m[e]instanceof Array)m[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,f.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=m[e],f.appendChild(t)}};for(var h in m)g(h);return document.body.appendChild(f),f.submit(),document.body.removeChild(f),!1};var i,o=n(5);(i=o)&&i.__esModule},324:function(e,t,n){var a=n(325);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(4)(a,i);a.locals&&(e.exports=a.locals)},325:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".print-preview-model .u-col-md-9,\n.print-preview-model .u-col-md-3 {\n  padding-right: 0;\n}\n.print-preview-model .u-col-md-9 {\n  width: 73%;\n}\n.print-preview-model .u-col-md-3 {\n  padding-left: 0;\n  width: 27%;\n}\n.print-preview-model .print-preview-model-dialog {\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n}\n.print-preview-model .lightapp-component-form {\n  padding: 0;\n}\n.print-preview-model .lightapp-component-form .form-item .form-item-label {\n  width: 100px;\n  min-width: 50px;\n}\n.print-preview-model .lightapp-component-form .form-item .form-item-control {\n  width: calc(100% - 100px);\n}\n.print-preview-model .model-body {\n  position: fixed;\n  z-index: 110;\n  left: 50%;\n  top: 20px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  width: 80%;\n  height: 520px;\n  top: 360;\n  background: #fff;\n}\n.print-preview-model .model-header {\n  padding: 12px 15px;\n  background: #f3f3f3;\n  font-size: 16px;\n}\n.print-preview-model .model-header .close-modal {\n  float: right;\n  cursor: pointer;\n}\n.print-preview-model .model-footer {\n  position: relative;\n  padding: 10px 8px;\n  text-align: right;\n  border-top: 1px solid #ddd;\n}\n.print-preview-model .model-footer .u-checkbox {\n  float: left;\n  line-height: 18px;\n}\n.print-preview-model .model-footer .u-checkbox-label {\n  padding-top: 5px;\n}\n.print-preview-model .model-footer .u-checkbox-label::before,\n.print-preview-model .model-footer .u-checkbox-label::after {\n  top: 8px;\n}\n.print-preview-model .print-form-contain {\n  height: 430px;\n  width: 95%;\n  overflow-y: auto;\n}\n.print-preview-model .header-title {\n  padding: 0 0 0 16px;\n  margin-top: 5px;\n  height: 32px;\n  line-height: 32px;\n  font-size: 13px;\n  background-color: #eceff5;\n}\n.print-preview-model .header-title.header-title-first {\n  margin-top: 0;\n}\n.print-preview-model .total-paegs {\n  position: absolute;\n  right: 26%;\n  bottom: 18px;\n}\n.print-preview-model .group-form-wrapper {\n  position: relative;\n}\n.print-preview-model .form-item.pageFrom,\n.print-preview-model .form-item.pageTo {\n  position: relative;\n  left: 86px;\n  top: 0;\n}\n.print-preview-model .form-item.pageFrom .form-item-label,\n.print-preview-model .form-item.pageTo .form-item-label {\n  padding-right: 5px;\n  width: 45px;\n  min-width: 0;\n}\n.print-preview-model .form-item.pageFrom .form-item-control,\n.print-preview-model .form-item.pageTo .form-item-control {\n  width: 46px;\n  padding-right: 0;\n}\n.print-preview-model .pageFrom,\n.print-preview-model .pageTo {\n  width: 32% !important;\n}\n",""])},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,r.isWindowSystem)()){var l=function(a,i){i?d(e,t,n,o,a):console.log("未加载到多语资源")};(0,i.getMultiLang)({moduleId:"contains_printOnClient",callback:l})}else(0,i.print)("pdf",t,a({},n,{sysType:(0,r.isWindowSystem)()?"1":"2"}),o)};l(n(2)),l(n(5));var i=n(1),o=l(n(226)),r=n(172);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.Cipher.opaqueDecrypt,p=i.viewModel.getGlobalStorage,d=function(e,t,n,o,r){(0,i.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:"1"},success:function(l){var s=l.success,d=l.data;if(s){var u=null;d.asid&&p("localStorage",d.asid)&&(u=JSON.parse(p("localStorage",d.asid)).toEndInfo);var f=a({},n,{nccloudsessionid:d.sessionid,ncclouPrintSetting:u,asid:d.asid,isPrinterView:!1,searchTemplate:o,authority:d.authority,hidePreviewCheck:!0});c(e,t,f,o,r)}else(0,i.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},c=function(e,t,n,r,l){(0,o.default)(e,t,n,r,(function(o){n.authority?f(e,t,a({},o,{type:n.virType?n.virType:"1"}),l):(0,i.toast)({color:"warning",content:l.index_051})}))},u=null,f=function(e,t,n,a){var o=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,l=s(p("localStorage","cowboy")),d=p("localStorage","rockin")||!1;if(null!=o&&1==o.readyState)(0,i.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){o=null;var c=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");c.onopen=function(e){console.log("连接成功"),(u=window.open("")).document.title=a.index_049;var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';u.document.body.innerHTML=t},c.onclose=function(e){console.log("关闭连接")},c.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},c.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(c.close(),u.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(c.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:null,beginUrl:r,aeskey:l,rockin:d});var e=JSON.stringify(f);c.send(e)}}),1e3)}else(0,i.toast)({color:"warning",content:a.index_057+"websocket"})}},327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=function(l,s,d){if((0,o.isWindowSystem)()){(0,i.getMultiLang)({moduleId:"contains_printOnClient",callback:function(a,i,o){i?p(e,t,n,r,a):console.log("未加载到多语资源")}})}else(0,i.print)("pdf",t,a({},n,{sysType:(0,o.isWindowSystem)()?"1":"2"}),r)};l()};r(n(2)),r(n(5));var i=n(1),o=n(172);function r(e){return e&&e.__esModule?e:{default:e}}var l=i.Cipher.opaqueDecrypt,s=i.viewModel.getGlobalStorage,p=function(e,t,n,o,r){(0,i.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:3==n.type?n.oids.length.toString():"1"},success:function(p){var c=p.success,f=p.data;if(c)if(f.authority){var m=null;f.asid&&l(s("localStorage",f.asid))&&(m=JSON.parse(l(s("localStorage",f.asid))).toEndInfo);var g=a({},n,{nccloudsessionid:f.sessionid,ncclouPrintSetting:m,asid:f.asid});m&&m.printTemplateID?u(e,t,a({},g,{printTemplateID:m.printTemplateID}),r):o?d(e,t,g,r):u(e,t,g,r)}else(0,i.toast)({color:"warning",content:r.index_051});else(0,i.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},d=function(e,t,n,o){var r=null;(0,i.ajax)({method:"post",url:"/nccloud/platform/print/queryTemplates.do",data:n,success:function(l){var s=l.success,p=l.data;if(s){if(!p||!p.length)return(0,i.toast)({color:"warning",content:"未查询到任何模板信息"});r=p[0].m_ctemplateid?p[0].m_ctemplateid:null,u(e,t,a({},n,{printTemplateID:r}),o)}},error:function(e){(0,i.toast)({color:"danger",content:e.message})}})},c=null,u=function(e,t,n,a){var o=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,p=l(s("localStorage","cowboy")),d=s("localStorage","rockin")||!1;if(null!=o&&1==o.readyState)(0,i.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){o=null;var u=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");u.onopen=function(e){console.log("连接成功"),c=window.open("");var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';c.document.body.innerHTML=t},u.onclose=function(e){console.log("关闭连接")},u.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},u.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(u.close(),c.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(u.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:n.download||null,suffx:n.suffx||null,beginUrl:r,aeskey:p,rockin:d}),s("localStorage",n.printTemplateID)&&(f.ncclouPrintSetting=JSON.parse(s("localStorage",f.printTemplateID)).toEndInfo);var e=JSON.stringify(f);u.send(e)}}),1e3)}else(0,i.toast)({color:"warning",content:a.index_057+"websocket"})}},328:function(e,t,n){var a=n(329);"string"==typeof a&&(a=[[e.i,a,""]]);var i={transform:void 0};n(4)(a,i);a.locals&&(e.exports=a.locals)},329:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".enterLog .u-table-content .u-table-scroll .u-table-body {\n  min-height: 280px !important;\n  overflow: auto;\n  max-height: 280px !important;\n}\n",""])},4:function(e,t,n){var a,i,o={},r=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=a.apply(this,arguments)),i}),l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),s=null,p=0,d=[],c=n(6);function u(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=o[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(v(a.parts[r],t))}else{var l=[];for(r=0;r<a.parts.length;r++)l.push(v(a.parts[r],t));o[a.id]={id:a.id,refs:1,parts:l}}}}function f(e,t){for(var n=[],a={},i=0;i<e.length;i++){var o=e[i],r=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};a[r]?a[r].parts.push(l):n.push(a[r]={id:r,parts:[l]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=d[d.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,a,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=p++;n=s||(s=h(t)),a=x.bind(null,n,r,!1),i=x.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),a=_.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),a=S.bind(null,n),i=function(){g(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return u(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var r=n[i];(l=o[r.id]).refs--,a.push(l)}e&&u(f(e,t),t);for(i=0;i<a.length;i++){var l;if(0===(l=a[i]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function S(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var a=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(a=c(a)),i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([a],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}},5:function(e,t){e.exports=n},6:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,a=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:a+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},8:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}})}));
//# sourceMappingURL=index.516e3be0.js.map