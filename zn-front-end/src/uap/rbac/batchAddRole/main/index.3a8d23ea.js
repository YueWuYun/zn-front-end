/*! @ncctag {"date":"2020-5-11 23:39:24"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/rbac/batchAddRole/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/rbac/batchAddRole/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=585)}({1:function(t,n){t.exports=e},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(o,a({},r,e))};var o=n(1).high.Refer,r=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(l,a({},i,e))};var o=n(1),r=n(146),l=o.high.Refer,i=t.conf={placeholder:"refer-000199",rootNode:{refname:"refer-000199",refpk:"root"},multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000200",refCode:"uapbd.org.BusinessUnitAndGroupTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitAndGroupTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:r.conf,isShowUnit:!1}},2:function(e,n){e.exports=t},221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=c(o),l=(c(n(3)),n(1)),i=c(n(147)),s=c(n(222));function c(e){return e&&e.__esModule?e:{default:e}}l.base.NCMessage,l.base.NCCheckbox;var u=l.base.NCRow,d=l.base.NCCol,f=l.base.NCRadio,p=f.NCRadioGroup,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeLeft=function(e){var t=e.refpk,a=n;a.setState({byrole:e}),t&&null!=t?(0,l.ajax)({url:"/nccloud/rbac/batchaddrole/querybypkorg.do",data:t,success:function(e){e.success&&null!=e.data?a.props.table.setAllTableData("Role",e.data.Role):a.props.table.setAllTableData("Role",{rows:[]})},error:function(e){(0,l.toast)({content:e.message,color:"danger"})}}):a.props.table.setAllTableData("Role",{rows:[]})},n.radioChange=function(e){n.setState({radioValue:e})},n.onChangeRight=function(e){var t=n,a=[];null!=e&&e.length>0?(e.map((function(e,t){return a.push(e.refpk),a})),(0,l.ajax)({url:"/nccloud/rbac/batchaddrole/queryOrgByPks.do",data:a,success:function(e){e.success&&null!=e.data?t.props.table.setAllTableData("pk_org",e.data.pk_org):t.props.table.setAllTableData("pk_org",{rows:[]})},error:function(e){(0,l.toast)({content:e.message,color:"danger"})}})):t.props.table.setAllTableData("pk_org",{rows:[]})},n.state={radioValue:"0",role_type_option:{},byrole:{value:""},json:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.beSureByOrgModal(this),this.setState({json:this.props.jsonlang})}},{key:"beSureByOrgData",value:function(){return{roles:this.props.table.getCheckedRows("Role"),orgs:this.props.table.getAllTableData("pk_org"),radio:this.state}}},{key:"render",value:function(){var e=this.props,t=(e.form,e.button,e.table,this.props.table.createSimpleTable);this.props.form.createForm;return r.default.createElement("div",null,r.default.createElement(u,null,r.default.createElement(d,{md:6},r.default.createElement(u,null,r.default.createElement(d,{md:3},r.default.createElement("span",{className:"nc-theme-title-font-c"},this.state.json["0006"])),r.default.createElement(d,{md:9},r.default.createElement(i.default,{fieldid:"role_belongto_org",value:this.state.byrole,onChange:this.onChangeLeft.bind(this),isMultiSelectedEnabled:!1,queryCondition:{TreeRefActionExt:"nccloud.web.rbac.authres.sqlbuilder.AuthResOrgPermSqlBuilder"}}))),t("Role",{showCheck:!0,showIndex:!0})),r.default.createElement(d,{md:6},r.default.createElement(u,null,r.default.createElement(d,{md:3},r.default.createElement("span",{className:"nc-theme-title-font-c"},this.state.json["0005"])),r.default.createElement(d,{md:9},r.default.createElement(i.default,{fieldid:"dest_org",onChange:this.onChangeRight.bind(this),isMultiSelectedEnabled:!0,queryCondition:{TreeRefActionExt:"nccloud.web.rbac.authres.sqlbuilder.AuthResOrgPermSqlBuilder"}}))),t("pk_org",{showIndex:!0}))),r.default.createElement("div",{className:"nc-theme-title-font-c"},r.default.createElement("span",{style:{padding:"10px"}},this.state.json["0007"]),r.default.createElement("div",{style:{"text-align":"center"}},r.default.createElement(p,{selectedValue:this.state.radioValue,onChange:this.radioChange.bind(this)},r.default.createElement(f,{value:"0"},this.state.json["0008"]),r.default.createElement(f,{value:"1"},this.state.json["0009"])))))}}]),t}(o.Component);t.default=b=(0,l.createPage)({initTemplate:s.default})(b)},222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:"10120RCP_rolecporg"},(function(t){if(t&&t.template){var n=t.template;e.meta.setMeta(n)}}))};n(1)},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=c(o),l=(c(n(3)),n(1)),i=c(n(224)),s=c(n(147));function c(e){return e&&e.__esModule?e:{default:e}}l.base.NCCheckbox;var u=l.base.NCRow,d=l.base.NCCol,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getLeftData=function(){var e=n;(0,l.ajax)({url:"/nccloud/rbac/addByResp/respList.do",loading:!0,success:function(t){t.success&&null!=t.data?e.props.table.setAllTableData("Responsibility",t.data.Responsibility):e.props.table.setAllTableData("Responsibility",{rows:[]})}})},n.onChangeRight=function(e){var t=n,a=[];null!=e&&e.length>0&&(e.map((function(e,t){return a.push(e.refpk),a})),(0,l.ajax)({url:"/nccloud/rbac/batchaddrole/queryOrgByPks.do",data:a,success:function(e){e.success&&null!=e.data?t.props.table.setAllTableData("pk_org",e.data.pk_org):t.props.table.setAllTableData("pk_org",{rows:[]})},error:function(e){(0,l.toast)({content:e.message,color:"danger"})}}))},n.state={json:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){this.getLeftData()}},{key:"componentDidMount",value:function(){this.props.beSureByRespModal(this),this.setState({json:this.props.jsonlang})}},{key:"beSureByRespData",value:function(){return{resps:this.props.table.getCheckedRows("Responsibility"),orgs:this.props.table.getAllTableData("pk_org")}}},{key:"render",value:function(){var e=this.props,t=(e.form,e.syncTree,e.modal,e.button,e.table,this.props.table.createSimpleTable);this.props.form.createForm;return r.default.createElement("div",null,r.default.createElement(u,null,r.default.createElement(d,{md:6},r.default.createElement("div",{className:"title nc-theme-title-font-c"},r.default.createElement("span",null,this.state.json["0004"])),t("Responsibility",{showCheck:!0,showIndex:!0})),r.default.createElement(d,{md:6},r.default.createElement(u,null,r.default.createElement(d,{md:3},r.default.createElement("span",{className:"nc-theme-title-font-c"},this.state.json["0005"])),r.default.createElement(d,{md:9},r.default.createElement(s.default,{fieldid:"dest_org",onChange:this.onChangeRight.bind(this),isMultiSelectedEnabled:!0,queryCondition:{TreeRefActionExt:"nccloud.web.rbac.authres.sqlbuilder.AuthResOrgPermSqlBuilder",DataPowerEnable:!0}}))),t("pk_org",{showIndex:!0}))),r.default.createElement("div",{className:"nc-theme-common-font-c"},r.default.createElement("span",{style:{padding:"10px"}},this.state.json["0010"]),r.default.createElement("div",{style:{"text-align":"center"}},this.state.json["0011"])))}}]),t}(o.Component);t.default=f=(0,l.createPage)({initTemplate:i.default})(f)},224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:"10120RCP_rolecpresp"},(function(t){if(t&&t.template){var n=t.template;e.meta.setMeta(n)}}))};var a=n(1);a.base.NCPopconfirm,a.base.NCIcon,a.base.NCMessage},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=e,r=this,l=o.search.getQueryInfo("SearchArea");l.pageInfo=e.table.getTablePageInfo("role"),0!=n?l.pageInfo.pageIndex=0:l.pageInfo.pagepks=t;l.pageInfo.pageIndex+="",l.pageInfo.pageSize+="";var i={pageid:"1012030501",role_type:1,filter:l};(0,a.ajax)({url:"/nccloud/rabc/role/list.do",data:i,success:function(e){e.success&&(null!=e.data?(0!=n&&(0,a.toast)({content:r.state.inlt&&r.state.inlt.get("0016",{total:e.data.role.allpks.length}),color:"success"}),o.table.setAllTableData("role",e.data.role)):(0!=n&&(0,a.toast)({content:r.state.json["0015"],color:"warning"}),o.table.setAllTableData("role",{rows:[]})))},error:function(e){o.table.setAllTableData("role",{rows:[]}),(0,a.toast)({content:e.message,color:"danger"})}})};var a=n(1)},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e;switch(t){case"addRoleByOrg":e.modal.show("modal",{title:this.state.json["0002"],size:"xlg",userControl:!0,content:React.createElement(o.default,{preprops:n,jsonlang:this.state.json,beSureByOrgModal:u.bind(this)}),beSureBtnClick:u.bind(this),cancelBtnClick:c.bind(this)});break;case"addRoleByResp":e.modal.show("modal",{title:this.state.json["0003"],size:"xlg",userControl:!0,content:React.createElement(r.default,{preprops:n,jsonlang:this.state.json,beSureByRespModal:d.bind(this)}),beSureBtnClick:d.bind(this),cancelBtnClick:c.bind(this)});break;case"back":e.pushTo("/list")}};var a=n(1),o=l(n(221)),r=l(n(223));n(225);function l(e){return e&&e.__esModule?e:{default:e}}a.base.NCMessage;var i=void 0,s=void 0;function c(){this.props.modal.close("modal")}function u(e){if(e)i=e;else{var t=this,n=i.beSureByOrgData(),o=[];if(n.roles.map((function(e){return o.push({values:e.data.values}),o})),!o||o.length<=0)return void(0,a.toast)({content:t.state.json["0017"],color:"warning"});var r={Role:{rows:o}},l=[];if(n.orgs.rows.map((function(e){var t={pk_org:{value:e.values.pk_org.value},name:{value:e.values.name.value},code:{value:e.values.code.value}};l.push({values:t})})),!l||l.length<=0)return void(0,a.toast)({content:t.state.json["0018"],color:"warning"});var s={Role:r,Orgs:{pk_org:{rows:l}},isRespCheck:"0"===n.radio.radioValue,isRoleNameCheck:"0"===!n.radio.radioValue};(0,a.ajax)({url:"/nccloud/rbac/batchaddrole/addbypkorg.do",data:s,success:function(e){if(e.success&&null!=e.data){e.data.reportInfo?(0,a.toast)({content:e.data.reportInfo,color:"warning"}):(0,a.toast)({color:"success"}),t.props.modal.close("modal");var n=ReactDOM.findDOMNode(i);ReactDOM.unmountComponentAtNode(n)}},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}})}}function d(e){if(e)s=e;else{var t=this,n=s.beSureByRespData(),o=[];n.orgs.rows.map((function(e){var t={pk_org:{value:e.values.pk_org.value},name:{value:e.values.name.value},code:{value:e.values.code.value}};o.push({values:t})}));var r={pk_org:{rows:o}},l=[];if(n.resps.map((function(e){return l.push({values:e.data.values}),l})),!l||l.length<=0)return void(0,a.toast)({content:t.state.json["0019"],color:"warning"});if(!o||o.length<=0)return void(0,a.toast)({content:t.state.json["0018"],color:"warning"});var i={Responsibility:{rows:l}};(0,a.ajax)({url:"/nccloud/rbac/batchaddrole/addbypkresp.do",data:{pk_org:r,Responsibility:i},success:function(e){if(e.success&&null!=e.data){e.data.reportInfo?(0,a.toast)({content:e.data.reportInfo,color:"warning"}):(0,a.toast)({color:"success"}),t.props.modal.close("modal");var n=ReactDOM.findDOMNode(s);ReactDOM.unmountComponentAtNode(n)}},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}})}}},3:function(e,t){e.exports=n},337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=s(o),l=n(1),i=(s(n(3)),n(338));function s(e){return e&&e.__esModule?e:{default:e}}n(341);var c=l.base.NCTabs,u=(l.base.NCButton,l.base.NCBackBtn,c.NCTabPane),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getData=function(e,t,a){var o=n.props.getUrlParam("id"),r=(n.props.getUrlParam("role_type"),n.props);if(o){var i=null;i=t&&null!=t?[t]:["userrole","FuncPermissionConfig","SubjectOrg"],a.pageIndex+="",a.pageSize+="",(0,l.ajax)({url:"/nccloud/rabc/role/detail.do",data:{pk_role:o,pageid:"10120RCP_card",state:i,pageInfo:a},success:function(e){e.success&&null!=e.data&&(e.data.role&&null!=e.data.role&&r.form.setAllFormValue({role:e.data.role.role}),e.data.userrole&&null!=e.data.userrole&&(e.data.userrole.userrole?r.table.setAllTableData("userrole",e.data.userrole.userrole.userrole):r.table.setAllTableData("userrole",{rows:[]})),e.data.FuncPermissionConfig&&null!=e.data.FuncPermissionConfig&&(e.data.FuncPermissionConfig.FuncPermissionConfig?r.table.setAllTableData("FuncPermissionConfig",e.data.FuncPermissionConfig.FuncPermissionConfig.FuncPermissionConfig):r.table.setAllTableData("FuncPermissionConfig",{rows:[]})),e.data.SubjectOrg&&null!=e.data.SubjectOrg&&(e.data.SubjectOrg.SubjectOrg?r.table.setAllTableData("SubjectOrg",e.data.SubjectOrg.SubjectOrg.SubjectOrg):r.table.setAllTableData("SubjectOrg",{rows:[]})))},error:function(e){(0,l.toast)({content:e.message,color:"danger"})}})}},n.state={fullStatus:"in",page_type:"card",tabvalue:"1",json:{},inlt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1012-10120rcp",domainName:"uap",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){var e=this.props.table.getTablePageInfo("userrole");e.pageIndex=0,this.getData(null,null,e)}},{key:"fullSrceen",value:function(e){this.setState({fullStatus:"in"==e?"out":"in"})}},{key:"changeTabs",value:function(e){this.setState({tabvalue:e})}},{key:"getstate",value:function(){var e=null;switch(this.state.tabvalue){case"1":e="userrole";break;case"2":e="FuncPermissionConfig";break;case"3":e="SubjectOrg"}return e}},{key:"handlePageInfoChange",value:function(e,t,n){var a=e.table.getTablePageInfo(this.getstate());a&&null!=a&&(a.pagepks=n),this.getData(null,this.getstate(),a)}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.button,a=e.modal,o=e.table,s=e.cardPagination,d=e.BillHeadInfo,f=s.createCardPagination,p=t.createForm,b=n.createButtonApp,h=a.createModal,m=o.createSimpleTable,g=d.createBillHeadInfo,v=l.base.NCDiv,y=this;return r.default.createElement("div",{className:"nc-bill-card batchAddRole1"},r.default.createElement("div",{className:"nc-bill-top-area",style:{display:"out"==this.state.fullStatus?"none":"block"}},r.default.createElement(v,{areaCode:v.config.HEADER},r.default.createElement("div",{className:"nc-bill-header-area"},r.default.createElement("div",{className:"header-title-search-area"},g({title:this.state.json["0001"],backBtnClick:function(){y.props.pushTo("/list",{pagecode:"1012030501"})}})),r.default.createElement("div",{className:"header-button-area"},b({area:"main",onButtonClick:i.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")}),"browse"==this.props.getUrlParam("status")&&f({handlePageInfoChange:i.pageInfoClick.bind(this),dataSource:"uap.rbac.batchAddRole.cache"})))),r.default.createElement("div",{className:"nc-bill-form-area"},p("role",{}))),r.default.createElement("div",{className:"nc-bill-bottom-area"},r.default.createElement("div",{className:"nc-bill-table-area",style:{position:"relative"}},r.default.createElement("div",{class:"concent-btn-control"},r.default.createElement("i",{className:"icon iconfont  head-icon icon-zuixiaohua nc-theme-btn-secondary",style:{display:"out"==this.state.fullStatus?"inline-block":"none"},onClick:this.fullSrceen.bind(this,"out")}),r.default.createElement("i",{className:"icon iconfont  head-icon icon-zuidahua nc-theme-btn-secondary",style:{display:"in"==this.state.fullStatus?"inline-block":"none"},onClick:this.fullSrceen.bind(this,"in")})),r.default.createElement(c,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1",onChange:this.changeTabs.bind(this)},r.default.createElement(u,{tab:this.state.json["0012"],key:"1"},m("userrole",{showIndex:!0,handlePageInfoChange:this.handlePageInfoChange.bind(this)})),r.default.createElement(u,{tab:this.state.json["0013"],key:"2"},m("FuncPermissionConfig",{showIndex:!0,handlePageInfoChange:this.handlePageInfoChange.bind(this)})),r.default.createElement(u,{tab:this.state.json["0014"],key:"3"},m("SubjectOrg",{showIndex:!0,handlePageInfoChange:this.handlePageInfoChange.bind(this)}))))),h("modal"))}}]),t}(o.Component);d=(0,l.createPage)({initTemplate:i.initTemplate})(d),t.default=d},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageInfoClick=t.initTemplate=t.buttonClick=void 0;var a=l(n(339)),o=l(n(243)),r=l(n(340));function l(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=o.default,t.initTemplate=a.default,t.pageInfoClick=r.default},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:"10120RCP_card"},(function(t){if(t){if(t.button){var n=t.button;e.button.setButtons(n)}if(t.template){var a=t.template;a.userrole.pagination=!0,a.FuncPermissionConfig.pagination=!0,a.SubjectOrg.pagination=!0,e.meta.setMeta(a)}}}))};var a=n(1);a.base.NCPopconfirm,a.base.NCIcon,a.base.NCMessage},340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this.props.table.getTablePageInfo("userrole");n.pageIndex+="";var o={pk_role:t,pageid:"10120ROLM_card",status:e.getUrlParam("status"),pageInfo:n},r=this;(0,a.ajax)({data:o,url:"/nccloud/rabc/role/detail.do",success:function(e){var t=e.success,n=e.data;t&&null!=n&&(n.role&&null!=n.role&&r.props.form.setAllFormValue({role:n.role.role}),n.userrole&&null!=n.userrole&&(n.userrole.userrole?r.props.table.setAllTableData("userrole",n.userrole.userrole.userrole):r.props.table.setAllTableData("userrole",{rows:[]})),n.FuncPermissionConfig&&null!=n.FuncPermissionConfig&&(n.FuncPermissionConfig.FuncPermissionConfig?r.props.table.setAllTableData("FuncPermissionConfig",n.FuncPermissionConfig.FuncPermissionConfig.FuncPermissionConfig):r.props.table.setAllTableData("FuncPermissionConfig",{rows:[]})),n.SubjectOrg&&null!=n.SubjectOrg&&(n.SubjectOrg.SubjectOrg?r.props.table.setAllTableData("SubjectOrg",n.SubjectOrg.SubjectOrg.SubjectOrg):r.props.table.setAllTableData("SubjectOrg",{rows:[]})))},error:function(e){toast({content:e.message,color:"danger"})}})};var a=n(1)},341:function(e,t,n){var a=n(342);"string"==typeof a&&(a=[[e.i,a,""]]);var o={transform:void 0};n(5)(a,o);a.locals&&(e.exports=a.locals)},342:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".nc-bill-tableTab-area {\n  position: relative;\n}\n.concent-btn-control {\n  position: absolute;\n  z-index: 1;\n  right: 18px;\n  top: 0;\n}\n.concent-btn-control .icon {\n  top: 4px;\n  display: inline-block;\n  font-size: 18px;\n  color: #555;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  margin: 0px 0 0 6px;\n  border-radius: 3px;\n  line-height: 30px;\n  padding: 0px 0 0 6px !important;\n  background: #fff;\n  -webkit-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n          box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n  border: 1px solid #d0d0d0;\n  position: relative;\n}\n.batchAddRole1 .nc-bill-bottom-area {\n  height: calc(100% - 124px);\n}\n.batchAddRole1 .nc-tabs,\n.batchAddRole1 .nc-bill-table-area,\n.batchAddRole1 .u-tabs,\n.batchAddRole1 .u-tabs-tabpane,\n.batchAddRole1 .u-tabs-tabpane > div,\n.batchAddRole1 .u-tabs-tabpane > div > div,\n.batchAddRole1 .u-tabs-tabpane > div > div > div,\n.batchAddRole1 .lightapp-component-simpleTable {\n  height: 100%;\n}\n.batchAddRole1 .u-tabs-content {\n  height: calc(100% - 40px);\n}\n.batchAddRole1 .simpleTable-component-wrapper {\n  height: calc(100% - 54px);\n}\n.batchAddRole1 .nc-bill-table-area {\n  height: 100%;\n}\n.batchAddRole1 .nc-bill-table-area .tabs-area {\n  height: 100%;\n}\n.batchAddRole1 .nc-bill-table-area .tabs-area .u-tabs .u-tabs-top .lightapp-component-tabs .u-tabs-simple {\n  height: 100%;\n}\n.batchAddRole1 .nc-bill-table-area .tabs-area .u-tabs .u-tabs-top .lightapp-component-tabs .u-tabs-simple .u-tabs-content .u-tabs-content-no-animated {\n  height: calc(100% - 40px);\n}\n.batchAddRole1 .nc-bill-table-area .tabs-area .u-tabs .u-tabs-top .lightapp-component-tabs .u-tabs-simple .u-tabs-content .u-tabs-content-no-animated .u-tabs-tabpane .u-tabs-tabpane-active {\n  height: 100%;\n}\n.batchAddRole1 .nc-bill-table-area .tabs-area .u-tabs .u-tabs-top .lightapp-component-tabs .u-tabs-simple .u-tabs-content .u-tabs-content-no-animated .u-tabs-tabpane .u-tabs-tabpane-active .lightapp-component-simpleTable {\n  height: 100%;\n}\n",""])},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=n(1),l=n(344);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={page_type:"list",json:{},inlt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1012-10120rcp",domainName:"uap",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"handlePageInfoChange",value:function(e,t,n){(0,l.searchBtnClick)(e,n,!1)}},{key:"onRowDoubleClick",value:function(e,t,n){n.pushTo("/card",{id:e.pk_role.value,status:"browse"})}},{key:"render",value:function(){var e=this.props,t=e.table,n=e.button,a=e.search,o=e.modal,i=e.BillHeadInfo,s=t.createSimpleTable,c=a.NCCreateSearch,u=n.createButtonApp,d=o.createModal,f=i.createBillHeadInfo,p=r.base.NCDiv;return React.createElement("div",{className:"nc-bill-list"},React.createElement(p,{areaCode:p.config.HEADER},React.createElement("div",{className:"nc-bill-header-area"},React.createElement("div",{className:"header-title-search-area"},React.createElement("span",null,f({title:this.state.json["0001"],initShowBackBtn:!1}))),React.createElement("div",{className:"header-button-area"},u({area:"list",onButtonClick:l.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")})))),React.createElement("div",{className:"nc-bill-search-area"},c("SearchArea",{showAdvBtn:!1,clickSearchBtn:l.searchBtnClick.bind(this)})),React.createElement("div",{className:"nc-bill-table-area"},s("role",{showIndex:!0,dataSource:"uap.rbac.batchAddRole.cache",handlePageInfoChange:this.handlePageInfoChange.bind(this),onRowDoubleClick:this.onRowDoubleClick.bind(this)})),d("modal"))}}]),t}(o.Component);t.default=i=(0,r.createPage)({initTemplate:l.initTemplate})(i)},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchBtnClick=t.initTemplate=t.buttonClick=void 0;var a=l(n(243)),o=l(n(345)),r=l(n(225));function l(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=a.default,t.initTemplate=o.default,t.searchBtnClick=r.default},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:"1012030501"},(function(t){if(t){if(t.template){var n=t.template;n.role.pagination=!0,function(e,t){t.role.items.map((function(t,n){"role_code"==t.attrcode&&(t.renderStatus="browse",t.render=function(t,n,a){return React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){e.pushTo("/card",{status:"browse",pagecode:"10120RCP_card",id:n.pk_role.value})}},n.role_code.value)})})),t.SearchArea.items.map((function(e,n){t.SearchArea.items.find((function(e){return"role_group_id"==e.attrcode})).queryCondition=function(){return{group_type:"1"}},t.SearchArea.items.find((function(e){return"pk_org"==e.attrcode})).isMultiSelectedEnabled=!0,t.SearchArea.items.find((function(e){return"pk_org"==e.attrcode})).queryCondition=function(){return{TreeRefActionExt:"nccloud.web.rbac.authres.sqlbuilder.AuthResOrgPermSqlBuilder",DataPowerEnable:!0}}}))}(e,n),e.meta.setMeta(n)}if(t.button){var a=t.button;e.button.setButtons(a)}}}))};var a=n(1);a.base.NCPopconfirm,a.base.NCIcon,a.base.NCMessage},4:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var o=(l=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),r=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}var l;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(a[r]=!0)}for(o=0;o<e.length;o++){var l=e[o];"number"==typeof l[0]&&a[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},5:function(e,t,n){var a,o,r={},l=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=a.apply(this,arguments)),o}),i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),s=null,c=0,u=[],d=n(7);function f(e,t){for(var n=0;n<e.length;n++){var a=e[n],o=r[a.id];if(o){o.refs++;for(var l=0;l<o.parts.length;l++)o.parts[l](a.parts[l]);for(;l<a.parts.length;l++)o.parts.push(v(a.parts[l],t))}else{var i=[];for(l=0;l<a.parts.length;l++)i.push(v(a.parts[l],t));r[a.id]={id:a.id,refs:1,parts:i}}}}function p(e,t){for(var n=[],a={},o=0;o<e.length;o++){var r=e[o],l=t.base?r[0]+t.base:r[0],i={css:r[1],media:r[2],sourceMap:r[3]};a[l]?a[l].parts.push(i):n.push(a[l]={id:l,parts:[i]})}return n}function b(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=u[u.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),b(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,a,o,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var l=c++;n=s||(s=m(t)),a=j.bind(null,n,l,!1),o=j.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),b(e,t),t}(t),a=R.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),a=_.bind(null,n),o=function(){h(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var l=n[o];(i=r[l.id]).refs--,a.push(i)}e&&f(p(e,t),t);for(o=0;o<a.length;o++){var i;if(0===(i=a[o]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete r[i.id]}}}};var y,C=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function j(e,t,n,a){var o=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=C(t,o);else{var r=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(r,l[t]):e.appendChild(r)}}function _(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function R(e,t,n){var a=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(a=d(a)),o&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var l=new Blob([a],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(l),i&&URL.revokeObjectURL(i)}},585:function(e,t,n){"use strict";var a,o,r,l=n(1),i=n(586),s=(a=i)&&a.__esModule?a:{default:a};o=s.default,r="app",(0,l.RenderRouter)(o,r)},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(1),r=n(343),l=(a=r)&&a.__esModule?a:{default:a};var i=(0,o.asyncComponent)((function(){return Promise.resolve().then(n.t.bind(null,337,7))})),s=[{path:"/",component:l.default,exact:!0},{path:"/list",component:l.default},{path:"/card",component:i}];t.default=s},7:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,a=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}})}));
//# sourceMappingURL=index.3a8d23ea.js.map