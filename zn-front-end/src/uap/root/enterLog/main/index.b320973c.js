/*! @ncctag {"date":"2020-5-11 23:43:24"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["react","react-dom","nc-lightapp-front"],t):"object"==typeof exports?exports["uap/root/enterLog/main/index"]=t(require("react"),require("react-dom"),require("nc-lightapp-front")):e["uap/root/enterLog/main/index"]=t(e.React,e.ReactDOM,e["nc-lightapp-front"])}(window,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=126)}([function(t,n){t.exports=e},,,,,,,,,function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var o=(r=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),i=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var r;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(a[i]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&a[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},function(e,t,n){var a,o,i={},r=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=a.apply(this,arguments)),o}),l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),s=null,p=0,d=[],c=n(15);function u(e,t){for(var n=0;n<e.length;n++){var a=e[n],o=i[a.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](a.parts[r]);for(;r<a.parts.length;r++)o.parts.push(v(a.parts[r],t))}else{var l=[];for(r=0;r<a.parts.length;r++)l.push(v(a.parts[r],t));i[a.id]={id:a.id,refs:1,parts:l}}}}function f(e,t){for(var n=[],a={},o=0;o<e.length;o++){var i=e[o],r=t.base?i[0]+t.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};a[r]?a[r].parts.push(l):n.push(a[r]={id:r,parts:[l]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=d[d.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,a,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var r=p++;n=s||(s=h(t)),a=x.bind(null,n,r,!1),o=x.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),a=S.bind(null,n,t),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),a=_.bind(null,n),o=function(){g(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return u(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var r=n[o];(l=i[r.id]).refs--,a.push(l)}e&&u(f(e,t),t);for(o=0;o<a.length;o++){var l;if(0===(l=a[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete i[l.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,a){var o=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function _(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var a=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(a=c(a)),o&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([a],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,a=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:a+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gerRequestVO=t.isWindowSystem=t.findCurrPrinterNameObjById=t.initTempalteIdInfo=t.initFormVal=t.modifyMeta=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(10),i=o.viewModel.getGlobalStorage;function r(e){return!Object.keys(e).length}function l(e){return!e||!Object.keys(e).length}var s=function(e){var t=[];return e.nccloudPrinterList.length?(e.nccloudPrinterList.forEach((function(e){t.push(a({},e,{display:e.printerName,value:e.printerId}))})),t):t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Array"!==Object.prototype.toString.call(e).slice(8,-1)||!e.length};function d(e,t){var n=this.state.responseAllData.currentNCCloudPrinter,a=void 0===n?{}:n;if(!t&&r(a)||!t&&!a.printerName)return e[0];if(!t&&!r(a))return function(e,t){var n={};return p(e)?n:n=e.find((function(e){return e.printerName==t.printerName}))}(e,a);if(t){var o=e.find((function(e){return t===e.printerId}));return!o||r(o)?e[0]:o}}function c(e,t){return d.call(this,e,t)}function u(e,t){var n=[];return e.nccloudPaperResourceList&&e.nccloudPaperResourceList.length?(e.nccloudPaperResourceList.forEach((function(e){!n.some((function(t){return t.display==e.paperSourceName}))&&n.push({display:e.paperSourceName,value:e.paperSourceId})})),n):n}function f(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=[];return e.paperList&&e.paperList.length?(e.paperList.forEach((function(e){t.push(a({},e,{display:e.paperName,value:e.paperId}))})),t):t}function m(e){var t=this.state.responseAllData,n=(void 0===t?{}:t).currentNccloudPaper,a=void 0===n?{}:n,o={};return r(a)?e.paperList[0]:(o=e.paperList.find((function(e){return e.paperName.trim()==a.paperName.trim()})))?o:(o=e.paperList.find((function(e){return e.paperName.trim().includes("自定义纸张")||e.paperId.trim().includes("defined")})),o=Object.assign({},o,a))}var g=function(e){var t=[];return p(e.nccloudTemplateInfoList)?t:(e.nccloudTemplateInfoList.forEach((function(e){t.push({display:e.templateName,value:e.templateId})})),t)};function h(){var e={},t=this.props.form.getAllFormValue("printRange").rows[0].values;for(var n in t)e[n]=t[n].value;return e.doubleside=0!=e.doubleside,e.isDuplex=1!=e.doubleside,e}function y(){var e={},t=this.props.form.getAllFormValue("printMachine").rows[0].values;for(var n in t)e[n]=t[n].value;return e}function v(){var e={},t=this.props.form.getAllFormValue("printStyle").rows[0].values;for(var n in t)e[n]=t[n].value;return e}t.modifyMeta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.responseAllData,n=this.props.meta.getMeta(),a=s.call(this,t);if(this.printerVO=c.call(this,t.nccloudPrinterList,e),a){var o=u.call(this,this.printerVO,e),i=f.call(this,this.printerVO,e),r=g.call(this,t);n.printTemplate.items.map((function(e){"templateInfoList"===e.attrcode&&(e.options=r)})),n.printMachine.items.map((function(e){"PrinterList"===e.attrcode&&(e.options=a),"paperResourceList"===e.attrcode&&(e.options=o)})),n.printStyle.items.map((function(e){"paperList"===e.attrcode&&(e.options=i)})),this.props.meta.setMeta(n)}else toast({content:this.state.json.index_067})},t.initFormVal=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=this.state.configParams,n={};if(console.log({ais:JSON.parse(i("localStorage",t.asid))}),this.state.asid&&i("localStorage",t.asid)){var a=JSON.parse(i("localStorage",t.asid)).toEndInfo;n=JSON.parse(a.ncclouPrintSetting)}var o=this.state.json.index_027,r=0;!l(n)&&n.doubleside&&(n.isDuplex?n.isDuplex&&(o=this.state.json.index_029,r=2):(o=this.state.json.index_028,r=1));var s={rows:[{values:{pageRangeType:{display:l(n)?this.state.json.index_000:n.pageRangeType.display,value:l(n)?0:n.pageRangeType},pageFrom:{value:l(n)?1:n.pageFrom},pageTo:{value:l(n)?1:n.pageTo},pageWholeType:{display:l(n)||0==n.pageWholeType?this.state.json.index_020:1==n.pageWholeType?this.state.json.index_021:this.state.json.index_022,value:l(n)?0:n.pageWholeType},copies:{value:l(n)?1:n.copies||1},collated:{value:!l(n)&&n.collated},doubleside:{display:o,value:r}}}]};!l(n)&&n.doubleside.value&&this.props.form.setFormItemsDisabled("printRange",{isDuplex:!1}),l(n)||1!=n.pageRangeType.value||this.props.form.setFormItemsVisible("printRange",{pageFrom:!0,pageTo:!0});var p={rows:[{values:{PrinterList:{display:this.printerVO.printerName,value:this.printerVO.printerId},printerStatus:{display:this.printerVO.printerStatus?this.state.json.index_062:this.state.json.index_063,value:this.printerVO.printerStatus},twoSide:{display:this.printerVO.twoSide?this.state.json.index_064:this.state.json.index_065,value:this.printerVO.twoSide},paperResourceList:{display:this.printerVO.nccloudPaperResourceList.length?this.printerVO.nccloudPaperResourceList[0].paperSourceName:"",value:this.printerVO.nccloudPaperResourceList.length?this.printerVO.nccloudPaperResourceList[0].paperSourceId:""}}}]},d=m.call(this,this.printerVO),c=e.nccloudPaperDirect?d.paperHeight:d.paperWidth,u=e.nccloudPaperDirect?d.paperWidth:d.paperHeight;(d.paperName.trim().includes("自定义纸张")||d.paperId.trim().includes("defined"))&&(e.nccloudPaperDirect?(c=d.paperWidth<d.paperHeight?d.paperWidth:d.paperHeight,u=d.paperWidth<d.paperHeight?d.paperHeight:d.paperWidth):(c=d.paperWidth>d.paperHeight?d.paperWidth:d.paperHeight,u=d.paperWidth>d.paperHeight?d.paperHeight:d.paperWidth));var f={rows:[{values:{paperList:{display:d.paperName,value:d.paperId},paperWidth:{value:c},paperHeight:{value:u},nccloudPaperDirect:{display:e.nccloudPaperDirect?this.state.json.index_039:this.state.json.index_038,value:e.nccloudPaperDirect||!1},isMultiColor:{value:!1}}}]};this.props.form.setFormItemsDisabled("printStyle",{paperWidth:this.state.json.index_015!==d.paperName,paperHeight:this.state.json.index_015!==d.paperName}),this.props.form.setAllFormValue({printRange:s}),this.props.form.setAllFormValue({printMachine:p}),this.props.form.setAllFormValue({printStyle:f})},t.initTempalteIdInfo=function(e){var t=this.state.configParams.printTemplateID,n={};if(p(e.nccloudTemplateInfoList))return{display:"",value:""};n=e.nccloudTemplateInfoList[0],t?(n=e.nccloudTemplateInfoList.find((function(e){return e.templateId==t})))&&!p(e.nccloudTemplateInfoList)||(n=e.nccloudTemplateInfoList[0]):e.currentNCCloudTemplateInfo&&Object.keys(e.currentNCCloudTemplateInfo).length&&(n=e.currentNCCloudTemplateInfo),this.props.form.setFormItemsValue("printTemplate",{templateInfoList:{display:n.templateName,value:n.templateId}})},t.findCurrPrinterNameObjById=d,t.isWindowSystem=function(){return navigator.userAgent.toLowerCase().includes("windows")},t.gerRequestVO=function(){console.log(this.props.params);var e=(0,o.deepClone)(this.props.params),t=this.state.nopreview;e.formulaConfig&&delete e.formulaConfig;var n,a,i={},r={},l={},s=v.call(this),p=y.call(this),d=h.call(this);for(var c in p)l[c]=p[c];var u=this.props.form.getFormItemsValue("printMachine","PrinterList");for(var f in l.printerId=u.value,l.printerName=u.display,l.PrinterList&&delete l.PrinterList,s)r[f]=s[f];var m=this.props.form.getFormItemsValue("printStyle","paperList");for(var g in r.paperList&&delete r.paperList,r.paperName=m.display,r.paperId=m.value,i.nccloudPaperDirect=r.nccloudPaperDirect,d)i[g]=d[g];i.doubleside=0!=i.doubleside,i.isDuplex=1!=i.doubleside,i.isMultiColor=r.isMultiColor,delete r.isMultiColor;var b=this.props.form.getFormItemsValue("printMachine","paperResourceList");n={paperSourceId:b.value||"",paperSourceName:b.display||""};var w=this.props.form.getFormItemsValue("printTemplate","templateInfoList");return a={templateId:w.value||"",templateName:w.display||""},i=Object.assign({},i,{currentNccloudPaper:r,currentNCCloudPaperResource:n,currentNCCloudPrinter:l,currentNCCloudTemplateInfo:a,nopreview:t}),console.log({requestVO:Object.assign({},e,{ncclouPrintSetting:i})}),Object.assign({},e,{printTemplateID:a.templateId||null,ncclouPrintSetting:JSON.stringify(i),printSetting:JSON.stringify(i),nopreview:t})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4],r=function(i,r){r?s(e,t,n,a,o,i):console.log("未加载到多语资源")};(0,i.getMultiLang)({moduleId:"contains_printOnClient",callback:r})};l(n(0)),l(n(9));var o=l(n(77)),i=n(10),r=n(29);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,o,r,l){var s=n.ncclouPrintSetting;s&&s.printTemplateID?p(e,t,a({},n,{printTemplateID:o?s.printTemplateID:n.printTemplateID,printSetting:JSON.stringify(s)}),r,l):o?function(e,t,n,o,r){var l=null;(0,i.ajax)({method:"post",url:"/nccloud/platform/print/queryTemplates.do",data:n,success:function(s){var d=s.success,c=s.data;if(d){if(!c||!c.length)return(0,i.toast)({color:"warning",content:r.index_048});l=c[0].m_ctemplateid?c[0].m_ctemplateid:null,p(e,t,a({},n,{printTemplateID:l}),o,r)}}})}(e,t,n,r,l):p(e,t,n,r,l)};function p(e,t,n,i,l){var s=(0,r.isWindowSystem)()?"1":"2";n.sysType&&(s=n.sysType),(0,o.default)({newProps:e,params:a({},n,{realData:n.realData||!1,download:"preview",sysType:s}),url:t,enctype:2},i,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=s(n(9)),i=n(10),r=s(n(137)),l=s(n(78));function s(e){return e&&e.__esModule?e:{default:e}}var p,d,c=i.base.NCLoading,u=window.document.createElement("div");function f(e){o.default.render(React.createElement(c,{show:!0,fullScreen:!0,container:e}),e)}function m(e){e.className="",o.default.unmountComponentAtNode(e),e.parentElement&&e.parentElement.removeChild(e)}window.document.body.appendChild(u),u.className="nc-loading-hidden",t.default=(p=regeneratorRuntime.mark((function e(t){var n,s,p,d,c,g,h,y,v,b,w,x,_,S,k=t.newProps,P=t.params,L=t.url,O=t.enctype,C=t.hasModal,I=void 0!==C&&C,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},j=arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.hadPlugin){e.next=10;break}return f(u),e.next=4,(0,l.default)(k,L,{});case 4:if("error"!==e.sent){e.next=9;break}return(0,i.toast)({color:"error",content:j.index_052}),m(u),e.abrupt("return");case 9:m(u);case 10:for(S in I||(n=document.body,(s=document.createElement("section")).classList.add("form-preview-print-contain"),n.appendChild(s),o.default.render(React.createElement(r.default,a({},k,{params:P,url:L,onEnsureInfoSave:T})),s)),p="",d="",(c=window.parent.location.hash.split("?"))&&c[1]&&(g=c[1].split("&"))&&g instanceof Array&&g.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(p=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(d=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))})),h=(p||null)+"-"+(window.actionName||null),y={sys_busiaction:h,sys_appcode:d,sys_ts:(new Date).getTime()},O=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(O),v=[{target:"printPreviewModal",method:"POST",enctype:O,type:"hidden",action:L||""},document.createElement("form")],b=v[0],w=v[1],Object.assign(w,b),x=a({},P,y,{formulaConfig:null}),_=function(e){if(x[e]instanceof Array)x[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,w.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=x[e],w.appendChild(t)}},x)_(S);return document.body.appendChild(w),w.submit(),document.body.removeChild(w),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})),d=function(){var e=p.apply(this,arguments);return new Promise((function(t,n){return function a(o,i){try{var r=e[o](i),l=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e){return d.apply(this,arguments)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var i=null;return new Promise((function(r,l){if(null!=i&&1==i.readyState)(0,a.toast)({color:"warning",content:o.index_043});else if("WebSocket"in window){i=null;var s=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");s.onopen=function(e){console.log("连接成功")},s.onclose=function(e){console.log("关闭连接")},s.onerror=function(a){return e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t}),r("error")},s.onmessage=function(e){console.log("msg",JSON.parse(e.data));var t={};if(e&&(Object.keys(e).length||e.data))return s.close(),t.nccloudPrinterList=JSON.parse(e.data).nccloudPrinterList,r(t)};var p={},d=setInterval((function(){if(s.readyState==WebSocket.OPEN){clearInterval(d),(p=Object.assign({},n,{compalteAddress:t,type:"2",nccloudsessionid:n.nccloudsessionid})).formulaConfig&&delete p.formulaConfig;var e=JSON.stringify(p);s.send(e)}}),1e3)}else(0,a.toast)({color:"warning",content:o.index_046})}))};var a=n(10)},function(e,t,n){(function(e){!function(n,a){"use strict";var o={};n.PubSub=o;var i=n.define;!function(e){var t={},n=-1;function a(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function r(e,n,a,r){var l,s=t[n],p=r?i:o;if(t.hasOwnProperty(n))for(l in s)s.hasOwnProperty(l)&&p(s[l],e,a)}function l(e,n,o,i){var l=function(e,t,n){return function(){var a=String(e),o=a.lastIndexOf(".");for(r(e,e,t,n);-1!==o;)o=(a=a.substr(0,o)).lastIndexOf("."),r(e,a,t,n)}}(e="symbol"==typeof e?e.toString():e,n,i);return!!function(e){for(var n=String(e),o=Boolean(t.hasOwnProperty(n)&&a(t[n])),i=n.lastIndexOf(".");!o&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),o=Boolean(t.hasOwnProperty(n)&&a(t[n]));return o}(e)&&(!0===o?l():setTimeout(l,0),!0)}e.publish=function(t,n){return l(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return l(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,a){if("function"!=typeof a)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=a,o},e.subscribeOnce=function(t,n){var a=e.subscribe(t,(function(){e.unsubscribe(a),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var a,o,i,r="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),l=!r&&"string"==typeof n,s="function"==typeof n,p=!1;if(!r){for(a in t)if(t.hasOwnProperty(a)){if(o=t[a],l&&o[n]){delete o[n],p=n;break}if(s)for(i in o)o.hasOwnProperty(i)&&o[i]===n&&(delete o[i],p=!0)}return p}e.clearSubscriptions(n)}}(o),"function"==typeof i&&i.amd?i((function(){return o})):(void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o)}("object"==typeof window&&window||this)}).call(this,n(143)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=f(o),r=f(n(9)),l=n(10),s=n(127),p=f(n(136)),d=f(n(146)),c=f(n(147));n(148);var u=f(n(79));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=l.base.NCTabs,h=(l.base.NCButton,l.base.NCInput,l.base.NCSelect),y=g.NCTabPane,v=(h.NCOption,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.close=function(){n.setState({showModal:!1})},n.onButtonClick=function(e){},n.modalOnClick=function(e){var t=n;if("exportModel"==e){var a=t.props.form.getAllFormValue("exportModalForm"),o=a.rows[0].values.exportDate.value,i=a.rows[0].values.filePath.value,r=a.rows[0].values.fileNamePri.value;if(null==a||null==o||null==i||""==i||""==o)(0,l.toast)({content:t.state.json["1880000025-000042"],color:"warning"});else{var s=i.split("\\\\");if(s.forEach((function(e){if(0==e.length)return!0})),/^[^[^/:,;*?\"<>|]+$/.test(i)&&0!=s.length)if(/^[^\\\\/:,;*?\"<>|]+$/.test(r)){var p={exportDate:o,filePath:i,fileNamePri:r};(0,l.ajax)({url:"/nccloud/riart/rootenterLog/enterLogExportAction.do",data:p,success:function(e){var n=e.success,a=e.data;n&&(null==a||null==a.message?((0,l.toast)({color:"success"}),t.props.modal.close("userDetail")):(0,l.toast)({content:null==a?t.state.json["1880000025-000044"]:a.message,color:"danger"}))},error:function(e){null!=e&&null!=e&&(/Read too much data from database for one time/.test(e.message)?(0,l.toast)({content:t.state.json["1880000025-000048"],color:"danger"}):(0,l.toast)({content:e.message,color:"danger"}))}})}else(0,l.toast)({content:t.state.json["1880000025-000047"],color:"warning"});else(0,l.toast)({content:t.state.json["1880000025-000058"],color:"warning"})}}else if("importModel"==e){var d=t.props.form.getAllFormValue("importModalForm"),c=d.rows[0].values.exportPath.value;d.rows[0].values.fileName.value;if(null==c||null==c)(0,l.toast)({content:t.state.json["1880000025-000049"],color:"warning"});else{var u=!1;if(null!=c&&null!=c&&0!=c.trim().length||(u=!0),!/^[^[^:,;*?"<>|]+$/.test(c)||u)(0,l.toast)({content:t.state.json["1880000025-000049"],color:"warning"});else{var f={exportPath:d.rows[0].values.exportPath.value,fileName:d.rows[0].values.fileName.value};(0,l.ajax)({url:"/nccloud/riart/rootenterLog/enterLogImportAction.do",data:f,success:function(e){var n=e.success,a=e.data;n&&(null==a||null==a.message?((0,l.toast)({color:"success"}),t.props.modal.close("userDetail")):(0,l.toast)({content:null==a?t.state.json["1880000025-000046"]:a.message,color:"danger"}),t.setState({loadData:!1}))},error:function(e){null!=e&&null!=e&&(0,l.toast)({content:e.message,color:"danger"})}})}}}else"logTableModal"==e&&t.props.modal.close("userDetail")},n.onModalChangeTabs=function(e){var t=n;t.props.renderItem("table","importLog",null,null),t.setState({modalTasChange:!0,modalKey:e})},n.showData=function(){var e=n,t={importLog:e.state.modalTasChange?e.props.table.getTablePageInfo("importLog"):{pageIndex:"0",pageSize:"10"},exportLog:e.props.table.getTablePageInfo("exportLog")};(0,l.ajax)({url:"/nccloud/riart/rootenterLog/enterLogUnloadingLogTable.do",data:t,success:function(t){var n=t.success;t.data;n&&(t&&t.data.Importings?e.props.table.setAllTableData("importLog",t.data.Importings.gridImportings):e.props.table.setAllTableData("importLog",{rows:[]}),t.data&&t.data.Unloadings?e.props.table.setAllTableData("exportLog",t.data.Unloadings.gridUnloadings):e.props.table.setAllTableData("exportLog",{rows:[]}))}})},n.handlePageInfoChangeModel=function(e,t,a,o){n.showData()},n.onChangeTabs=function(e){n.setState({tabsKey:e},(function(){document.getElementById("logingLog").style.display="none",document.getElementById("operatelog").style.display="none",document.getElementById(e).style.display="block"}))},n.handlePageInfoChangeFn=function(e,t,a,o){var i=n;(0,s.clickSearchBtn)(i,a,!1)},n.logTableModalContent=function(){var e=n,t=e.props.table.createSimpleTable;return i.default.createElement("div",null,i.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:n.state.modalKey,onChange:n.onModalChangeTabs},i.default.createElement(y,{tab:e.state.json["1880000025-000029"],key:"exportLog"},t("exportLog",{showIndex:!0,handlePageInfoChange:e.handlePageInfoChangeModel})),i.default.createElement(y,{tab:e.state.json["1880000025-000030"],key:"importLog"},t("importLog",{showIndex:!0,handlePageInfoChange:e.handlePageInfoChangeModel}))))},n.downLoadExe=function(){var e="";e="logingLog"==n.state.tabsKey?"enterlog_ncc":"enternode_ncc";var t=n.props.table.getPks(n.state.tabsKey);(0,l.formDownload)({params:{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:e,oids:t,download:"down"},url:"/nccloud/riart/rootbuslog/enterLogPrintAction.do",enctype:2})},n.printerView=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,p.default)(n.props,"/nccloud/riart/rootbuslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!0)},n.printerPreview=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,d.default)(n.props,"/nccloud/riart/rootbuslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!1)},n.onSearchAreaAfterClick=function(e,t){var a=n,o=a.props.meta.getMeta();if("dsname"==e){if(!t)return a.props.search.setDisabledByField("searchArea","pk_psndoc",!0),a.props.search.setDisabledByField("searchArea","pk_user",!0),a.props.search.setDisabledByField("searchArea","logdate",!0),a.props.search.setDisabledByField("searchArea","ip",!0),void a.props.search.setDisabledByField("searchArea","logoffdate",!0);a.props.search.setDisabledByField("searchArea","pk_psndoc",!1),a.props.search.setDisabledByField("searchArea","pk_user",!1),a.props.search.setDisabledByField("searchArea","logdate",!1),a.props.search.setDisabledByField("searchArea","ip",!1),a.props.search.setDisabledByField("searchArea","logoffdate",!1),"dsname"==e&&(o.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(o.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).queryCondition=function(){return{dsname:t}}),o.searchArea.items.find((function(e){return"pk_user"==e.attrcode}))&&(o.searchArea.items.find((function(e){return"pk_user"==e.attrcode})).queryCondition=function(){return{dsname:t}})),a.props.meta.setMeta(o)}},n.onSearchNodeAfterClick=function(e,t){var a=n,o=a.props.meta.getMeta();if(!t)return a.props.search.setDisabledByField("searchNode","funccode",!0),a.props.search.setDisabledByField("searchNode","buttonname",!0),a.props.search.setDisabledByField("searchNode","pk_user",!0),void a.props.search.setDisabledByField("searchNode","logdate",!0);a.props.search.setDisabledByField("searchNode","funccode",!1),a.props.search.setDisabledByField("searchNode","buttonname",!1),a.props.search.setDisabledByField("searchNode","pk_user",!1),a.props.search.setDisabledByField("searchNode","logdate",!1),"dsname"==e&&(o.searchNode.items.find((function(e){return"funccode"==e.attrcode}))&&(o.searchNode.items.find((function(e){return"funccode"==e.attrcode})).queryCondition=function(){return{dsname:t}}),o.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(o.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode})).queryCondition=function(){return{dsname:t}}),o.searchNode.items.find((function(e){return"pk_user"==e.attrcode}))&&(o.searchNode.items.find((function(e){return"pk_user"==e.attrcode})).queryCondition=function(){return{dsname:t}})),a.props.meta.setMeta(o)},n.printOnClient=function(){n.state.rowFrom;var e=n.props.table.getPks(n.state.tabsKey);(0,c.default)(n.props,"/nccloud/riart/rootbuslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG",nodekey:"enterlog_ncc",oids:e,download:"fileStream",type:"2"},!1)};var a=n.props;a.search,a.button,a.form;return n.state={msgLog:"",showModal:!1,buttonType:"exportModal",tabsKey:"logingLog",modalKey:"exportLog",modalTasChange:!1,json:{},inlt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"002210220SLOG",domainName:"uap",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"creatModalContent",value:function(e){var t=this.props.table.createSimpleTable,n=this.props.form.createForm;return"exportModel"==e?i.default.createElement("div",null,n("exportModalForm",{}),i.default.createElement("p",null,this.state.json["1880000025-000031"])):"importModel"==e?i.default.createElement("div",null,n("importModalForm",{}),i.default.createElement("p",null,this.state.json["1880000025-000037"])):"logTableModal"==e?i.default.createElement("div",null,i.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},i.default.createElement(y,{tab:this.state.json["1880000025-000029"],key:"1"},t("exportLog",{})),i.default.createElement(y,{tab:this.state.json["1880000025-000030"],key:"2"},t("importLog",{})))):"autoExportLog"==e?i.default.createElement("div",null,n("autoExportModal",{}),i.default.createElement("p",null,this.state.json["1880000025-000057"],",",this.state.json["1880000025-000058"],"+ncccloudfs_tmp+NCCUnloadFileTemp+",this.state.json["1880000025-000059"],"+",this.state.json["1880000025-000060"],"+",this.state.json["1880000025-000061"],"+",this.state.json["1880000025-000062"])):void 0}},{key:"changePaper",value:function(e,t){this.setState(m({},e,t)),u.default.publish("modifySfPaper",m({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.search,a=t.form,o=t.button,r=t.modal.createModal,p=n.NCCreateSearch,d=(a.createForm,o.createButton,this.props.table.createSimpleTable),c=l.base.NCDiv,u=this.props.BillHeadInfo.createBillHeadInfo;return i.default.createElement("div",{className:"nc-bill-list"},r("code-config"),r("printService",{className:"print-service"}),i.default.createElement(c,{areaCode:c.config.HEADER},i.default.createElement("div",{className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-title-search-area"},i.default.createElement("span",null,u({title:""+this.state.json["1880000025-000059"],initShowBackBtn:!1}))),i.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:"header",onButtonClick:s.headerButtonOnClick.bind(this),popContainer:document.querySelector(".header-button-area")})))),i.default.createElement("div",{className:"nc-bill-search-area"},i.default.createElement("div",{id:"logingLog"},p("searchArea",{clickSearchBtn:s.clickSearchBtn.bind(this),showAdvBtn:!1,onAfterEvent:this.onSearchAreaAfterClick.bind(this)})),i.default.createElement("div",{id:"operatelog",style:{display:"none"}},p("searchNode",{clickSearchBtn:s.clickSearchBtn.bind(this),showAdvBtn:!1,onAfterEvent:this.onSearchNodeAfterClick.bind(this)}))),i.default.createElement("div",{className:"tab-definInfo-area"},i.default.createElement(g,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:this.state.tabsKey,onChange:this.onChangeTabs},i.default.createElement(y,{tab:this.state.json["1880000025-000060"],key:"logingLog"},d("logingLog",{cancelCustomRightMenu:!0,showIndex:!0,handlePageInfoChange:this.handlePageInfoChangeFn})),i.default.createElement(y,{tab:this.state.json["1880000025-000061"],key:"operatelog"},d("operatelog",{cancelCustomRightMenu:!0,showIndex:!0,handlePageInfoChange:this.handlePageInfoChangeFn})))),r("userDetail",{title:this.state.json["1880000025-000055"],content:"",beSureBtnClick:function(){e.props.modal.close("userDetail")},cancelBtnClick:function(){e.props.modal.close("userDetail")},closeModalEve:function(){e.props.modal.close("userDetail")},userControl:!1,size:"lg",noFooter:!1,rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000006"]}),r("logTableModal",{title:this.state.json["1880000025-000040"],content:this.logTableModalContent(),beSureBtnClick:function(){e.props.modal.close("logTableModal")},cancelBtnClick:function(){e.props.modal.close("logTableModal")},closeModalEve:function(){e.props.modal.close("logTableModal")},userControl:!1,size:"xlg",noFooter:!1,className:"enterLog",rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000006"]}),this.props.ncmodal.createModal("realUserDetail",{color:"info",title:this.state.json["1880000025-000055"],content:this.state.json["1880000025-000056"],beSureBtnClick:function(){e.props.modal.close("realUserDetail")},cancelBtnClick:function(){e.props.modal.close("realUserDetail")},closeModalEve:function(){e.props.modal.close("realUserDetail")},userControl:!1,size:"lg",noFooter:!1,rightBtnName:this.state.json["1880000025-000005"],leftBtnName:this.state.json["1880000025-000057"]}))}}]),t}(o.Component));v=(0,l.createPage)({initTemplate:s.initTemplate})(v),r.default.render(i.default.createElement(v,null),document.getElementById("app"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerButtonOnClick=t.clickSearchBtn=t.initTemplate=void 0;var a=n(128),o=n(133);t.initTemplate=a.initTemplate,t.clickSearchBtn=o.clickSearchBtn,t.headerButtonOnClick=o.headerButtonOnClick},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var a,o=n(129),i=(a=o)&&a.__esModule?a:{default:a};t.initTemplate=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"002210220SLOG",domainName:"uap",callback:function(t,n){var i=(0,o.default)(t);(0,a.ajax)({data:null,async:!1,url:"/nccloud/baseapp/root/qrybusicenter.do",success:function(n){var a=i.template.searchArea.items,o=i.template.searchNode.items;n.data.forEach((function(e,t,n){var r={};r.display=e.name,r.value=e.dataSourceName,a.forEach((function(e,t,n){"dsname"==e.attrcode&&i.template.searchArea.items[t].options.push(r)})),o.forEach((function(e,t,n){"dsname"==e.attrcode&&i.template.searchNode.items[t].options.push(r)}))})),function(e,t,n){if(e&&e.button){var a=e.button;t.button.setButtons(a),t.button.setPopContent("delete","确认要删除该信息吗？")}var o=e.template;e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).refcode="uapbd/refer/psninfo/PsndocTreeGridRef/index.js"),o.exportLog={moduletype:"table",pagination:!0,items:[{label:n["1880000025-000010"],attrcode:"ip",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000011"],attrcode:"pk_user",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000012"],attrcode:"operationresult",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000013"],attrcode:"operationdate",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000014"],attrcode:"unloadingtimepoint",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000015"],attrcode:"pk_psndoc",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000016"],attrcode:"operationfilename",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000017"],attrcode:"errorReason",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0}]},o.importLog={moduletype:"table",pagination:!0,items:[{label:n["1880000025-000010"],attrcode:"ip",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000011"],attrcode:"pk_user",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000012"],attrcode:"operationresult",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000013"],attrcode:"operationdate",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000018"],attrcode:"unloadingtimepoint",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000015"],attrcode:"pk_psndoc",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000019"],attrcode:"operationfilename",itemtype:"input",initialvalue:{value:"",display:null},visible:!0},{label:n["1880000025-000020"],attrcode:"errorReason",itemtype:"refer",initialvalue:{value:"",display:null},visible:!0}]},o.importModalForm={moduletype:"form",status:"edit",items:[{visible:!0,itemtype:"input",required:!0,attrcode:"exportPath",label:n["1880000025-000021"],col:6,width:80,leftspace:0},{visible:!0,attrcode:"fileName",label:n["1880000025-000022"],itemtype:"input",col:6,width:80,leftspace:0}]},o.exportModalForm={moduletype:"form",status:"edit",items:[{visible:!0,itemtype:"datepicker",required:!0,attrcode:"exportDate",label:n["1880000025-000023"],col:6,width:80,leftspace:0},{visible:!0,itemtype:"input",required:!0,attrcode:"filePath",label:n["1880000025-000021"],col:6,width:80,leftspace:0},{visible:!0,attrcode:"fileNamePri",label:n["1880000025-000024"],itemtype:"input",col:6,width:80,leftspace:0,required:!1}]},e.template.logingLog.pagination=!0,e.template.operatelog.pagination=!0,null!=e.template.logingLog.items&&e.template.logingLog.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.logingLog.items.find((function(e){return"logdate"==e.attrcode})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.logingLog.items&&e.template.logingLog.items.find((function(e){return"logoffdate"==e.attrcode}))&&(e.template.logingLog.items.find((function(e){return"logoffdate"==e.attrcode})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.operatelog.items&&null!=e.template.operatelog.items.find((function(e){return"datepicker"==e.itemtype}))&&(e.template.operatelog.items.find((function(e){return"datepicker"==e.itemtype})).itemtype="NCTZDatePickClientHourTime"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"funccode"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"funccode"==e.attrcode})).refcode="uap/refer/riart/appRegestTreeRefer/index.js"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"logdate"==e.attrcode})).queryOperateType="between"),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"logdate"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"logdate"==e.attrcode})).queryOperateType="between"),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode})).isShowUnit=!0),null!=e.template.searchNode.items&&e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchNode.items.find((function(e){return"pk_psndoc"==e.attrcode})).unitCondition=function(){return{isMutiGroup:"N"}}),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).isShowUnit=!0),null!=e.template.searchArea.items&&e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode}))&&(e.template.searchArea.items.find((function(e){return"pk_psndoc"==e.attrcode})).unitCondition=function(){return{isMutiGroup:"N"}}),o=function(e,t,n){n["1880000025-000025"];return t}(t,o,n),t.meta.setMeta(o),t.button.setButtonVisible({modalList:!1,logTableModal:!1,importModal:!1,exportModal:!1})}(i,e,t)},error:function(e){}}),n||console.log("未加载到多语资源")}})};var a=n(10),o=(i(n(130)),i(n(131)),i(n(132)));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(10),r=n(0),l=(a=r)&&a.__esModule?a:{default:a};var s=i.base.NCPopconfirm,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={content:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this;return l.default.createElement("div",null,l.default.createElement(s,{trigger:"click",placement:"top",content:e.state.content,onEnter:function(){var t="";null!=e.props.params&&(0,i.ajax)({url:"/nccloud/riart/rootbuslogForm/searchUserInfoAction.do",sysAppcode:"10220SLOG0",data:e.props.params,success:function(n){var a=n.success,o=n.data;a?(t=o,e.setState({content:t})):(0,i.toast)({content:e.state.json["1880000025-000026"],color:"danger"})}})},onClose:function(){}},l.default.createElement("p",null,e.state.json["1880000025-000027"])))}}]),t}(r.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i,r){var l="";(0,a.ajax)({url:"/nccloud/riart/rootbuslogForm/searchUserInfoAction.do",sysAppcode:"10220SLOG0",async:!1,data:i,success:function(e){var t=e.success,n=e.data;t?l=n:(0,a.toast)({content:_this.state.json["1880000025-000026"],color:"danger"})}}),e.modal.show("realUserDetail",{content:o(l)})};var a=n(10);function o(e){return React.createElement("div",{dangerouslySetInnerHTML:i(e)})}function i(e){return{__html:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{template:{code:"10220SLOG_enterlog",name:e["1880000025-000059"],pageid:"0001Z010000000005Q8Q",validateFlag:!1,ts:"2018-10-24 20:17:46",logingLog:{items:[{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"user_name",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000011"],maxlength:"20",onlyLeafCanSelect:!1,position:"1",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",metadataProperty:"uap.psndoc.name",onlyLeafCanSelect:!1,position:"2",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,position:"3",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"ip",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009003"],maxlength:"19",onlyLeafCanSelect:!1,position:"6",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logoffdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009004"],maxlength:"19",onlyLeafCanSelect:!1,position:"7",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"entersystemresult",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009005"],maxlength:"0",onlyLeafCanSelect:!1,position:"8",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"detail",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009006"],maxlength:"50",onlyLeafCanSelect:!1,position:"9",required:!1,scale:"0",visible:!0}],moduletype:"table",pagination:!1,code:"logingLog",name:e["1880000025-000059"],oid:"0001Z010000000005Q8Z",areaVisible:!0,isunfold:!0,isnotmeta:!1,appcode:"10220SLOG",pagecode:"10220SLOG_enterlog",templateCode:"10220SLOG_enterlog",pageid:"0001Z010000000005Q8Q"},searchArea:{items:[{queryOperateType:"=",visible:!0,attrcode:"dsname",label:e["1880000025-0009020"],itemtype:"select",col:3,leftspace:0,rightspace:0,isdrag:!0,required:!0,position:"0",options:[]},{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logdate",containlower:!1,datatype:"33",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-0009003"],maxlength:"19",onlyLeafCanSelect:!1,position:"1",required:!0,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_user",containlower:!1,datatype:"204",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000011"],maxlength:"36",onlyLeafCanSelect:!1,position:"2",refcode:"uap/refer/riart/userAllTableRef/index",required:!1,scale:"0",visible:!0},{queryOperateType:"like",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"ip",containlower:!1,datatype:"1",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logoffdate",containlower:!1,datatype:"33",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-0009004"],maxlength:"19",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0}],moduletype:"search",code:"searchArea",name:e["1880000025-0009010"],oid:"0001Z010000000005Q8R",areaVisible:!0,isunfold:!0,isnotmeta:!1},operatelog:{items:[{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"funcname",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009011"],maxlength:"200",onlyLeafCanSelect:!1,position:"1",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"buttonname",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009012"],maxlength:"50",onlyLeafCanSelect:!1,position:"2",required:!1,scale:"0",visible:!1},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"device",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009001"],maxlength:"50",onlyLeafCanSelect:!1,position:"3",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"ip",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000010"],maxlength:"20",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logintype",containlower:!1,datatype:"203",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"select",label:e["1880000025-0009002"],maxlength:"50",onlyLeafCanSelect:!1,position:"5",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"user_name",containlower:!1,datatype:"1",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-000011"],maxlength:"20",onlyLeafCanSelect:!1,position:"6",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"pk_psndoc",containlower:!1,datatype:"204",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000015"],maxlength:"36",metadataProperty:"uap.psndoc.name",onlyLeafCanSelect:!1,position:"7",refcode:"uapbd/refer/psninfo/PsndocTreeGridRef/index",required:!1,scale:"0",visible:!0},{hyperlinkflag:!1,islock:!1,istotal:!1,attrcode:"logdate",containlower:!1,datatype:"34",disabled:!1,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!0,isnotmeta:!1,isResLabel:!1,isrevise:!1,isShowUnit:!1,itemtype:"datetimepicker",label:e["1880000025-0009013"],maxlength:"19",onlyLeafCanSelect:!1,position:"8",required:!1,scale:"0",visible:!0}],moduletype:"table",pagination:!1,code:"operatelog",name:e["1880000025-0009014"],oid:"0001Z010000000005Q9H",areaVisible:!0,isunfold:!0,isnotmeta:!1,appcode:"10220SLOG",pagecode:"10220SLOG_enterlog",templateCode:"10220SLOG_enterlog",pageid:"0001Z010000000005Q8Q"},searchNode:{items:[{queryOperateType:"=",visible:!0,attrcode:"dsname",label:e["1880000025-0009020"],itemtype:"select",col:3,leftspace:0,rightspace:0,isdrag:!0,required:!0,position:"0",options:[]},{queryOperateType:"between",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"logdate",containlower:!1,datatype:"33",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"datepicker",label:e["1880000025-000013"],maxlength:"19",onlyLeafCanSelect:!1,position:"1",required:!0,scale:"0",visible:!0},{queryOperateType:"=",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"funccode",containlower:!1,datatype:"204",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refcode",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-0009015"],maxlength:"20",onlyLeafCanSelect:!1,position:"2",required:!1,scale:"0",visible:!0},{queryOperateType:"=",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"buttonname",containlower:!1,datatype:"1",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refcode",fieldValued:"refpk",isDataPowerEnable:!1,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"input",label:e["1880000025-0009012"],maxlength:"50",onlyLeafCanSelect:!1,position:"4",required:!1,scale:"0",visible:!0},{queryOperateType:"in",isfixedcondition:!1,isdrag:!0,visibleposition:"0",usefunc:!1,checkStrictly:!1,col:"3",colnum:"1",hyperlinkflag:!1,isnextrow:!1,leftspace:"0",rightspace:"0",rows:"0",attrcode:"pk_user",containlower:!1,datatype:"204",disabled:!0,editAfterFlag:!1,fieldDisplayed:"refname",fieldValued:"refpk",isDataPowerEnable:!1,isMultiSelectedEnabled:!0,isnotmeta:!1,isResLabel:!1,isShowUnit:!1,itemtype:"refer",label:e["1880000025-000011"],maxlength:"36",onlyLeafCanSelect:!1,position:"5",refcode:"uap/refer/riart/userAllTableRef/index",required:!1,scale:"0",visible:!0}],moduletype:"search",code:"searchNode",name:e["1880000025-0009016"],oid:"0001Z010000000005Q99",areaVisible:!0,isunfold:!0,isnotmeta:!1},gridrelation:{logingLog:{srcAreaCode:"logingLog",tabRelation:["logingLog"]},operatelog:{srcAreaCode:"operatelog",tabRelation:["operatelog"]}},containerrelation:{logingLog:{layout:"vertical",tabs:[["logingLog"],["operatelog"]]}}},button:[{id:"0001Z01000000000ZKXO",type:"general_btn",key:"logTableModal",title:e["1880000025-000052"],area:"header",btncolor:"button_secondary",isenable:!0,order:"0",children:[]},{id:"0001Z01000000000ZKVH",type:"dropdown",key:"modalList",title:e["1880000025-000053"],area:"header",btncolor:"button_secondary",isenable:!0,order:"1",children:[{id:"0001Z0100000000040YY",type:"general_btn",key:"model",area:"header",btncolor:"button_secondary",isenable:!0,order:"2",parentCode:"modalList",children:[{id:"0001Z01000000000ZKVJ",type:"general_btn",key:"importModel",title:e["1880000025-000053"],area:"header",btncolor:"button_secondary",isenable:!0,order:"3",parentCode:"model",children:[]},{id:"0001Z01000000000ZKVL",type:"general_btn",key:"exportModel",title:e["1880000025-000054"],area:"header",btncolor:"button_secondary",isenable:!0,order:"4",parentCode:"model",children:[]}]}]},{id:"0001Z01000000000ZKXQ",type:"dropdown",key:"printList",title:e["1880000025-000051"],area:"header",btncolor:"button_secondary",isenable:!0,order:"5",children:[{id:"0001Z0100000000040YV",type:"general_btn",key:"print",area:"header",btncolor:"button_secondary",isenable:!0,order:"6",parentCode:"printList",children:[{id:"0001Z01000000000ZKXS",type:"general_btn",key:"printMain",title:e["1880000025-000051"],area:"header",btncolor:"button_secondary",isenable:!0,order:"7",parentCode:"print",children:[]}]}]}],context:{pk_org:"GLOBLE00000000000000",org_Name:e["1880000025-0009019"],pk_org_v:"GLOBLE00000000000000",dataSource:"design",currentLangSeq:"1"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerButtonOnClick=t.clickSearchBtn=void 0;var a=i(n(134)),o=i(n(135));function i(e){return e&&e.__esModule?e:{default:e}}t.clickSearchBtn=a.default,t.headerButtonOnClick=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=this;null==this&&(o=e);var i="logingLog"==o.state.tabsKey?"searchArea":"searchNode";if(0==o.props.search.getAllSearchData(i));else{var r=o.props.search.getQueryInfo(i),l=r.querycondition.conditions.find((function(e){return"logdate"==e.field})).value.firstvalue.split(" ")[0],s=r.querycondition.conditions.find((function(e){return"logdate"==e.field})).value.secondvalue.split(" ")[0],p=new Date(l),d=new Date(s);parseInt(Math.abs(p-d)/1e3/60/60/24);"logingLog"==o.state.tabsKey?(r.pageInfo=o.props.table.getTablePageInfo("logingLog"),0!=n?r.pageInfo.pageIndex=0:r.pageInfo.pagepks=t,(0,a.ajax)({data:r,url:"/nccloud/riart/rootenterLog/enterLogTableAction.do",sysAppcode:"10220SLOG0",success:function(e){null==e||null==e.data||null==e.data.logingLog||0==e.data.logingLog.rows.length?(o.props.table.setAllTableData("logingLog",{rows:[]}),n&&(0,a.toast)({content:o.state.json["1880000025-000001"],color:"warning"})):(o.props.table.setAllTableData("logingLog",e.data.logingLog),n&&(0,a.toast)({content:o.state.json["1880000025-000002"]+e.data.logingLog.allpks.length+o.state.json["1880000025-000003"],color:"success"}))},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}})):(r.pageInfo=o.props.table.getTablePageInfo("operatelog"),0!=n?r.pageInfo.pageIndex=0:r.pageInfo.pagepks=t,(0,a.ajax)({data:r,url:"/nccloud/riart/rootnodelog/nodeLogTableAction.do",sysAppcode:"10220SLOG0",success:function(e){null==e.data||null==e.data.operatelog||null==e.data.operatelog||0==e.data.operatelog.rows.length?(o.props.table.setAllTableData("operatelog",{rows:[]}),n&&(0,a.toast)({content:o.state.json["1880000025-000001"],color:"warning"})):(o.props.table.setAllTableData("operatelog",e.data.operatelog),n&&(0,a.toast)({content:o.state.json["1880000025-000002"]+e.data.operatelog.allpks.length+o.state.json["1880000025-000003"],color:"success"}))},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}}))}};var a=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this;switch(t){case"logTableModal":this.setState({showModal:!0,buttonType:"logTableModal"}),e.modal.show("logTableModal",{title:n.state.json["1880000025-000040"],noFooter:!0},n.showData.bind(n));break;case"importModel":this.setState({showModal:!0,buttonType:"importModal"}),e.modal.show("userDetail",{title:n.state.json["1880000025-000004"],content:n.creatModalContent(t),beSureBtnClick:function(){n.modalOnClick(t)},cancelBtnClick:function(){n.props.modal.close("userDetail")},closeModalEve:function(){n.props.modal.close("userDetail")},userControl:!1,size:"xlg",noFooter:!1,rightBtnName:n.state.json["1880000025-000005"],leftBtnName:n.state.json["1880000025-000006"]});break;case"exportModel":this.setState({showModal:!0,buttonType:"exportModal"}),e.modal.show("userDetail",{title:n.state.json["1880000025-000007"],content:n.creatModalContent(t),beSureBtnClick:function(){n.modalOnClick(t)},cancelBtnClick:function(){n.props.modal.close("userDetail")},closeModalEve:function(){n.props.modal.close("userDetail")},userControl:!1,size:"xlg",noFooter:!1,rightBtnName:n.state.json["1880000025-000005"],leftBtnName:n.state.json["1880000025-000006"]});break;case"printMain":var o="",i="",r="",l="",s="logingLog"==n.state.tabsKey?"searchArea":"searchNode";if("logingLog"==this.state.tabsKey){o="enterlog_ncc",i="1001Z01000000002739F",l="/nccloud/riart/rootbuslog/enterLogPrintAction.do";var p=n.props.search.getQueryInfo(s);r=p.querycondition.conditions.find((function(e){return"dsname"==e.field})).value.firstvalue.split(" ")[0]}else{o="enternode_ncc",l="/nccloud/riart/rootbuslog/enterLogPrintAction.do",i="1001Z0100000000273BJ";var d=n.props.search.getQueryInfo(s);r=d.querycondition.conditions.find((function(e){return"dsname"==e.field})).value.firstvalue.split(" ")[0]}var c={dsname:r,printTemplateID:i};(0,a.ajax)({data:c,async:!1,sysAppcode:"10220SLOG0",url:"/nccloud/riart/printlog/printTempletAction.do",success:function(t){if("1"!=t.data){var s=e.table.getPks(n.state.tabsKey);null==s||null==s||s.length<=0?(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"}):(0,a.print)("pdf",l,{funcode:"10220SLOG",appcode:"10220SLOG",sysAppcode:"10220SLOG0",nodekey:o,userjson:r,oids:s,printTemplateID:i},!1)}else(0,a.toast)({content:n.state.json["1880000025-0009021"],color:"warning"})},error:function(e){(0,a.toast)({content:n.state.json["1880000025-0009021"],color:"warning"})}});break;case"output":var u="";u="logingLog"==this.state.tabsKey?"enterlog_ncc":"enternode_ncc";var f=e.table.getPks(this.state.tabsKey);if(null==f||null==f||f.length<=0)(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"});else{var m={funcode:"10220SLOG",appcode:"10220SLOG0",sysAppcode:"10220SLOG0",nodekey:u,oids:f,outputType:"output"};(0,a.output)({url:"/nccloud/riart/rootbuslog/enterLogPrintAction.do",data:m,callback:this.onButtonClick})}break;case"preview":var g="";g="logingLog"==this.state.tabsKey?"enterlog_ncc":"enternode_ncc";var h=e.table.getPks(this.state.tabsKey);null==h||null==h||h.length<=0?(0,a.toast)({content:n.state.json["1880000025-000008"],color:"warning"}):(0,a.print)("pdf","/nccloud/riart/rootbuslog/enterLogPrintAction.do",{funcode:"10220SLOG",appcode:"10220SLOG0",sysAppcode:"10220SLOG0",nodekey:g,oids:h})}};var a=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,r.isWindowSystem)()){var l=function(a,o,r){o?d(e,t,n,i,a):console.log("未加载到多语资源")};(0,o.getMultiLang)({moduleId:"contains_printOnClient",callback:l})}else(0,o.print)("pdf",t,a({},n,{sysType:(0,r.isWindowSystem)()?"1":"2"}),i)};l(n(0)),l(n(9));var o=n(10),i=l(n(76)),r=n(29);function l(e){return e&&e.__esModule?e:{default:e}}var s=o.Cipher.opaqueDecrypt,p=o.viewModel.getGlobalStorage,d=function(e,t,n,i,r){(0,o.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:"1"},success:function(l){var s=l.success,d=l.data;if(s){var u=null;d.asid&&p("localStorage",d.asid)&&(u=JSON.parse(p("localStorage",d.asid)).toEndInfo);var m=a({},n,{nccloudsessionid:d.sessionid,ncclouPrintSetting:u,asid:d.asid,isPrinterView:!0,searchTemplate:i,authority:d.authority});if(u&&u.printTemplateID&&u.nopreview){var g=(0,o.deepClone)(u);g=g.ncclouPrintSetting,m=Object.assign({},m,{ncclouPrintSetting:g}),f(e,t,a({},m,{printTemplateID:i?u.printTemplateID:n.printTemplateID}),r)}else c(e,t,m,i,r)}else(0,o.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},c=function(e,t,n,a,o){(0,i.default)(e,t,n,a,(function(a){var i=Object.assign({},a,{type:n.virType?n.virType:"1"});console.log({queryParams:i}),f(e,t,i,o)}))},u=null,f=function(e,t,n,a){var i=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,l=s(p("localStorage","cowboy")),d=p("localStorage","rockin")||!1;if(null!=i&&1==i.readyState)(0,o.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){i=null;var c=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");c.onopen=function(e){console.log("连接成功"),(u=window.open("")).document.title=a.index_049;var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';u.document.body.innerHTML=t},c.onclose=function(e){console.log("关闭连接")},c.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},c.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(c.close(),u.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(c.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:null,beginUrl:r,aeskey:l,rockin:d});var e=JSON.stringify(f);c.send(e)}}),1e3)}else(0,o.toast)({color:"warning",content:"不支持websocket"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),r=v(i),l=v(n(9)),s=n(10),p=v(n(138)),d=v(n(139)),c=v(n(140)),u=v(n(77)),f=n(29),m=v(n(78)),g=v(n(141)),h=v(n(142)),y=v(n(79));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(o,i){try{var r=t[o](i),l=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}var w=s.viewModel.getCookie,x=s.viewModel.setGlobalStorage,_=s.viewModel.getGlobalStorage,S=(s.viewModel.removeGlobalStorage,new(0,s.gzip)),k=s.Cipher.opaqueDecrypt,P=s.base.NCButton,L=(s.base.NCInput,s.base.NCRow),O=s.base.NCCol,C=s.base.NCIcon,I=s.base.NCCheckbox,T=s.base.NCLoading;n(144);var j=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.saveFrontCache=function(){var e=f.gerRequestVO.call(r),t=a({},e),n={toEndInfo:t};return x("localStorage",r.state.asid,JSON.stringify(n)),t},r.save=function(){r.cancel();var e=r.saveFrontCache();r.props.onEnsureInfoSave&&"function"==typeof r.props.onEnsureInfoSave&&r.props.onEnsureInfoSave(e)},r.cancel=function(){r.setState({modalVis:!1});var e=l.default.findDOMNode(r);l.default.unmountComponentAtNode(e);var t=e.parentNode;t.parentNode&&t.parentNode.removeChild(t)},r.getCurrentPages=(o=b(regeneratorRuntime.mark((function e(t){var o,i,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.state.configParams,i=o.printTemplateID,l=null,o.asid&&_("localStorage",o.asid)&&(l=JSON.stringify(JSON.parse(_("localStorage",o.asid)).toEndInfo)),s=a({},o,{printTemplateID:i,appcode:o.appcode,nodeKey:o.nodekey,ncclouPrintSetting:l?a({},l,{changeType:1}):l,download:"preview",sysType:3}),(0,h.default)({newProps:r.props,url:t.url,params:s,enctype:2}),console.log("gzipStatus",_("localStorage","gzip")),r.getUnzipCurrentPage("current");case 8:case"end":return e.stop()}}),e,n)}))),function(e){return o.apply(this,arguments)}),r.getTotalPages=function(e){var t=(0,s.deepClone)(e.params),n=a({},t,{download:"previewTotalPages"});(0,g.default)({newProps:r.props,url:e.url,params:n,enctype:2}),console.log("gzipStatus",_("localStorage","gzip")),r.getUnzipTotalPage("total")},r.getUnzipCurrentPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=k(_("localStorage","cowboy")),n=w("cookiets")||Date.now(),a=(n=isNaN(n)?n:Number(n))+"";t=a+t.substring(0,t.length-a.length);var o=r,i=0,l=setInterval((function(){var n="total"==e?window.frames.totalPageIframe:window.frames.currentPageIframe;if(n){(i+=1)>200&&clearInterval(l);var a=n.document.getElementsByTagName("pre")[0];if(a&&a.innerHTML){console.log(_("localStorage","rockin"));var r=a.innerHTML;"string"==typeof a.innerHTML&&"true"==_("localStorage","rockin")&&(r=s.Cipher.decrypt(a.innerHTML,t)),clearInterval(l),r="1"==_("localStorage","gzip")?S.unzip(r):JSON.parse(r),console.log("res",r),"total"==e?o.setState({totalPages:r.data}):"current"===e&&o.setState({currentPages:r.data})}}}),800)},r.getUnzipTotalPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"total",t=k(_("localStorage","cowboy")),n=w("cookiets")||Date.now(),a=(n=isNaN(n)?n:Number(n))+"";t=a+t.substring(0,t.length-a.length);var o=r,i=0,l=setInterval((function(){var n="total"==e?window.frames.totalPageIframe:window.frames.currentPageIframe;if(n){(i+=1)>2e3&&clearInterval(l);var a=n.document.getElementsByTagName("pre")[0];if(a&&a.innerHTML){console.log(_("localStorage","rockin"));var r=a.innerHTML;"string"==typeof a.innerHTML&&"true"==_("localStorage","rockin")&&(r=s.Cipher.decrypt(a.innerHTML,t)),clearInterval(l),r="1"==_("localStorage","gzip")?S.unzip(r):JSON.parse(r),console.log("res",r),"total"==e?o.setState({totalPages:r.data}):"current"===e&&o.setState({currentPages:r.data})}}}),1e3)},r.initFormData=(i=b(regeneratorRuntime.mark((function e(){var t,o,i,l,p,d,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.configParams,o=u.printTemplateID?u.printTemplateID:t.printTemplateID,e.next=4,(0,m.default)(r.props,r.props.url,a({},t,{printTemplateID:o}),r.state.json);case 4:i=e.sent,l=r.state.responseAllData,p=i.nccloudPrinterList,r.setState({nccloudPrinterList:p}),d=r,c=null,t.asid&&_("localStorage",t.asid)&&(c=JSON.stringify(JSON.parse(_("localStorage",t.asid)).toEndInfo)),r.setState({currPrintTemplateID:o,nopreview:!!c&&JSON.parse(c).nopreview||!1}),(0,s.ajax)({url:"/nccloud/riart/printtool/down.do",data:{printTemplateID:o,appcode:t.appcode,nodeKey:t.nodekey,ncclouPrintSetting:u.printTemplateID?a({},c,{changeType:1}):c},success:function(e){var t=e.success;if(e.data,t){if(l=a({},e.data,{nccloudPrinterList:p,printTemplateID:o}),c&&!l.currentNCCloudPrinter){var n=JSON.parse(JSON.parse(c).ncclouPrintSetting),i=n.currentNCCloudPrinter;l.currentNCCloudPrinter=i;var r=n.currentNCCloudPaperResource;l.currentNCCloudPaperResource=r}d.setState({responseAllData:l});var s=!u.printTemplateID;d.formatData(l,s)}}});case 13:case"end":return e.stop()}}),e,n)}))),function(){return i.apply(this,arguments)}),r.formatData=function(e,t){f.modifyMeta.call(r,e.printerId||""),f.initFormVal.call(r,e,"",e.printTemplateID),t&&f.initTempalteIdInfo.call(r,e)},r.reloadPDFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r.toggleShowLoad.call(r,!0);var t=f.gerRequestVO.call(r),n=r.state.configParams;(0,u.default)({newProps:r.props,params:a({},t,{printTemplateID:e||n.printTemplateID,changeType:e?1:2,hadPlugin:!0}),url:r.props.url,enctype:2,hasModal:!0},r.state.json),setTimeout((function(){r.toggleShowLoad.call(r,!1)}),1500)},r.resetIframeStyle=function(){},r.changePreviewStatus=function(e){r.setState({nopreview:e})},r.output=function(){var e=r.state,t=e.configParams,n=e.configUrl;(0,s.output)({url:n,data:a({},t,{download:null,outputType:"output",searchTemplate:!1}),callback:r.onButtonClick})},r.state={showLoad:!1,modalVis:!1,nopreview:!1,totalPages:0,currentPages:0,asid:r.props.params.asid,responseAllData:{nccloudPrinterList:[],currentNCCloudTemplateInfo:{},currentNccloudPaper:{},nccloudTemplateInfoList:[],currentNCCloudPrinter:{}},json:{},init:null,configParams:r.props.params,configUrl:r.props.url},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this;(0,s.getMultiLang)({moduleId:"contains_printOnClient",callback:function(t,n,a){n?e.setState({json:t,inlt:a}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.configParams;this.setState({showModal:!0}),this.initFormData(),this.getTotalPages({params:t,url:this.props.url}),this.getCurrentPages({params:t,url:this.props.url}),y.default.subscribe("modifySfVar",(function(n,a){var o=JSON.parse(decodeURI(t.userjson));for(var i in a)o[i]=a[i];t.userjson=encodeURI(JSON.stringify(o)),e.setState({configParams:t})})),y.default.subscribe("modifySfPaper",(function(t,n){var o=e.state.configParams,i=o.printTemplateID,r=void 0===i?null:i,l=o.userjson,s=void 0===l?{}:l;for(var p in s=JSON.parse(decodeURI(s)),n)s[p]=n[p];o.userjson=encodeURI(JSON.stringify(s));var d=f.gerRequestVO.call(e);(0,u.default)({newProps:e.props,params:a({},d,{printTemplateID:r||o.printTemplateID,changeType:r?1:2,hadPlugin:!0}),url:e.props.url,enctype:2,hasModal:!0},e.state.json)}))}},{key:"toggleShowLoad",value:function(e){this.setState({showLoad:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.params,o=n.createForm,l=this.state,s=l.showModal,p=l.configParams;return console.log({configParams:p}),r.default.createElement("div",{className:"print-preview-model",style:{display:s?"block":"none"}},r.default.createElement("iframe",{id:"totalPageIframe",name:"totalPageIframe",style:{display:"none"}}),r.default.createElement("iframe",{id:"currentPageIframe",name:"currentPageIframe",style:{display:"none"}}),r.default.createElement("div",{className:"print-preview-model-dialog"}),r.default.createElement("div",{className:"model-body"},r.default.createElement("header",{className:"model-header"},r.default.createElement("span",null,this.state.json.index_003),r.default.createElement(C,{type:"uf-close",className:"close-modal",onClick:this.cancel})),r.default.createElement(L,null,r.default.createElement(O,{md:9},r.default.createElement("div",{style:{position:"absolute",zIndex:100,height:57,backgroundColor:"#525659",width:"96%"}}),r.default.createElement("iframe",{id:"printPreviewModal",name:"printPreviewModal",style:{width:"100%",height:"430px"},onLoad:function(){e.resetIframeStyle()}})),r.default.createElement(O,{md:3},r.default.createElement(T,{container:this,show:this.state.showLoad}),r.default.createElement("div",{className:"print-form-contain"},a.hideTemplate?null:r.default.createElement(i.Fragment,null,r.default.createElement("h4",{className:"header-title header-title-first"},this.state.json.index_004),o("printTemplate",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)})),r.default.createElement("h4",{className:"header-title"},this.state.json.index_005),o("printRange",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),r.default.createElement("h4",{className:"header-title"},this.state.json.index_006),o("printMachine",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),r.default.createElement("h4",{className:"header-title"},this.state.json.index_007),o("printStyle",{onAfterEvent:c.default.bind(this),onBeforeEvent:d.default.bind(this)}),a.formulaConfig?a.formulaConfig:null))),r.default.createElement("footer",{className:"model-footer"},p.hidePreviewCheck?null:r.default.createElement(I,{checked:this.state.nopreview,fieldid:"preview_check",value:this.state.nopreview,onChange:this.changePreviewStatus},this.state.json.index_008),a.hideTemplate?null:r.default.createElement("p",{className:"total-paegs"},"(",this.state.json.index_009,this.state.currentPages,this.state.json.index_010,")",this.state.json.index_011,this.state.totalPages,this.state.json.index_010),r.default.createElement(P,{onClick:this.save,fieldid:"print_btn",colors:"danger"},this.state.json.index_012),p.notNeedOutPutBtn?null:r.default.createElement(P,{onClick:this.output,fieldid:"output_btn"},this.state.json.index_013),r.default.createElement(P,{onClick:this.cancel,fieldid:"cancel_btn"},this.state.json.index_014))))}}]),t}(i.Component);j=(0,s.createPage)({initTemplate:p.default})(j),t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};(0,a.getMultiLang)({moduleId:"contains_printOnClient",callback:function(n,a,i){a?(t={printTemplate:{moduletype:"form",items:[{attrcode:"templateInfoList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:n.index_004+"："}],status:"edit"},printRange:{moduletype:"form",items:[{attrcode:"pageRangeType",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"radio",showClear:!1,options:[{display:""+n.index_000,value:0},{display:""+n.index_016,value:1}],label:n.index_005+"："},{attrcode:"pageFrom",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!1,itemtype:"number",label:""+n.index_018},{attrcode:"pageTo",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!1,itemtype:"number",label:""+n.index_019},{attrcode:"pageWholeType",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[{display:""+n.index_020,value:0},{display:""+n.index_021,value:1},{display:""+n.index_022,value:2}],label:""+n.index_023},{attrcode:"copies",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"number",label:""+n.index_024},{attrcode:"collated",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"switch",label:""+n.index_025},{attrcode:"doubleside",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,label:""+n.index_026,options:[{display:""+n.index_027,value:0},{display:""+n.index_028,value:1},{display:""+n.index_029,value:2}]}],status:"edit"},printMachine:{moduletype:"form",items:[{attrcode:"PrinterList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_030},o({attrcode:"printerStatus",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,disabled:!0,itemtype:"input",label:""+n.index_031},"disabled",!0),{attrcode:"paperResourceList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_032},{attrcode:"twoSide",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_033,disabled:!0}],status:"edit"},printStyle:{moduletype:"form",items:[{attrcode:"paperList",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"select",showClear:!1,options:[],label:""+n.index_034},{attrcode:"paperWidth",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_035,disabled:!0},{attrcode:"paperHeight",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"input",label:""+n.index_036,disabled:!0},{attrcode:"nccloudPaperDirect",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"radio",label:""+n.index_037,options:[{display:""+n.index_038,value:!1},{display:""+n.index_039,value:!0}]},{attrcode:"isMultiColor",placeholder:"",value:"",leftspace:0,rightspace:0,required:!1,visible:!0,itemtype:"switch",label:""+n.index_040}],status:"edit"}},e.meta.setMeta(t)):console.log("未加载到多语资源")}})};var a=n(10);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,o){["pageFrom","pageTo"].includes(n)&&function(e,t){1!=e.form.getFormItemsValue(t,"pageRangeType")&&e.form.setFormItemsValue(t,{pageRangeType:{display:"页面",value:1}})}(e,t);return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a,s){var p=a.value.key?a.value.key:a.value;a.display;"PrinterList"===n&&i.call(this,p);"nccloudPaperDirect"===n&&o.call(this,p);if(["paperList"].includes(n)&&a!==s){var d=this.props.meta.getMeta(),c=[];d.printStyle.items.map((function(e){"paperList"===e.attrcode&&(c=e.options)})),console.log({paperList:c}),r.call(this,c,p),this.props.form.setFormItemsDisabled(t,{paperWidth:this.state.json.index_015!==a.display,paperHeight:this.state.json.index_015!==a.display})}["templateInfoList"].includes(n)&&l.call(this,p);"pageRangeType"===n&&e.form.setFormItemsVisible("printRange",{pageFrom:!!Number(p),pageTo:!!Number(p)})};var a=n(29);function o(e){var t=this.props.form.getFormItemsValue("printStyle",["paperWidth","paperHeight"]);console.log({printStyleVO:t}),this.props.form.setFormItemsValue("printStyle",{paperWidth:{value:t[1].value},paperHeight:{value:t[0].value}}),this.reloadPDFile()}function i(e){a.modifyMeta.call(this,e);var t=this.props.form.getFormItemsValue("printStyle","paperList"),n=this.props.form.getFormItemsValue("printMachine","paperResourceList"),o=[],i=[],r=!1,l=this.props.meta.getMeta(),s=this.state.responseAllData.nccloudPrinterList.find((function(t){return e==t.printerId}));l.printStyle.items.find((function(e){if("paperList"===e.attrcode)return o=e.options,!0})),l.printMachine.items.find((function(e){if("paperResourceList"===e.attrcode)return i=e.options,!0})),i.length&&(r=i.some((function(e){return e.display==n.display}))),o.some((function(e){return e.display==t.display}))||(this.props.form.setFormItemsValue("printStyle",{paperList:{display:o[0].display,value:o[0].value}}),this.reloadPDFile()),!i.length||r?this.props.form.setFormItemsValue("printMachine",{paperResourceList:{display:i.length?i[0].display:"",value:i.length?i[0].value:""}}):this.props.form.setFormItemsValue("printMachine",{paperResourceList:{display:n.display?n.display:i[0].display,value:n.value?n.value:i[0].value}}),this.props.form.setFormItemsValue("printMachine",{printerStatus:{display:s.printerStatus?this.state.json.index_062:this.state.json.index_063,value:s.printerStatus},twoSide:{display:s.twoSide?this.state.json.index_064:this.state.json.index_065,value:s.twoSide}})}function r(e,t){var n=e.find((function(e){return e.value===t}));this.props.form.setFormItemsValue("printStyle",{paperWidth:{value:parseInt(n.paperWidth)},paperHeight:{value:parseInt(n.paperHeight)},nccloudPaperDirect:{value:n.paperWidth<n.paperHeight}}),this.reloadPDFile()}function l(e){this.initFormData({printTemplateID:e}),this.reloadPDFile(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){e.newProps;var t=e.params,n=e.url,o=e.enctype,i=(e.hasModal,arguments.length>1&&void 0!==arguments[1]&&arguments[1],""),r="",l=window.parent.location.hash.split("?");if(l&&l[1]){var s=l[1].split("&");s&&s instanceof Array&&s.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(i=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(r=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))}))}var p=(i||null)+"-"+(window.actionName||null),d={sys_busiaction:p,sys_appcode:r,sys_ts:(new Date).getTime()},c=[{target:"totalPageIframe",method:"POST",enctype:o=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(o),type:"hidden",action:n||""},document.createElement("form")],u=c[0],f=c[1];Object.assign(f,u);var m=a({},t,d),g=function(e){if(m[e]instanceof Array)m[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,f.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=m[e],f.appendChild(t)}};for(var h in m)g(h);return document.body.appendChild(f),f.submit(),document.body.removeChild(f),!1};var o,i=n(9);(o=i)&&o.__esModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){e.newProps;var t=e.params,n=e.url,o=e.enctype,i=(e.hasModal,arguments.length>1&&void 0!==arguments[1]&&arguments[1],""),r="",l=window.parent.location.hash.split("?");if(l&&l[1]){var s=l[1].split("&");s&&s instanceof Array&&s.forEach((function(e){-1!=e.indexOf("=")&&e.split("=")&&e.split("=")instanceof Array&&("n"===e.split("=")[0]&&e.split("=")[1]&&(i=decodeURIComponent(decodeURIComponent(e.split("=")[1]))),"c"===e.split("=")[0]&&e.split("=")[1]&&(r=decodeURIComponent(decodeURIComponent(e.split("=")[1]))))}))}var p=(i||null)+"-"+(window.actionName||null),d={sys_busiaction:p,sys_appcode:r,sys_ts:(new Date).getTime()},c=[{target:"currentPageIframe",method:"POST",enctype:o=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(o),type:"hidden",action:n||""},document.createElement("form")],u=c[0],f=c[1];Object.assign(f,u);var m=a({},t,d),g=function(e){if(m[e]instanceof Array)m[e].forEach((function(t,n){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,f.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=m[e],f.appendChild(t)}};for(var h in m)g(h);return document.body.appendChild(f),f.submit(),document.body.removeChild(f),!1};var o,i=n(9);(o=i)&&o.__esModule},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var a=n(145);"string"==typeof a&&(a=[[e.i,a,""]]);var o={transform:void 0};n(12)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(11)(!1)).push([e.i,".print-preview-model .u-col-md-9,\n.print-preview-model .u-col-md-3 {\n  padding-right: 0;\n}\n.print-preview-model .u-col-md-9 {\n  width: 73%;\n}\n.print-preview-model .u-col-md-3 {\n  padding-left: 0;\n  width: 27%;\n}\n.print-preview-model .print-preview-model-dialog {\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n}\n.print-preview-model .lightapp-component-form {\n  padding: 0;\n}\n.print-preview-model .lightapp-component-form .form-item .form-item-label {\n  width: 100px;\n  min-width: 50px;\n}\n.print-preview-model .lightapp-component-form .form-item .form-item-control {\n  width: calc(100% - 100px);\n}\n.print-preview-model .model-body {\n  position: fixed;\n  z-index: 110;\n  left: 50%;\n  top: 20px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  width: 80%;\n  height: 520px;\n  top: 360;\n  background: #fff;\n}\n.print-preview-model .model-header {\n  padding: 12px 15px;\n  background: #f3f3f3;\n  font-size: 16px;\n}\n.print-preview-model .model-header .close-modal {\n  float: right;\n  cursor: pointer;\n}\n.print-preview-model .model-footer {\n  position: relative;\n  padding: 10px 8px;\n  text-align: right;\n  border-top: 1px solid #ddd;\n}\n.print-preview-model .model-footer .u-checkbox {\n  float: left;\n  line-height: 18px;\n}\n.print-preview-model .model-footer .u-checkbox-label {\n  padding-top: 5px;\n}\n.print-preview-model .model-footer .u-checkbox-label::before,\n.print-preview-model .model-footer .u-checkbox-label::after {\n  top: 8px;\n}\n.print-preview-model .print-form-contain {\n  height: 430px;\n  width: 95%;\n  overflow-y: auto;\n}\n.print-preview-model .header-title {\n  padding: 0 0 0 16px;\n  margin-top: 5px;\n  height: 32px;\n  line-height: 32px;\n  font-size: 13px;\n  background-color: #eceff5;\n}\n.print-preview-model .header-title.header-title-first {\n  margin-top: 0;\n}\n.print-preview-model .total-paegs {\n  position: absolute;\n  right: 26%;\n  bottom: 18px;\n}\n.print-preview-model .group-form-wrapper {\n  position: relative;\n}\n.print-preview-model .form-item.pageFrom,\n.print-preview-model .form-item.pageTo {\n  position: relative;\n  left: 86px;\n  top: 0;\n}\n.print-preview-model .form-item.pageFrom .form-item-label,\n.print-preview-model .form-item.pageTo .form-item-label {\n  padding-right: 5px;\n  width: 45px;\n  min-width: 0;\n}\n.print-preview-model .form-item.pageFrom .form-item-control,\n.print-preview-model .form-item.pageTo .form-item-control {\n  width: 46px;\n  padding-right: 0;\n}\n.print-preview-model .pageFrom,\n.print-preview-model .pageTo {\n  width: 32% !important;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,r.isWindowSystem)()){var l=function(a,o){o?d(e,t,n,i,a):console.log("未加载到多语资源")};(0,o.getMultiLang)({moduleId:"contains_printOnClient",callback:l})}else(0,o.print)("pdf",t,a({},n,{sysType:(0,r.isWindowSystem)()?"1":"2"}),i)};l(n(0)),l(n(9));var o=n(10),i=l(n(76)),r=n(29);function l(e){return e&&e.__esModule?e:{default:e}}var s=o.Cipher.opaqueDecrypt,p=o.viewModel.getGlobalStorage,d=function(e,t,n,i,r){(0,o.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:"1"},success:function(l){var s=l.success,d=l.data;if(s){var u=null;d.asid&&p("localStorage",d.asid)&&(u=JSON.parse(p("localStorage",d.asid)).toEndInfo);var f=a({},n,{nccloudsessionid:d.sessionid,ncclouPrintSetting:u,asid:d.asid,isPrinterView:!1,searchTemplate:i,authority:d.authority,hidePreviewCheck:!0});c(e,t,f,i,r)}else(0,o.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},c=function(e,t,n,r,l){(0,i.default)(e,t,n,r,(function(i){n.authority?f(e,t,a({},i,{type:n.virType?n.virType:"1"}),l):(0,o.toast)({color:"warning",content:l.index_051})}))},u=null,f=function(e,t,n,a){var i=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,l=s(p("localStorage","cowboy")),d=p("localStorage","rockin")||!1;if(null!=i&&1==i.readyState)(0,o.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){i=null;var c=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");c.onopen=function(e){console.log("连接成功"),(u=window.open("")).document.title=a.index_049;var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';u.document.body.innerHTML=t},c.onclose=function(e){console.log("关闭连接")},c.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},c.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(c.close(),u.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(c.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:null,beginUrl:r,aeskey:l,rockin:d});var e=JSON.stringify(f);c.send(e)}}),1e3)}else(0,o.toast)({color:"warning",content:a.index_057+"websocket"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=function(l,s,d){if((0,i.isWindowSystem)()){(0,o.getMultiLang)({moduleId:"contains_printOnClient",callback:function(a,o,i){o?p(e,t,n,r,a):console.log("未加载到多语资源")}})}else(0,o.print)("pdf",t,a({},n,{sysType:(0,i.isWindowSystem)()?"1":"2"}),r)};l()};r(n(0)),r(n(9));var o=n(10),i=n(29);function r(e){return e&&e.__esModule?e:{default:e}}var l=o.Cipher.opaqueDecrypt,s=o.viewModel.getGlobalStorage,p=function(e,t,n,i,r){(0,o.ajax)({url:"/nccloud/riart/printtool/sessionid.do",data:{printTemplateID:n.printTemplateID,nodekey:n.nodekey,appcode:n.appcode,num:3==n.type?n.oids.length.toString():"1"},success:function(p){var c=p.success,f=p.data;if(c)if(f.authority){var m=null;f.asid&&l(s("localStorage",f.asid))&&(m=JSON.parse(l(s("localStorage",f.asid))).toEndInfo);var g=a({},n,{nccloudsessionid:f.sessionid,ncclouPrintSetting:m,asid:f.asid});m&&m.printTemplateID?u(e,t,a({},g,{printTemplateID:m.printTemplateID}),r):i?d(e,t,g,r):u(e,t,g,r)}else(0,o.toast)({color:"warning",content:r.index_051});else(0,o.toast)({color:"error",content:r.index_047})},error:function(e){console.error(e.message)}})},d=function(e,t,n,i){var r=null;(0,o.ajax)({method:"post",url:"/nccloud/platform/print/queryTemplates.do",data:n,success:function(l){var s=l.success,p=l.data;if(s){if(!p||!p.length)return(0,o.toast)({color:"warning",content:"未查询到任何模板信息"});r=p[0].m_ctemplateid?p[0].m_ctemplateid:null,u(e,t,a({},n,{printTemplateID:r}),i)}},error:function(e){(0,o.toast)({color:"danger",content:e.message})}})},c=null,u=function(e,t,n,a){var i=null,r=n.beginUrl||window.location.protocol+"//"+window.location.hostname+":"+window.location.port,p=l(s("localStorage","cowboy")),d=s("localStorage","rockin")||!1;if(null!=i&&1==i.readyState)(0,o.toast)({color:"warning",content:a.index_043});else if("WebSocket"in window){i=null;var u=new WebSocket("ws://"+(n.socketIp||"127.0.0.1")+":9999/websocket");u.onopen=function(e){console.log("连接成功"),c=window.open("");var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110518_e60c0d16_919028.png"/></p>\n              <span>...</span>\n            </div>\n          </div>\n        </div>    \n        ';c.document.body.innerHTML=t},u.onclose=function(e){console.log("关闭连接")},u.onerror=function(a){e.openTo("/uap/printExeDown/ExeDownload/main/index.html?pk_message=dd",{appcode:n.appcode,pagecode:n.pagecode,actionUrl:t})},u.onmessage=function(e){var t="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 102px;"">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110533_f85d3142_919028.png"/></p>\n              <span>'+a.index_061+"</span>\n            </div>\n          </div>\n        </div>    \n        ",n="<div><h2 style='border-bottom: 1px solid #ddd;padding: 10px 0'>"+a.index_050+'</h2>\n          <div style="width: 560px; margin: 0 auto; position: relative;">\n            <div style="display:inline-block; text-align:center;">\n              <p><img style="width: 34px; height: 34px;" src="https://images.gitee.com/uploads/images/2019/0314/110540_e2d0849a_919028.png"/></p>\n              <span>'+a.index_058+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 48px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 150px;">\n              <p><img style="width: 40px; height: 40px;" src="https://images.gitee.com/uploads/images/2019/0314/110508_a5f9c80c_919028.png"/></p>\n              <span>'+a.index_059+'</span>\n            </div>\n            <p style="width:180px; border-bottom: 1px solid #ddd;position: absolute; top: 23px; left: 286px;"></p>\n            <div style="display:inline-block; text-align:center; margin-left: 96px;"">\n              <p><img style="width: 30px; height: 30px;" src="https://images.gitee.com/uploads/images/2019/0314/110526_3b417874_919028.png"/></p>\n              <span>'+a.index_060+"</span>\n            </div>\n          </div>\n        </div>    \n        ";e&&(Object.keys(e).length||e.data)&&(u.close(),c.document.body.innerHTML=e.data.includes(a.index_056)?t:n)};var f={},m=setInterval((function(){if(u.readyState==WebSocket.OPEN){clearInterval(m),f=Object.assign({},n,{compalteAddress:t,type:n.type,nccloudsessionid:n.nccloudsessionid,download:n.download||null,suffx:n.suffx||null,beginUrl:r,aeskey:p,rockin:d}),s("localStorage",n.printTemplateID)&&(f.ncclouPrintSetting=JSON.parse(s("localStorage",f.printTemplateID)).toEndInfo);var e=JSON.stringify(f);u.send(e)}}),1e3)}else(0,o.toast)({color:"warning",content:a.index_057+"websocket"})}},function(e,t,n){var a=n(149);"string"==typeof a&&(a=[[e.i,a,""]]);var o={transform:void 0};n(12)(a,o);a.locals&&(e.exports=a.locals)},function(e,t,n){(e.exports=n(11)(!1)).push([e.i,".enterLog .u-table-content .u-table-scroll .u-table-body {\n  min-height: 280px !important;\n  overflow: auto;\n  max-height: 280px !important;\n}\n",""])}])}));
//# sourceMappingURL=index.b320973c.js.map