/*! @ncctag {"date":"2020-5-11 23:43:24"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["react","react-dom","nc-lightapp-front"],t):"object"==typeof exports?exports["uap/root/sysManage/main/index"]=t(require("react"),require("react-dom"),require("nc-lightapp-front")):e["uap/root/sysManage/main/index"]=t(e.React,e.ReactDOM,e["nc-lightapp-front"])}(window,(function(e,t,a){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=232)}({0:function(t,a){t.exports=e},10:function(e,t){e.exports=a},11:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var s=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),l=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[a].concat(l).concat([s]).join("\n")}var o;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var l=this[s][0];"number"==typeof l&&(n[l]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&n[o[0]]||(a&&!o[2]?o[2]=a:a&&(o[2]="("+o[2]+") and ("+a+")"),t.push(o))}},t}},12:function(e,t,a){var n,s,l={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),r=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),i=null,u=0,c=[],d=a(15);function p(e,t){for(var a=0;a<e.length;a++){var n=e[a],s=l[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(m(n.parts[o],t))}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(m(n.parts[o],t));l[n.id]={id:n.id,refs:1,parts:r}}}}function f(e,t){for(var a=[],n={},s=0;s<e.length;s++){var l=e[s],o=t.base?l[0]+t.base:l[0],r={css:l[1],media:l[2],sourceMap:l[3]};n[o]?n[o].parts.push(r):a.push(n[o]={id:o,parts:[r]})}return a}function v(e,t){var a=r(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),v(e,t),t}function b(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function m(e,t){var a,n,s,l;if(t.transform&&e.css){if(!(l=t.transform(e.css)))return function(){};e.css=l}if(t.singleton){var o=u++;a=i||(i=h(t)),n=C.bind(null,a,o,!1),s=C.bind(null,a,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),v(e,t),t}(t),n=B.bind(null,a,t),s=function(){g(a),a.href&&URL.revokeObjectURL(a.href)}):(a=h(t),n=T.bind(null,a),s=function(){g(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=f(e,t);return p(a,t),function(e){for(var n=[],s=0;s<a.length;s++){var o=a[s];(r=l[o.id]).refs--,n.push(r)}e&&p(f(e,t),t);for(s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var i=0;i<r.parts.length;i++)r.parts[i]();delete l[r.id]}}}};var y,L=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,a,n){var s=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=L(t,s);else{var l=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(l,o[t]):e.appendChild(l)}}function T(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function B(e,t,a){var n=a.css,s=a.sourceMap,l=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||l)&&(n=d(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},15:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,l=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(l)?e:(s=0===l.indexOf("//")?l:0===l.indexOf("/")?a+l:n+l.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},232:function(e,t,a){"use strict";var n,s,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=p(o),i=p(a(9)),u=a(10),c=p(a(233)),d=a(234);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(238);var v=u.base.NCDiv,g=u.base.NCButton,h=u.base.NCProgressBar,b="109990BCM",m=(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.call(a),a.state={selRowData:{},json:{},selIndex:-1,currStep:0,TresCode:[],allDataSource:[],progressID:0,homeAllLang:{},langsByHome:{},subStepValue:0,moduleValue:0,productValue:0,currSubstep:"",currDetail:"",moduleName:"",productName:"",codeDepend:"",realCkecked:[]},c.default.call(a,a.props),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"109990BCM",domainName:"uap",callback:function(t,a,n){a?e.setState({json:t,inlt:n}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",(function(e){if(window.event.screenX-window.screenLeft>document.documentElement.scrollWidth-20&&window.event.clientY<0||window.event.altKey){var t="可能正在进行系统升级，是否关闭窗口？";return e.returnValue=t,t}t="可能正在进行系统升级，是否关闭窗口？";return e.returnValue=t,t})),this.initSysListTable()}},{key:"delRow",value:function(e,t,a){var n=this,s=this.props.editTable.getValByKeyAndIndex("sysListTable",a,"code").value,l=this;(0,u.ajax)({url:"/nccloud/riasm/bcmanage/BCManageDel.do",data:s,sysAppcode:b,success:function(e){var t=e.success;e.data;t&&(n.setState({selIndex:-1}),n.props.editTable.deleteTableRowsByIndex("sysListTable",a,!0),n.initSysListTable(),l.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),setTimeout((function(){n.props.editTable.setStatus("sysListTable","browse"),l.setButtonStatus(l.props.button,"browse")}),500))},error:function(e){(0,u.toast)({color:"danger",content:e.message})}})}},{key:"onMouseEnterEve",value:function(e,t){this.props.syncTree.hideIcon(e,t,{delIcon:!1,editIcon:!1,addIcon:!1})}},{key:"getCheckInfo",value:function(e){return e.split('"').map((function(e){return r.default.createElement("div",null,e)}))}},{key:"changeStep",value:function(e){var t=this,a=this.state.childChecked,n=void 0===a?[]:a,s=this,l=this.props.editTable.getClickRowIndex("sysListTable").record.values.dataSourceName.value;if(1==e){if(!n.length)return void(0,u.toast)({content:this.state.json["109990BCM-000008"]});(0,u.ajax)({url:"/nccloud/riasm/bcmanage/BCManageCheck.do",data:{childChecked:n,dsName:l},sysAppcode:b,success:function(a){var n=a.success;n&&(s.setState({currStep:e}),a.data&&(0,u.promptBox)({content:t.getCheckInfo(a.data),color:"warning",beSureBtnClick:function(){s.setState({currStep:e})}}))},error:function(e){(0,u.toast)({color:"danger",content:s.state.json["109990BCM-000009"]})}}),this.setState({currStep:e})}else{this.setState({currStep:e})}}},{key:"render",value:function(){var e=this.props,t=e.editTable,a=e.BillHeadInfo,n=e.modal,s=e.table,l=n.createModal,o=this.state,i=o.currStep,u=(o.json,t.createEditTable),c=a.createBillHeadInfo,p=s.createSimpleTable;return r.default.createElement("div",{className:"sys-manager"},r.default.createElement(v,{areaCode:v.config.HEADER},r.default.createElement("div",{className:"nc-bill-header-area"},r.default.createElement("div",{className:"header-title-search-area"},c({title:this.state.json["109990BCM-000010"],initShowBackBtn:!1})),r.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:"page_header",onButtonClick:d.onBtnClick.bind(this),popContainer:document.querySelector(".header-button-area")})))),u("sysListTable",{cancelCustomRightMenu:!0,showIndex:!0,onAfterEvent:d.afterEvent,onBeforeEvent:d.beforeEvent.bind(this),adaptionHeight:!0,onRowClick:this.onRowClick}),l("sysUp",{title:this.state.json["109990BCM-000011"],content:this.gerSysUpContent(),showCustomBtns:!0,size:"xlg",customBtns:r.default.createElement("footer",null,3==i?r.default.createElement(g,{onClick:this.completeInstall},"完成"):r.default.createElement(g,{onClick:this.cancelUpSys},this.state.json["109990BCM-000018"]),r.default.createElement(g,{disabled:0==i||2==i||3==i,onClick:this.changeStep.bind(this,0)},this.state.json["109990BCM-000019"]),0==i?r.default.createElement(g,{disabled:2==i,onClick:this.changeStep.bind(this,1)},this.state.json["109990BCM-000020"]):r.default.createElement(g,{disabled:2==i||3==i,onClick:this.toInstallUp},this.state.json["109990BCM-000021"]))}),l("langUp",{title:this.state.json["109990BCM-000012"],leftBtnName:this.state.json["109990BCM-000013"],beSureBtnClick:this.beSureLangUp,content:r.default.createElement("div",null,p("langListTable",{showCheck:!0}))}))}}]),t}(o.Component),s=function(){var e=this;this.initSysListTable=function(){var t=e;(0,u.ajax)({url:"/nccloud/riasm/bcmanage/BCManageLoad.do",data:"SystemUser",sysAppcode:b,success:function(e){var a=e.success,n=e.data;if(a){t.setState({homeAllLang:n.homeAllLang}),t.setState({allDataSource:n.allDataSource}),t.setState({langsByHome:n.langsByHome});var s={areacode:"psndoc_list",pageInfo:{pageIndex:"0",pageSize:"10",total:"2",totalPage:"1"},rows:null!=n.rows&&n.rows.length>0?n.rows:[]};t.props.editTable.setTableData("sysListTable",s),t.setDsAndLangList(n.canChangeDataSource,n.homeAllLang),t.setButtonStatus(t.props.button,"browse"),t.props.editTable.setStatus("sysListTable","browse")}},error:function(e){(0,u.toast)({color:"danger",content:e.message})}})},this.setButtonStatus=function(e,t){"edit"==t?e.setButtonVisible({add:!1,modify:!1,save:!0,cancel:!0}):"browse"==t&&e.setButtonVisible({add:!0,modify:!0,save:!1,cancel:!1})},this.setDsAndLangList=function(t,a){var n=e.props.meta.getMeta().sysListTable.items,s=[],l=[];t.map((function(e){var t={display:e,value:e};s.push(t)})),a.map((function(e){var t={display:e.displayName,value:e.code};l.push(t)})),n.map((function(e){"dataSourceName"==e.attrcode?e.options=s:"mainLang"==e.attrcode?e.options=l:"oneLang"==e.attrcode?e.options=l:"secLang"==e.attrcode?e.options=l:"thirLang"==e.attrcode?e.options=l:"forthLang"==e.attrcode?e.options=l:"fifLang"==e.attrcode&&(e.options=l)}))},this.onRowClick=function(t,a,n,s){e.setState({selRowData:n,selIndex:s})},this.formatData=function(e){var t=[];return e.push((function(e){t.push(e)})),t},this.saveData=function(){var t=e,a=e.props.editTable.getAllRows("sysListTable"),n=e.formatData(a);(0,u.ajax)({url:"/uap/public/testJSON/sysListTable.json",method:"get",sysAppcode:b,data:n,success:function(e){var a=e.success;e.data;a&&(t.props.editTable.setStatus("sysListTable","browse"),t.props.button.setButtonVisible({modify:!!t.props.editTable.getAllRows("sysListTable").length,save:!1,cancel:!1}))},error:function(e){(0,u.toast)({color:"danger",content:e.message})}})},this.beSureLangUp=function(){var t=e,a=e.props.table.getCheckedRows("langListTable"),n=e.props.editTable.getClickRowIndex("sysListTable"),s=[],l=[],o=n.record.values.dataSourceName.value;n.record.values.mainLang?s.push(n.record.values.mainLang.value):n.record.values.oneLang?s.push(n.record.values.oneLang.value):n.record.values.secLang?s.push(n.record.values.secLang.value):n.record.values.thirLang?s.push(n.record.values.thirLang.value):n.record.values.forthLang?s.push(n.record.values.forthLang.value):n.record.values.fifLang&&s.push(n.record.values.fifLang.value),a.map((function(e){l.push(e.data.values.langCode.value)})),(0,u.ajax)({url:"/nccloud/riasm/bcmanage/doUpdateDBML.do",data:{dataScoueName:o,langCode:{langCode:s},langUpCode:{langUpCode:l}},sysAppcode:b,success:function(a){var n=a.success;a.data;n&&((0,u.toast)({color:"info",content:t.state.json["109990BCM-000045"]}),e.initSysListTable())}})},this.saveData=function(e,t){},this.initSysInstallTree=function(){var t=e;e.props.syncTree.setNodeChecked("toBeInstall",[]);var a=e.props.editTable.getNumberOfRows("sysListTable"),n=e.props.editTable.getClickRowIndex("sysListTable");if(null===n|void 0===n||0==a)(0,u.toast)({color:"info",content:t.state.json["109990BCM-000061"]});else{e.props.modal.show("sysUp");var s=e.props.editTable.getClickRowIndex("sysListTable").record.values.code.value,l=e.props.editTable.getClickRowIndex("sysListTable").record.values.dataSourceName.value,o=e.state.langsByHome[s],r=[];null!=o&&o.map((function(e){r.push(e.langcode)})),(0,u.ajax)({url:"/nccloud/riasm/bcmanage/dbLoadTree.do",data:{dsName:l,langCodes:r},sysAppcode:b,success:function(a){var n=a.success,s=a.data;n&&(s.LeftTree.rows.map((function(e){e.children&&e.children.map((function(e){e.disabled=e.values.disabled}))})),t.props.syncTree.setSyncTreeData("toBeInstall",s.LeftTree.rows),t.props.syncTree.setSyncTreeData("installed",s.RightTree.rows),e.setState({codeDepend:s.dependModule}))},error:function(e){(0,u.toast)({color:"danger",content:t.state.json["109990BCM-000003"]})}})}},this.gerSysUpContent=function(){var t=e.props,a=t.syncTree,n=t.DragWidthCom,s=a.createSyncTree,l=e.state,i=l.currStep;l.curPro1;return r.default.createElement("div",{className:"sys-up-content"},r.default.createElement("ul",{className:"step-items"},r.default.createElement("li",{className:0==i?"sel-step":""},e.state.json["109990BCM-000014"]),r.default.createElement("li",{className:0!=i?"sel-step":""},e.state.json["109990BCM-000015"])),0==i?r.default.createElement(o.Fragment,null,r.default.createElement(n,{leftDom:r.default.createElement("div",{className:"to-instal-contain"},r.default.createElement("p",{className:"sys-tip"},e.state.json["109990BCM-000016"]),s({treeId:"toBeInstall",showLine:!0,checkable:!0,needEdit:!1,checkStrictly:!1,defaultExpandAll:!0,onCheckEve:e.onToInstallTreeCheck,onSelectEve:e.onSelectEve.bind(e),onMouseEnterEve:e.onMouseEnterEve.bind(e,"toBeInstall")})),rightDom:r.default.createElement("div",{className:"installed-contain"},r.default.createElement("p",{className:"sys-tip"},e.state.json["109990BCM-000017"]),s({treeId:"installed",defaultExpandAll:!1,showLine:!0,onMouseEnterEve:e.onMouseEnterEve.bind(e,"installed")})),defLeftWid:"45%"})):r.default.createElement("div",{className:"installed-containprogress"},r.default.createElement("p",null,r.default.createElement("span",null,e.state.currSubstep)),r.default.createElement("p",null,e.state.currDetail),r.default.createElement(h,{colors:"success",active:!0,now:e.state.subStepValue,label:e.state.subStepValue+"%"}),r.default.createElement("p",null,e.state.moduleName),r.default.createElement(h,{colors:"success",active:!0,now:e.state.moduleValue,label:e.state.moduleValue+"%"}),r.default.createElement("p",null,e.state.productName),r.default.createElement(h,{colors:"success",active:!0,now:e.state.productValue,label:e.state.productValue+"%"})))},this.getProgress=function(){var t=e;(0,u.ajax)({url:"/nccloud/riasm/bcmanage/DBInstall.do",sysAppcode:b,loading:!1,success:function(e){var a=e.data;if("continue"==e.data)setTimeout((function(){t.getProgress()}),1500);else{if("true"==a.error){var n=null!=e.data.errMessage&&""!=e.data.errMessage?e.data.errMessage:"升级过程中出现运行时异常，可能出现类丢失，详情请查看日志";return void(0,u.promptBox)({content:n,color:"warning",beSureBtnClick:function(){t.setState({currStep:1}),t.props.modal.close("sysUp")}})}e.data&&e.data.productValue<=100&&e.data.SubStepValue<=100&&(t.setState({subStepValue:e.data.currSubstep}),t.setState({subStepValue:e.data.SubStepValue}),t.setState({moduleValue:e.data.moduleValue}),t.setState({productValue:e.data.productValue}),t.setState({currDetail:e.data.currDetail}),t.setState({moduleName:e.data.moduleName}),t.setState({productName:e.data.productName}),100==e.data.productValue&&100==e.data.SubStepValue&&(t.setState({moduleValue:100}),t.setState({currStep:3})),(e.data.productValue<100||e.data.SubStepValue<100)&&setTimeout((function(){t.getProgress()}),1500))}},error:function(e){(0,u.toast)({color:"danger",content:t.state.json["109990BCM-000043"]})}})},this.completeInstall=function(){var t=e;(0,u.promptBox)({title:t.state.json["109990BCM-000005"],content:t.state.json["109990BCM-000006"],color:"warning",beSureBtnClick:function(){var e;t.setState({currStep:0}),t.props.modal.close("sysUp"),t.props.button.setButtonVisible((f(e={modify:!!t.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),f(e,"save",!1),f(e,"cancel",!1),e)),t.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),t.initSysListTable()},cancelBtnClick:function(){var e;t.setState({currStep:0}),t.props.modal.close("sysUp"),t.props.button.setButtonVisible((f(e={modify:!!t.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),f(e,"save",!1),f(e,"cancel",!1),e)),t.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),t.initSysListTable()}})},this.saveProps=function(){var t=e,a=(e.props.modal,e.props.editTable.getChangedRows("sysListTable"));if(0!=a.length){var n=[];a.map((function(e){e.values.mainLang&&n.push(e.values.mainLang.value),e.values.oneLang&&n.push(e.values.oneLang.value),e.values.secLang&&n.push(e.values.secLang.value),e.values.thirLang&&n.push(e.values.thirLang.value),e.values.forthLang&&n.push(e.values.forthLang.value),e.values.fifLang&&n.push(e.values.fifLang.value)}));var s={areaType:"table",areacode:null,rows:a};(0,u.ajax)({url:"/nccloud/riasm/bcmanage/BCManageAdd.do",data:{dataTable:{dataTable:s},langCode:{langCode:n}},sysAppcode:"109990BCM",success:function(a){var n,s=a.success,l=a.data;s&&("install"==l?(0,u.toast)({color:"danger",content:t.state.json["109990BCM-000062"]}):(t.props.editTable.setStatus("sysListTable","browse"),t.props.button.setButtonVisible((f(n={modify:!!t.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),f(n,"save",!1),f(n,"cancel",!1),n)),t.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),(0,u.toast)({color:"info",content:t.state.json["109990BCM-000046"]}),e.initSysListTable()))},error:function(e){(0,u.toast)({color:"danger",content:e.message})}})}},this.onToInstallTreeCheck=function(t,a,n){console.log(e.state.codeDepend);var s=a.length?e.gerChildCheckedPks(n.checkedNodes):[],l=n.checked||!1;s=e.selectDependCode(t,a,l,s),e.setState({childChecked:s}),s.map((function(e){new Set(a).has(e)||a.push(e)})),t.syncTree.setNodeChecked("toBeInstall",Array.from(a))},this.onSelectEve=function(e,t,a){t.isleaf?t.refname=t.name+" "+t.refcode+t.values.moduleChildInfo.version:t.refname=t.name+" "+t.refcode+t.values.hm.version},this.selectDependCode=function(t,a,n,s){var l=[],o=e.state.codeDepend;return e.selectCode(t,a,o,l),console.log(Array.from(l)),Array.from(l)},this.selectCode=function(t,a,n,s){a.map((function(a){var l=t.syncTree.getSyncTreeValue("toBeInstall",a),o=new Set(s);if(null==l||null==l||l.disabled||!l.isleaf||o.has(a)||s.push(a),null!=l&&null!=l&&!l.disabled&&!l.isleaf){var r=[];l.children.map((function(e){r.push(e.refpk)})),e.selectCode(t,r,n,s)}null!=l&&null!=l&&!l.disabled&&n.hasOwnProperty(a)&&e.selectCode(t,n[a],n,s)}))},this.deleteCode=function(t,a,n,s){var l=n[a];null!=l&&0!=l.length&&l.map((function(a){e.ifconclude(a,s,n)&&s.has(a)&&(s.delete(a),e.deleteCode(t,a,n,s))}))},this.ifconclude=function(e,t,a){var n=!0;for(var s in a){var l=new Set(a[s]);if(null!=a[s]&&l.has(e)&&t.has(s))return n=!1}return n},this.gerChildCheckedPks=function(e){var t=[];return e.map((function(e){e.props.children||0!=e.props.disabled||t.push(e.props.refpk)})),t},this.cancelUpSys=function(){var t=e;(0,u.promptBox)({title:e.state.json["109990BCM-000000"],content:e.state.json["109990BCM-000007"],color:"warning",beSureBtnClick:function(){var a;e.props.modal.close("sysUp"),t.props.button.setButtonVisible((f(a={modify:!!t.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),f(a,"save",!1),f(a,"cancel",!1),a)),t.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),e.initSysListTable()},closeByClickBackDrop:!1})},this.toInstallUp=function(){var t=e.state.childChecked,a=e,n=e.props.editTable.getClickRowIndex("sysListTable").record.values.dataSourceName.value,s=e.props.editTable.getChangedRows("sysListTable");0==s.length&&(s=[a.props.editTable.getClickRowIndex("sysListTable").record]);var l={areaType:"table",areacode:null,rows:s},o=[];s.map((function(e){e.values.mainLang&&null!=e.values.mainLang.value&&""!=e.values.mainLang.value&&o.push(e.values.mainLang.value),e.values.oneLang&&null!=e.values.oneLang.value&&""!=e.values.oneLang.value&&o.push(e.values.oneLang.value),e.values.secLang&&null!=e.values.secLang.value&&""!=e.values.secLang.value&&o.push(e.values.secLang.value),e.values.thirLang&&null!=e.values.thirLang.value&&""!=e.values.thirLang.value&&o.push(e.values.thirLang.value),e.values.forthLang&&null!=e.values.forthLang.value&&""!=e.values.forthLang.value&&o.push(e.values.forthLang.value),e.values.fifLang&&null!=e.values.fifLang.value&&""!=e.values.fifLang.value&&o.push(e.values.fifLang.value)})),(0,u.ajax)({url:"/nccloud/riasm/bcmanage/DBCreateProgressID.do",data:{childChecked:t,dsName:n,dataTable:{dataTable:l},langCode:{langCode:o}},sysAppcode:b,success:function(t){var n=t.success;n&&(a.setState({currStep:2}),e.getProgress())},error:function(e){(0,u.toast)({color:"danger",content:a.state.json["109990BCM-000009"]})}})}},n),y=(0,u.createPage)({})(m);i.default.render(r.default.createElement(y,null),document.querySelector("#app"))},233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this,a=function(a,n,l){var o={};o={langListTable:{moduletype:"table",items:[{label:a["109990BCM-000022"],attrcode:"langCode",visible:!0,itemtype:"label"},{label:a["109990BCM-000023"],attrcode:"langName",visible:!0,itemtype:"label"}]},sysListTable:{moduletype:"table",pagination:!0,status:"browse",items:[{attrcode:"isLocked",visible:!0,itemtype:"customer",width:24,render:function(e,t,a){return t.values.isLocked&&1==t.values.isLocked.value?React.createElement("p",null,React.createElement("i",{className:"icon iconfont icon-zhuyi1"})):React.createElement("p",null)}},{label:"pk锁",attrcode:"pk_busicenter",visible:!1,itemtype:"label"},{label:a["109990BCM-000024"],attrcode:"code",visible:!0,itemtype:"input"},{label:a["109990BCM-000025"],attrcode:"name",visible:!0,itemtype:"input"},{label:a["109990BCM-000026"],attrcode:"effectDate",visible:!0,itemtype:"datepicker"},{label:a["109990BCM-000027"],attrcode:"expireDate",visible:!0,itemtype:"datepicker"},{label:a["109990BCM-000028"],attrcode:"dataSourceName",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000029"],attrcode:"mainLang",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000030"],attrcode:"oneLang",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000031"],attrcode:"secLang",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000032"],attrcode:"thirLang",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000033"],attrcode:"forthLang",visible:!0,itemtype:"select",options:[]},{label:a["109990BCM-000034"],attrcode:"fifLang",visible:!0,itemtype:"select",options:[]}]}};var r={label:a["109990BCM-000035"],attrcode:"opr",itemtype:"customer",visible:!0,fixed:"right",render:function(e,n,l){return React.createElement("div",null,React.createElement(s,{trigger:"click",placement:"top",content:a["109990BCM-000036"],onClose:t.delRow.bind(t,e,n,l)},React.createElement("span",{style:{color:"#007ace",cursor:"pointer"}},a["109990BCM-000042"])))}};o.sysListTable.items.push(r),e.meta.setMeta(o);var i={sysButtons:[{id:"0001A41000000006J5B1",type:"main",key:"add",title:a["109990BCM-000037"],area:"page_header",children:[]},{id:"0001A41000000006J5B1",key:"modify",title:a["109990BCM-000038"],visible:!1,area:"page_header",children:[]},{id:"0001A41000000006J5B1",key:"save",title:a["109990BCM-000039"],area:"page_header",children:[]},{id:"0001A41000000006J5B1",key:"cancel",title:a["109990BCM-000018"],area:"page_header",children:[],visible:!1},{id:"0001A41000000006J5B1",key:"upSys",title:a["109990BCM-000040"],area:"page_header",children:[]},{id:"0001A41000000006J5B1",key:"lock",title:a["109990BCM-000041"],area:"page_header",children:[]},{id:"0001A41000000006J5B1",key:"upLang",title:a["109990BCM-000013"],area:"page_header",children:[]}]};e.button.setButtons(i.sysButtons)};e.MultiInit.getMultiLang({moduleId:"109990BCM",domainName:"uap",callback:a})};var n=a(10),s=n.base.NCPopconfirm;n.base.NCInput},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onBtnClick=t.afterEvent=t.beforeEvent=void 0;var n=o(a(235)),s=o(a(236)),l=o(a(237));function o(e){return e&&e.__esModule?e:{default:e}}t.beforeEvent=s.default,t.afterEvent=n.default,t.onBtnClick=l.default},235:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,s,l,o){}},236:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,s,l){if("modify"==this.btnStuatus){var o=this.state.langsByHome[l.values.code.value],r=[];if(o.map((function(e){r.push(e.langseq)})),["code"].includes(a.attrcode))return!1;if(r.includes("1")&&["mainLang"].includes(a.attrcode))return!1;if(r.includes("2")&&["oneLang"].includes(a.attrcode))return!1;if(r.includes("3")&&["secLang"].includes(a.attrcode))return!1;if(r.includes("4")&&["thirLang"].includes(a.attrcode))return!1;if(r.includes("5")&&["forthLang"].includes(a.attrcode))return!1;if(r.includes("6")&&["fifLang"].includes(a.attrcode))return!1}return!0}},237:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){e.modal;switch(t){case"add":this.btnStuatus="add";var r=this.state.homeAllLang,i=0,c=["mainLang","oneLang","secLang"],d={};null!=r&&r.map((function(e){d[c[i]]={display:e.displayName,value:e.code},i++})),e.editTable.addRow("sysListTable",e.editTable.getAllRows("sysListTable").length,!0,d);var p=this.props.editTable.getAllRows("sysListTable"),f=[];p.map((function(e){null!=e.values.pk_busicenter.value&&""!=e.values.pk_busicenter.value&&f.push(e.rowid)})),this.props.editTable.setEditableRowByRowId("sysListTable",f,!1),function(e,t){(0,n.ajax)({url:"/nccloud/riasm/bcmanage/BCManageLoad.do",data:"SystemUser",sysAppcode:"109990BCM",success:function(a){var n=a.success,s=a.data;n&&(e.setState({homeAllLang:s.homeAllLang}),e.setState({allDataSource:s.allDataSource}),e.setState({langsByHome:s.langsByHome}),function(e,t,a){var n=a.meta.getMeta().sysListTable.items,s=[],l=[];e.map((function(e){var t={display:e,value:e};s.push(t)})),t.map((function(e){var t={display:e.displayName,value:e.code};l.push(t)})),n.map((function(e){"dataSourceName"==e.attrcode?e.options=s:"mainLang"==e.attrcode?e.options=l:"oneLang"==e.attrcode?e.options=l:"secLang"==e.attrcode?e.options=l:"thirLang"==e.attrcode?e.options=l:"forthLang"==e.attrcode?e.options=l:"fifLang"==e.attrcode&&(e.options=l)}))}(s.canChangeDataSource,s.homeAllLang,t))},error:function(e){(0,n.toast)({color:"danger",content:e.message})}})}(this,e),e.button.setButtonVisible({add:!1,modify:!1,save:!0,cancel:!0}),e.button.setButtonVisible({lock:!1,upLang:!1,upSys:!1}),e.button.setMainButton("save",!0);break;case"lock":if(null==this.props.editTable.getClickRowIndex("sysListTable")||""==this.props.editTable.getClickRowIndex("sysListTable"))return void(0,n.toast)({color:"danger",content:this.state.json["109990BCM-000047"]});var v=e.editTable.getClickRowIndex("sysListTable").record.values.isLocked.value;e.editTable.getClickRowIndex("sysListTable").record.values.isLocked.value=!v,e.editTable.getClickRowIndex("sysListTable").record.status=1;var g=e.editTable.getChangedRows("sysListTable");o.call(this,e,g,!v);break;case"modify":if(null==this.props.editTable.getClickRowIndex("sysListTable")||""==this.props.editTable.getClickRowIndex("sysListTable"))return void(0,n.toast)({color:"danger",content:this.state.json["109990BCM-000048"]});this.btnStuatus="modify",e.editTable.setStatus("sysListTable","edit"),e.button.setButtonVisible({add:!1,modify:!1,save:!0,cancel:!0}),e.button.setButtonVisible({lock:!1,upLang:!1,upSys:!1}),e.button.setMainButton("save",!0);break;case"save":var h=e.editTable.getChangedRows("sysListTable");if(h.length>0&&h&&1==h[0].status)o.call(this,e,h,"save");else if(h.length>0&&h&&2==h[0].status)u.call(this,e,!1);else{var b;this.props.editTable.setStatus("sysListTable","browse"),this.props.button.setButtonVisible((s(b={modify:!!this.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),s(b,"save",!1),s(b,"cancel",!1),b)),this.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0})}break;case"cancel":(0,n.promptBox)({title:this.state.json["109990BCM-000000"],content:this.state.json["109990BCM-000001"],color:"warning",beSureBtnClick:function(){e.editTable.setStatus("sysListTable","browse"),e.editTable.cancelEdit("sysListTable"),e.button.setButtonVisible({modify:!!e.editTable.getAllRows("sysListTable").length,add:!0,save:!1,cancel:!1}),e.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),e.button.setMainButton("add",!0)},closeByClickBackDrop:!1});break;case"upLang":if(null==this.props.editTable.getClickRowIndex("sysListTable")||""==this.props.editTable.getClickRowIndex("sysListTable"))return void(0,n.toast)({color:"danger",content:this.state.json["109990BCM-000049"]});var m=this.props.editTable.getClickRowIndex("sysListTable").record.values.code.value,y=this.state.langsByHome[m],L=(this.state.homeAllLang,[]);y.map((function(e){var t={status:"0",isOptimized:!1,values:{langCode:{display:e.langcode,value:e.langcode},langName:{display:e.dislpayname,value:e.langcode}}};L.push(t)})),e.table.setAllTableData("langListTable",{areacode:"langListTable",pageInfo:{pageIndex:"0",pageSize:"10",total:"2",totalPage:"1"},rows:L}),e.modal.show("langUp");break;case"upSys":if(null==this.props.editTable.getClickRowIndex("sysListTable")||""==this.props.editTable.getClickRowIndex("sysListTable"))return void(0,n.toast)({color:"danger",content:this.state.json["109990BCM-000050"]});if(this.setState({currStep:0,subStepValue:0,moduleValue:0,productValue:0,childChecked:[]}),l(this,this.props.editTable.getClickRowIndex("sysListTable").record.values))return;this.initSysInstallTree()}};var n=a(10);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=!1,s=new Map;if(t.code&&(null==t.code.value||""==t.code.value))return a=!0,(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000051"]}),a;if(t.name&&(null==t.name.value||""==t.name.value))return a=!0,(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000052"]}),a;if(t.effectDate&&(null==t.effectDate.value||""==t.effectDate.value))return a=!0,(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000053"]}),a;if(t.expireDate&&(null==t.expireDate.value||""==t.expireDate.value))return(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000054"]}),a=!0;var l=t.effectDate.value.split(" "),o=t.expireDate.value.split(" "),i=l[0].replace("-",""),u=o[0].replace("-","");if(i=i.replace("-",""),u=u.replace("-",""),parseInt(i)>parseInt(u))return(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000055"]}),a=!0;if(t.dataSourceName&&(null==t.dataSourceName.value||""==t.dataSourceName.value))return(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000056"]}),a=!0;if(t.mainLang&&(null==t.mainLang.value||""==t.mainLang.value))return(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000057"]}),a=!0;if(t.mainLang&&null!=t.mainLang.value&&""!=t.mainLang.value){if(s.has(t.mainLang.value))return r(e),a=!0;s.set(t.mainLang.value,t.mainLang.value)}if(t.oneLang&&null!=t.oneLang.value&&""!=t.oneLang.value){if(s.has(t.oneLang.value))return r(e),a=!0;s.set(t.oneLang.value,t.oneLang.value)}if(t.secLang&&null!=t.secLang.value&&""!=t.secLang.value){if(s.has(t.secLang.value))return r(e),a=!0;s.set(t.secLang.value,t.secLang.value)}if(t.thirLang&&null!=t.thirLang.value&&""!=t.thirLang.value1){if(s.has(t.thirLang.value))return r(e),a=!0;s.set(t.thirLang.value,t.thirLang.value)}if(t.forthLang&&null!=t.forthLang.value&&""!=t.forthLang.value){if(s.has(t.forthLang.value))return r(e),a=!0;s.set(t.forthLang.value,t.forthLang.value)}if(t.fifLang&&null!=t.fifLang.value&&""!=t.fifLang.value){if(s.has(t.fifLang.value))return r(e),a=!0;s.set(t.fifLang.value,t.fifLang.value)}return a}function o(e,t,a){var o=this,r=[],u=!1,d=e.editTable.getClickRowIndex("sysListTable").record.values.isLocked.value;if(!(u=i(o,e))&&(t.map((function(e){u=l(o,e.values);var t=e.values.effectDate.value.split(" "),a=e.values.expireDate.value.split(" ");e.values.effectDate.value=t[0]+" 00:00:00",e.values.expireDate.value=a[0]+" 00:00:00",e.values.mainLang&&null!=e.values.mainLang.value&&""!=e.values.mainLang.value?r.push(e.values.mainLang.value):r.push(""),e.values.oneLang&&null!=e.values.oneLang.value&&""!=e.values.oneLang.value?r.push(e.values.oneLang.value):r.push(""),e.values.secLang&&null!=e.values.secLang.value&&""!=e.values.secLang.value?r.push(e.values.secLang.value):r.push(""),e.values.thirLang&&null!=e.values.thirLang.value&&""!=e.values.thirLang.value?r.push(e.values.thirLang.value):r.push(""),e.values.forthLang&&null!=e.values.forthLang.value&&""!=e.values.forthLang.value?r.push(e.values.forthLang.value):r.push(""),e.values.fifLang&&null!=e.values.fifLang.value&&""!=e.values.fifLang.value?r.push(e.values.fifLang.value):r.push("")})),!u)){var p={areaType:"table",areacode:null,rows:t};(0,n.ajax)({url:"/nccloud/riasm/bcmanage/BCManageUpdata.do",data:{dataTable:{dataTable:p},langCode:{langCode:r},isLock:{isLock:d}},sysAppcode:"109990BCM",success:function(e){var t,l=e.success;e.data;l&&(o.props.editTable.setStatus("sysListTable","browse"),o.props.button.setButtonVisible((s(t={modify:!!o.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),s(t,"save",!1),s(t,"cancel",!1),t)),"save"==a?(0,n.toast)({color:"info",content:o.state.json["109990BCM-000046"]}):a?(0,n.toast)({color:"info",content:"账套已锁定"}):(0,n.toast)({color:"info",content:"账套已解锁"}),o.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),c(o))},error:function(e){(0,n.toast)({color:"danger",content:e.message})}})}}function r(e){(0,n.toast)({color:"danger",content:e.state.json["109990BCM-000058"]})}function i(e,t){var a=new Map,s=new Map,l=!1;return t.editTable.getAllRows("sysListTable").map((function(t){return a.has(t.values.code.value)?((0,n.toast)({color:"danger",content:e.state.json["109990BCM-000059"]}),void(l=!0)):s.has(t.values.name.value)?((0,n.toast)({color:"danger",content:e.state.json["109990BCM-000060"]}),void(l=!0)):(a.set(t.values.code.value,t.values.code.value),void s.set(t.values.name.value,t.values.name.value))})),l}function u(e,t){var a=this,o=this;o.setState({currStep:0,subStepValue:0,moduleValue:0,productValue:0,childChecked:[]});this.props.modal;var r=e.editTable.getChangedRows("sysListTable"),u=[],d=!1;if(!(d=i(o,e))&&(r.map((function(e){if(!(d=l(o,e.values))){var t=e.values.effectDate.value.split(" "),a=e.values.expireDate.value.split(" ");e.values.effectDate.value=t[0]+" 00:00:00",e.values.expireDate.value=a[0]+" 00:00:00",e.values.mainLang&&null!=e.values.mainLang.value&&""!=e.values.mainLang.value&&u.push(e.values.mainLang.value),e.values.oneLang&&null!=e.values.oneLang.value&&""!=e.values.oneLang.value&&u.push(e.values.oneLang.value),e.values.secLang&&null!=e.values.secLang.value&&""!=e.values.secLang.value&&u.push(e.values.secLang.value),e.values.thirLang&&null!=e.values.thirLang.value&&""!=e.values.thirLang.value&&u.push(e.values.thirLang.value),e.values.forthLang&&null!=e.values.forthLang.value&&""!=e.values.forthLang.value&&u.push(e.values.forthLang.value),e.values.fifLang&&null!=e.values.fifLang.value&&""!=e.values.fifLang.value&&u.push(e.values.fifLang.value)}})),!d)){var p={areaType:"table",areacode:null,rows:r};(0,n.ajax)({url:"/nccloud/riasm/bcmanage/BCManageAdd.do",data:{dataTable:{dataTable:p},langCode:{langCode:u},continueFlg:{continueFlg:t}},sysAppcode:"109990BCM",success:function(t){var l=t.success,r=t.data;if(l){if("busy"==r)return void(0,n.promptBox)({title:"注意",content:"您所新增账套的数据源正在升级，是否终止升级，继续新增？",color:"warning",beSureBtnClick:function(){!function(e,t,a){var l=e;l.setState({currStep:0,subStepValue:0,moduleValue:0,productValue:0,childChecked:[]});l.props.modal;var o=t.editTable.getChangedRows("sysListTable"),r=[];o.map((function(e){var t=e.values.effectDate.value.split(" "),a=e.values.expireDate.value.split(" ");e.values.effectDate.value=t[0]+" 00:00:00",e.values.expireDate.value=a[0]+" 00:00:00",e.values.mainLang&&null!=e.values.mainLang.value&&""!=e.values.mainLang.value&&r.push(e.values.mainLang.value),e.values.oneLang&&null!=e.values.oneLang.value&&""!=e.values.oneLang.value&&r.push(e.values.oneLang.value),e.values.secLang&&null!=e.values.secLang.value&&""!=e.values.secLang.value&&r.push(e.values.secLang.value),e.values.thirLang&&null!=e.values.thirLang.value&&""!=e.values.thirLang.value&&r.push(e.values.thirLang.value),e.values.forthLang&&null!=e.values.forthLang.value&&""!=e.values.forthLang.value&&r.push(e.values.forthLang.value),e.values.fifLang&&null!=e.values.fifLang.value&&""!=e.values.fifLang.value&&r.push(e.values.fifLang.value)}));var i={areaType:"table",areacode:null,rows:o};(0,n.ajax)({url:"/nccloud/riasm/bcmanage/BCManageAdd.do",data:{dataTable:{dataTable:i},langCode:{langCode:r},continueFlg:{continueFlg:a}},sysAppcode:"109990BCM",success:function(e){var t,a=e.success,o=e.data;a&&("install"==o?(0,n.toast)({color:"info",content:"数据库未升级完成，请稍后重试"}):(l.props.editTable.setStatus("sysListTable","browse"),l.props.button.setButtonVisible((s(t={modify:!!l.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),s(t,"save",!1),s(t,"cancel",!1),t)),(0,n.toast)({color:"info",content:l.state.json["109990BCM-000046"]}),l.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),c(l)))},error:function(e){(0,n.toast)({color:"danger",content:e.message})}})}(o,e,!0)},cancelBtnClick:function(){var e;o.props.editTable.setStatus("sysListTable","browse"),o.props.button.setButtonVisible((s(e={modify:!!o.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),s(e,"save",!1),s(e,"cancel",!1),e)),o.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),c(o)}});var i;"install"==r?a.initSysInstallTree():(o.props.editTable.setStatus("sysListTable","browse"),o.props.button.setButtonVisible((s(i={modify:!!o.props.editTable.getAllRows("sysListTable").length,add:!0},"modify",!0),s(i,"save",!1),s(i,"cancel",!1),i)),(0,n.toast)({color:"info",content:o.state.json["109990BCM-000046"]}),o.props.button.setButtonVisible({lock:!0,upLang:!0,upSys:!0}),c(o))}},error:function(e){(0,n.toast)({color:"danger",content:e.message})}})}}function c(e){(0,n.ajax)({url:"/nccloud/riasm/bcmanage/BCManageLoad.do",data:"SystemUser",sysAppcode:"109990BCM",success:function(t){var a=t.success,n=t.data;if(a){e.setState({homeAllLang:n.homeAllLang}),e.setState({allDataSource:n.allDataSource}),e.setState({langsByHome:n.langsByHome});var s={areacode:"psndoc_list",pageInfo:{pageIndex:"0",pageSize:"10",total:"2",totalPage:"1"},rows:null!=n.rows&&n.rows.length>0?n.rows:[]};e.props.editTable.setTableData("sysListTable",s),e.setDsAndLangList(n.canChangeDataSource,n.homeAllLang),e.setButtonStatus(e.props.button,"browse"),e.props.editTable.setStatus("sysListTable","browse")}},error:function(e){(0,n.toast)({color:"danger",content:e.message})}})}},238:function(e,t,a){var n=a(239);"string"==typeof n&&(n=[[e.i,n,""]]);var s={transform:void 0};a(12)(n,s);n.locals&&(e.exports=n.locals)},239:function(e,t,a){(e.exports=a(11)(!1)).push([e.i,".sys-manager .left-list {\n  padding: 15px 0 0 15px;\n  font-size: 20px;\n}\n.sys-manager h3 {\n  padding-bottom: 5px;\n  font-size: 16px;\n  border-bottom: 1px solid #ddd;\n}\n.sys-manager .card-area {\n  padding: 15px 0 0 15px;\n}\n.sysUp .u-modal-body {\n  overflow: hidden !important;\n}\n.sys-up-content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 525px;\n}\n.sys-up-content .step-items {\n  width: 150px;\n  line-height: 2;\n  border-right: 1px solid #ddd;\n}\n.sys-up-content .sel-step {\n  font-size: 20px;\n  color: #4CAF50;\n}\n@media screen and (min-width: 1400px) {\n  .sys-up-content .to-instal-contain .syncTreeCom {\n    width: 100%;\n    height: 482px;\n  }\n}\n@media screen and (max-width: 1400px) {\n  .sys-up-content .to-instal-contain .syncTreeCom {\n    width: 100%;\n    height: 380px;\n  }\n}\n@media screen and (min-width: 1400px) {\n  .sys-up-content .installed-contain .syncTreeCom {\n    width: 100%;\n    height: 482px;\n  }\n}\n@media screen and (max-width: 1400px) {\n  .sys-up-content .installed-contain .syncTreeCom {\n    width: 100%;\n    height: 380px;\n  }\n}\n.sys-up-content .installed-containprogress {\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n@media screen and (min-width: 1400px) {\n  .sys-up-content .installed-containprogress .syncTreeCom {\n    width: 100%;\n    height: 482px;\n  }\n}\n@media screen and (max-width: 1400px) {\n  .sys-up-content .installed-containprogress .syncTreeCom {\n    width: 100%;\n    height: 380px;\n  }\n}\n.sys-up-content #app {\n  max-width: 100% !important;\n}\n.sys-up-content .syncTreeCom .NC_syncTreeSearch {\n  margin-bottom: 10px;\n  position: relative;\n  -webkit-box-flex: 0;\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  margin-left: 8px;\n}\n.sys-tip {\n  margin: 10px;\n}\n.dragWidthCom .dragWidthCom_left {\n  min-width: 50px;\n  height: 100%;\n  overflow: hidden;\n}\n.dragWidthCom .dragWidthCom_right {\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n}\n",""])},9:function(e,a){e.exports=t}})}));
//# sourceMappingURL=index.b320973c.js.map