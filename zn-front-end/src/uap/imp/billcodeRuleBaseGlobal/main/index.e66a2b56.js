/*! @ncctag {"date":"2020-5-11 23:37:19"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/imp/billcodeRuleBaseGlobal/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/imp/billcodeRuleBaseGlobal/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,a){return function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=281)}({1:function(t,a){t.exports=e},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(n,l({},s,e))};var n=a(1).high.Refer,s=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},2:function(e,a){e.exports=t},217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000202",rootNode:{refname:"refer-000202",refpk:"root"},refCode:"uapbd.org.BusinessUnitWithGlobleAndCurrGropTreeRef",placeholder:"refer-000202",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitWithGlobleAndCurrGropTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:s.conf,isShowUnit:!1};return React.createElement(o,l({},t,e))};var n=a(1),s=a(167),o=n.high.Refer},218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryGridUrl:"/nccloud/riart/ref/groupRefTableAction.do",refType:"grid",columnConfig:[{name:["1880000025-000002","1880000025-000003"],code:["refcode","refname"]}],refName:"1880000025-000061",placeholder:"1880000025-000061"};return React.createElement(n,l({},t,e))};var n=a(1).high.Refer},281:function(e,t,a){"use strict";var l,n,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(2),i=b(r),u=b(a(5)),d=a(1),c=a(282);a(290);var p=b(a(217)),f=b(a(218));function b(e){return e&&e.__esModule?e:{default:e}}d.base.NCButton,d.base.NCPopconfirm,d.base.NCIcon,d.base.NCMessage;var v=d.base.NCTabs,m=d.base.NCRadio,g=d.base.NCFormControl,h=d.base.NCTZDatePickClientHourTime,y=v.NCTabPane,B=d.high.Refer,C=(l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.call(a),a.props=e;var l=a.props,s=(l.form,l.button,l.table,l.syncTree.setSyncTreeData);return a.markstr_values=[],a.setSyncTreeData=s,a.state={showHide:!1,editTree:!1,currentGroupRefValue:{refname:"",refpk:""},GroupValue:{refname:"",refpk:""},pk_global:"GLOBLE00000000000000",editSaveHandleChange:"delete",snValue:"",str_ref_Value:"",str_ref_Value1:"",snGroupRefValue:"",buzzBeanValue:"",buzzBeanValue1:"",snTimeValue:"",isCLearAddSNPanelComp:!1,json:{},inlt:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1018-billcoderulebaseglobal",domainName:"uap",callback:function(t,a,l){a?e.setState({json:t,inlt:l}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){this.setGroupRefDefaultValue(this,!1),this.initBillCodeObjectTree(this)}},{key:"initBillCodeObjectTree",value:function(e){var t=null,a=e.state.currentGroupRefValue.refname,l=""==e.state.currentGroupRefValue.refpk?e.state.pk_global:e.state.currentGroupRefValue.refpk;(0,d.ajax)({loading:!0,url:"/nccloud/riacc/billcode/queryBillRuleTree.do",data:{name:a,pk_group:l},success:function(a){console.log(a),t=a.data,a.success?(e.props.form.cancel("billcodebase"),e.props.form.EmptyAllFormValue("billcodebase"),e.props.editTable.setTableData("elemsTable",{rows:[]}),e.props.editTable.setTableData("allotOrgTable",{rows:[]}),e.props.syncTree.setSyncTreeData("billcodeRuleBaseTree",t.rows),e.props.syncTree.setNodeSelected("billcodeRuleBaseTree","root"),e.props.syncTree.openNodeByPk("billcodeRuleBaseTree",e.state.currentGroupRefValue.refpk),e.props.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1})):(0,d.toast)({color:"warning",content:a.message})}})}},{key:"setGroupRefDefaultValue",value:function(e,t){(0,d.ajax)({async:!1,loading:!0,url:"/nccloud/riacc/billcode/getGroupDefaultValue.do",data:{pk_group:e.state.pk_global,isglobal:"Y"},success:function(a){console.log(a);var l=a.data;a.success?e.setState({GroupValue:{refname:l.name,refpk:l.pk_group},currentGroupRefValue:{refname:l.name,refpk:l.pk_group}},(function(){t&&e.initBillCodeObjectTree(e)})):(0,d.toast)({color:"warning",content:a.message})}})}},{key:"getEleCodeByKey",value:function(e){switch(e.values.elemtype.value){case"0":return e.values.elemvalue.value;case"1":case"4":return"#"+e.values.elemvalue.value+"#";case"2":var t=this.props.form.getFormItemsValue("billcodebase","format");return this.getNowFormatDate(t.value);case"3":var a=e.values.elemvalue;if(!this.props.form.getFormItemsValue("billcodebase","islenvar").value)return a&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==a.value?"A":"1";for(var l=parseInt(e.values.elemlenth.value),n="",s=0;s<l-1;s++)n+="0";return a&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==a.value?"A"+n:n+"1"}}},{key:"getNowFormatDate",value:function(e,t){var a,l={"M+":(a=t?new Date(t):new Date).getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),l)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?l[n]:("00"+l[n]).substr((""+l[n]).length)));return e}},{key:"onSaveCandidatePropsEvent",value:function(){var e=this;if("browse"!=e.props.editTable.getStatus("candidatePropsCardTable")&&e.props.syncTree.getSelectNode("billcodeObjTree").isleaf){var t=e.props.editTable.getAllData("candidatePropsCardTable"),a=e.props.editTable.getChangedRows("candidatePropsCardTable"),l={areaType:t.areaType,areacode:t.areacode,rows:a};(0,d.ajax)({loading:!0,url:"/nccloud/riart/billcodeobjreg/SaveCandidateProps.do",data:{data:l},success:function(t){t.success?e.props.editTable.setStatus("candidatePropsCardTable","browse",(function(){for(var l=0;l<t.data.length;l++)e.props.editTable.setValByKeyAndRowId("candidatePropsCardTable",a[l].rowid,"pk_billcodeentityrela",{value:t.data[l]})})):(0,d.toast)({color:"warning",content:t.message})},error:function(e){(0,d.toast)({color:"warning",content:e.message})}})}}},{key:"onRowClick",value:function(e,t,a,l){if("browse"!=this.props.form.getFormStatus("billcodebase")){var n=a.values.elemtype.value;"3"==n||"4"==n?(e.editTable.setEditableByKey(t,a.rowid,"elemlenth",!0),"4"==n&&(e.editTable.setEditableByKey(t,a.rowid,"fillsign",!0),e.editTable.setEditableByKey(t,a.rowid,"fillstyle",!0))):(e.editTable.setEditableByKey(t,a.rowid,"fillsign",!1),e.editTable.setEditableByKey(t,a.rowid,"fillstyle",!1),e.editTable.setEditableByKey(t,a.rowid,"elemlenth",!1))}}},{key:"snMaModalContent",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("div",{className:"sn_table"},this.props.editTable.createEditTable("snManageTable",{onAfterEvent:c.afterEvent,height:"240px",showCheck:!0,showIndex:!0,cancelCustomRightMenu:!0})),i.default.createElement("div",{className:"sn_button"},this.props.button.createButtonApp({area:"sn_button",buttonLimit:3,onButtonClick:function(t,a){e.snButtonClick(t,a)}})))}},{key:"eleAddAndEditModalContent",value:function(){return i.default.createElement("div",{style:{height:"418px"}},this.props.form.createForm("eleAddAndEdit",{onAfterEvent:this.onAfterEleAddAndEditFormEvent.bind(this)}))}},{key:"eleAddAndEditSureBtnClick",value:function(){if("add"==this.props.form.getFormStatus("eleAddAndEdit")){var e=this.props.form.getAllFormValue("eleAddAndEdit");e.rows[0].values.numberindex={display:"4",value:4},this.props.editTable.pasteRow("elemsTable",e.rows[0],-1)}}},{key:"snMaSureBtnClick",value:function(){var e=this,t=this.props.editTable.getChangedRows("snManageTable");if(t.length<1)this.props.modal.close("snManageModal");else{var a=[],l=/[0-9]/;for(var n in t)if(l.test(n)){var s=t[n].values.pk_billcodesn.value,o=t[n].values.lastsn.value;a[n]={pk_billcodesn:s,lastsn:o}}var r=this.props.editTable.getAllData("elemsTable").rows,i=0,u="";for(var c in r)l.test(c)&&"3"==r[c].values.elemtype.value&&(i=r[c].values.elemlenth.value,r[c].values.elemvalue&&(u=r[c].values.elemvalue.value));var p={pk_billcodesns:a,snlenth:i,snGeneratorString:u};(0,d.ajax)({loading:!0,url:"/nccloud/riacc/billcode/SaveLastSN.do",data:p,success:function(t){t.success?"1"==t.data.type?((0,d.toast)({color:"success",content:t.data.content}),e.props.modal.close("snManageModal")):"2"==t.data.type&&(0,d.toast)({color:"warning",content:t.data.content}):(0,d.toast)({color:"warning",content:t.message})},error:function(e){(0,d.toast)({color:"warning",content:e.message})}})}}},{key:"retMaModalContent",value:function(){return i.default.createElement("div",{style:{height:"418px"}},this.props.editTable.createEditTable("returnManageTable",{onAfterEvent:c.afterEvent,height:"350px",showCheck:!0,showIndex:!0,cancelCustomRightMenu:!0}))}},{key:"retMaSureBtnClick",value:function(){}},{key:"assignModalContent",value:function(){return i.default.createElement("div",{style:{height:"418px"}},i.default.createElement("div",{className:"assignTable"},i.default.createElement("div",{className:"unAssignOrg"},i.default.createElement("h1",null,"this.state.json['10180BCGDB-000127']"),"/* 国际化处理： 未分配组织*/",i.default.createElement("div",{className:"unAssignOrg_t"},this.props.editTable.createEditTable("unAssignOrgTable",{onAfterEvent:c.afterEvent,height:"380px",showCheck:!0,showIndex:!0,cancelCustomRightMenu:!0}))),i.default.createElement("div",{className:"assign"},i.default.createElement("div",{className:"assign_btn"},this.props.button.createButtonApp({area:"page_assign",onButtonClick:this.assignAssignBtnClick.bind(this),popContainer:document.querySelector(".assign-button-area")})),i.default.createElement("div",{className:"unAssign_btn"},this.props.button.createButtonApp({area:"page_unassign",onButtonClick:this.assignAssignBtnClick.bind(this),popContainer:document.querySelector(".assign-button-area")}))),i.default.createElement("div",{className:"assignOrg"},i.default.createElement("h1",null,this.state.json["10180BCGDB-000128"]),i.default.createElement("div",{className:"assignOrg_t"},this.props.editTable.createEditTable("assignOrgTable",{onAfterEvent:c.afterEvent,height:"380px",showCheck:!0,showIndex:!0,cancelCustomRightMenu:!0})))))}},{key:"assignSureBtnClick",value:function(e){var t=this.props.editTable.getAllRows("assignOrgTable"),a=this.props.editTable.getAllRows("unAssignOrgTable"),l=[],n=[],s=void 0,o=void 0,r=/[0-9]/,i=0;for(var u in t)r.test(u)&&"N"==t[u].values.isassign.value&&(l[i++]=t[u].values.pk_org.value,s||(s=t[u].values.pk_billcodebase.value,o=t[u].values.orgtype.value));var c=0;for(var p in a)r.test(p)&&"Y"==a[p].values.isassign.value&&(n[c++]=a[p].values.pk_org.value,s||(s=a[p].values.pk_billcodebase.value,o=a[p].values.orgtype.value));if(s){var f={add_pk_org:l,del_pk_org:n,pk_billcodebase:s,orgtype:o},b=this;(0,d.ajax)({loading:!0,url:"/nccloud/riacc/billcode/SaveAssignBillCodeRule.do",data:f,success:function(e){e.success?(b.props.editTable.setTableData("allotOrgTable",{rows:[]}),b.props.editTable.setTableData("allotOrgTable",{rows:t})):(0,d.toast)({color:"warning",content:e.message})},error:function(e){(0,d.toast)({color:"warning",content:e.message})}})}}},{key:"editSaveModalContent",value:function(){return i.default.createElement("div",{className:"content"},i.default.createElement("div",{className:"nc-theme-area-bgc"},i.default.createElement("span",{className:"nc-theme-common-font-c"},this.state.json["10180BCGDB-000129"]+":"+this.state.json["10180BCGDB-000130"]+"!"+this.state.json["10180BCGDB-000131"]+"？"),i.default.createElement("li",{className:"nc-theme-common-font-c"},this.state.json["10180BCGDB-000048"]+this.state.json["10180BCGDB-000132"]),i.default.createElement("li",{className:"nc-theme-common-font-c"},this.state.json["10180BCGDB-000120"]+this.state.json["10180BCGDB-000133"])),i.default.createElement(m.NCRadioGroup,{name:"fruit",selectedValue:this.state.editSaveHandleChange,onChange:this.editSaveHandleChange.bind(this)},i.default.createElement(m,{value:"delete"},this.state.json["10180BCGDB-000048"]),i.default.createElement(m,{value:"notdelete"},this.state.json["10180BCGDB-000120"])))}},{key:"onChangeGroupRef",value:function(e){var t=this;e.refpk||(e=this.state.GroupValue),this.setState({currentGroupRefValue:{refname:e.refname,refpk:e.refpk}},(function(){t.initBillCodeObjectTree(t)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.table,l=t.button,n=t.form,o=t.editTable,r=t.syncTree,u=t.modal,p=t.BillHeadInfo,f=o.createEditTable,b=n.createForm,m=(a.createSimpleTable,l.createButton,d.base.NCDiv),g=p.createBillHeadInfo,h=this.state,C=(h.activeKey,h.orderdateVal,r.createSyncTree);console.log(this.props);var _=u.createModal,T=this.props.DragWidthCom,D=i.default.createElement("div",{className:"tree-area"},C({needEdit:!1,treeId:"billcodeRuleBaseTree",needSearch:!0,onSelectEve:this.onSelectEve.bind(this),loadTreeData:this.loadTreeData.bind(this),editNodeCallBack:this.editNodeCallBack.bind(this),searchType:"filtration"})),k=i.default.createElement("div",{className:"table-area"},i.default.createElement("div",{className:"nc-bill-form-area"},b("billcodebase",{onAfterEvent:this.onAfterFormEvent.bind(this)})),i.default.createElement("div",{className:"nc-bill-tableTab-area"},i.default.createElement(v,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},i.default.createElement(y,{tab:this.state.json["10180BCGDB-000121"],key:"1"},this.getTableHead(),f("elemsTable",{onBeforeEvent:c.beforeEvent.bind(this),onAfterEvent:c.afterEvent.bind(this),onRowClick:this.onRowClick.bind(this),isAddRow:!1,cancelCustomRightMenu:!0})))));return i.default.createElement("div",{className:"nc-bill-tree-table"},i.default.createElement(m,{areaCode:m.config.HEADER},i.default.createElement("div",{className:"header"},g({title:this.state.json["10180BCGDB-000134"],initShowBackBtn:!1}),i.default.createElement("div",{className:" btn-group"},this.props.button.createButtonApp({area:"page_header",buttonLimit:6,onButtonClick:c.headerButtonClick.bind(this,(function(){e.setGroupRefDefaultValue(e,!0)})),popContainer:document.querySelector(".header-button-area")})))),_("modal"),_("assignModal",{title:this.state.json["10180BCGDB-000123"],content:this.assignModalContent(),beSureBtnClick:this.assignSureBtnClick.bind(this),userControl:!1,size:"xlg",noFooter:!1}),_("returnManageModal",{title:this.state.json["10180BCGDB-000051"],content:this.retMaModalContent(),beSureBtnClick:this.retMaSureBtnClick.bind(this),userControl:!1,size:"lg",noFooter:!1}),_("snManageModal",{title:this.state.json["10180BCGDB-000050"],content:this.snMaModalContent(),beSureBtnClick:this.snMaSureBtnClick.bind(this),userControl:!1,size:"lg",noFooter:!0,draggable:!0,resizable:!0}),_("addSnModal",{title:this.state.json["10180BCGDB-000060"],content:this.addSnModalContent(),beSureBtnClick:this.addSnSureBtnClick.bind(this),cancelBtnClick:this.cancelSnSureBtnBtnClick.bind(this),userControl:!0,size:"lg",noFooter:!1}),_("eleAddAndEditModal",{title:this.state.json["10180BCGDB-000046"],content:this.eleAddAndEditModalContent(),beSureBtnClick:this.eleAddAndEditSureBtnClick.bind(this),userControl:!1,size:"lg",noFooter:!1}),_("editSaveModal",{title:this.state.json["10180BCGDB-000124"],content:this.editSaveModalContent(),className:"junior",userControl:!1,size:"lg",noFooter:!1}),i.default.createElement("div",{className:"header"},i.default.createElement("div",{className:"titleContent nc-theme-common-font-c"},i.default.createElement("span",null,this.state.json["10180BCGDB-000154"])),i.default.createElement("div",{className:"contents"},i.default.createElement(B,s({},this.props,{fieldid:"bcorg_refer-window",refName:this.state.json["10180BCGDB-000125"],refCode:"AAA",queryTreeUrl:"/nccloud/riart/ref/OrgAndOrgTypeCompositeRef.do",refType:"tree",pageSize:50,popWindowClassName:"Org-Type-Composite-Ref",rootNode:{refname:this.state.json["10180BCGDB-000072"],refpk:"root"},isTreelazyLoad:!1,onlyLeafCanSelect:!0,onChange:this.onChangeGroupRef.bind(this),value:this.state.currentGroupRefValue,queryCondition:{isDataPowerEnable:!1,isglobal:"Y"},treeConfig:{name:[this.state.json["10180BCGDB-000114"],this.state.json["10180BCGDB-000115"]],code:["refcode","refname"]}})))),i.default.createElement("div",{className:"tree-table"},i.default.createElement(T,{leftDom:D,rightDom:k,defLeftWid:"20%"})))}}]),t}(r.Component),n=function(){var e=this;this.onSelectEve=function(t,a){var l=e,n=l.props.meta.getMeta();if(a.values&&n.elemsTable.items.map((function(e){if("elemvalue"==e.attrcode){var t=a.values.obj_metaid,l=a.values.pk_nbcr;e.queryCondition={metaid:t,pk_nbcr:l,isglobal:"Y"}}})),n.billcodebase.items.map((function(t){if(a.values&&"codemode"==t.attrcode&&("pre"==a.values.codestyle?(t.options=[{display:e.state.json["10180BCGDB-000065"],value:"pre"}],t.initialvalue={value:"pre",display:e.state.json["10180BCGDB-000065"]}):"after"==a.values.codestyle?(t.options=[{display:e.state.json["10180BCGDB-000066"],value:"after"}],t.initialvalue={display:e.state.json["10180BCGDB-000066"],value:"after"}):(t.options=[{display:e.state.json["10180BCGDB-000065"],value:"pre"},{display:e.state.json["10180BCGDB-000066"],value:"after"}],t.initialvalue={display:e.state.json["10180BCGDB-000065"],value:"pre"})),a.values&&"showformart"==t.attrcode){var l=e.getNowFormatDate("yyyyMMdd");t.initialvalue={value:l}}})),!a.values||!a.values.isbcrule||"Y"!=a.values.isbcrule)return a.values&&"Y"==a.values.isnodekey&&e.state.currentGroupRefValue.refpk==e.state.pk_global?e.props.button.setButtonVisible({add:!0,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}):e.props.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}),e.props.form.cancel("billcodebase"),e.props.form.EmptyAllFormValue("billcodebase"),void setTimeout((function(){e.props.editTable.setTableData("elemsTable",{rows:[]}),e.props.editTable.setTableData("allotOrgTable",{rows:[]})}),0);if(e.state.currentGroupRefValue.refpk!=e.state.pk_global?e.props.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0}):(e.props.button.setButtonVisible({add:!1,edit:!0,delete:!0,save:!1,cancel:!1,refresh:!0,defaultrule:!0,assign:!0,snmanage:!0,returnmanage:!0,export:!0}),a.values.isused?e.props.button.setButtonVisible({unlock:!1,lock:!0}):e.props.button.setButtonVisible({unlock:!0,lock:!1})),e.setState({showHideForm:!0}),a.values){n.eleAddAndEdit.items.map((function(e){if("elemvalue"==e.attrcode){var t=a.values.obj_metaid,l=a.values.pk_nbcr;e.queryCondition={metaid:t,pk_nbcr:l,isglobal:"Y"}}})),l.props.meta.setMeta(n);var s={pk_billcodebase:a.values.pk_billcodebase,obj_metaid:a.values.obj_metaid,pk_group:a.values.pk_group,pk_orgtype:a.values.orgtype};(0,d.ajax)({loading:!0,url:"/nccloud/riacc/billcode/queryRuleBaseInfo.do",data:s,success:function(e){var t=e.data;if(e.success){if(!t.billcodebase)return l.props.form.cancel("billcodebase"),void l.props.form.EmptyAllFormValue("billcodebase");l.props.form.setAllFormValue({billcodebase:t.billcodebase.billcodebase});var n=t.billcodebase.billcodebase.rows[0].values.format.value,s=l.getNowFormatDate(n);l.props.form.setFormItemsValue("billcodebase",{showformart:{display:s,value:s}},!1),l.props.editTable.setTableData("elemsTable",t.billcodeelems.billcodeelems),t.billcoderelaorgs?l.props.editTable.setTableData("allotOrgTable",t.billcoderelaorgs.billcoderelaorgs):l.props.editTable.setTableData("allotOrgTable",{rows:[]});var o=t.billcodeelems.billcodeelems.rows;l.initShowFormat(o,l);var r=l.props.form.getFormItemsValue("billcodebase","billcodelength");a.values.bclength<r.value&&(0,d.promptBox)({color:"warning",content:l.state.json["10180BCGDB-000105"]+a.values.bclength+l.state.json["10180BCGDB-000106"]})}else(0,d.toast)({color:"warning",content:e.message})},error:function(e){(0,d.toast)({color:"warning",content:e.message})}})}},this.initShowFormat=function(e,t){for(var a=0,l="",n=0;n<e.length;n++)"3"!=e[n].status&&(a+=parseInt(e[n].values.elemlenth.value),l+=t.getEleCodeByKey(e[n]));l=l.replace("##","#"),t.props.form.setFormItemsValue("billcodebase",{billcodelength:{display:a,value:a}},!1),t.props.form.setFormItemsValue("billcodebase",{showresult:{display:l,value:l}},!1)},this.editNodeCallBack=function(e,t,a){console.log(e,a)},this.loadTreeData=function(t,a){e.queryTreeData(t,a)},this.onAfterFormEvent=function(t,a,l,n){if("format"==l){var s=e.getNowFormatDate(n.value);e.props.form.setFormItemsValue("billcodebase",{showformart:{display:s,value:s}})}if("iseditable"==l&&n.value&&e.props.form.setFormItemsValue("billcodebase",{isautofill:{display:null,value:!1}}),"isautofill"==l&&n.value&&(e.props.form.setFormItemsValue("billcodebase",{iseditable:{display:null,value:!1}}),e.props.form.setFormItemsValue("billcodebase",{isgetpk:{display:null,value:!1}}),e.props.form.setFormItemsValue("billcodebase",{islenvar:{display:null,value:!0}})),"isgetpk"==l&&n.value&&e.props.form.setFormItemsValue("billcodebase",{isautofill:{display:null,value:!1}}),"islenvar"==l){n.value||e.props.form.setFormItemsValue("billcodebase",{isautofill:{display:null,value:!1}});var o=e.props.editTable.getAllRows("elemsTable");e.initShowFormat(o,e)}if("format"==l){var r=e.props.editTable.getAllRows("elemsTable");for(var i in r){var u=r[i].values;if(u&&"2"==u.elemtype.value){e.props.editTable.setValByKeyAndIndex("elemsTable",i,"isrefer",{value:"0",display:e.state.json["10180BCGDB-000011"]}),e.props.editTable.setValByKeyAndIndex("elemsTable",i,"elemlenth",{value:n.value.length,display:n.value.length});var d=e.props.editTable.getAllRows("elemsTable");e.initShowFormat(d,e);break}}}},this.snButtonClick=function(t,a){switch(console.log(a),a){case"addsn":t.modal.show("addSnModal");break;case"suresn":e.snMaSureBtnClick();break;case"cancelsn":t.modal.close("snManageModal")}},this.getSnBillCodeMarkStr=function(){var t="",a=e.props.form.getFormItemsValue("billcodebase","codescope"),l=e.props.editTable.getAllRows("elemsTable");if(("g"==a.value||"o"==a.value)&&(t+=e.state.snGroupRefValue.refpk,!e.state.snGroupRefValue.refpk))throw e.state.json["10180BCGDB-000107"];var n={index:0},s={index:0};for(var o in l){var r=l[o].values;if(!r)break;if("0"!=r.isrefer.value){var i=e.getElemMarkStr(r,n,s);t+=i.value,"2"!=r.fillstyle.value&&e.markstr_values.push(i)}if("3"==r.elemtype.value){if(e.state.snValue.length!=r.elemlenth.value)throw e.state.json["10180BCGDB-000108"]+r.elemlenth.value+e.state.json["10180BCGDB-000109"];if("nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==r.elemvalue.value){if(!/^[A-Z]{1}/.test(e.state.snValue))throw e.state.json["10180BCGDB-000000"]}}}return t},this.getElemMarkStr=function(t,a,l){var n={value:"",display:""};switch(t.elemtype.value){case"1":if(0==a.index?n={value:e.state.buzzBeanValue.refpk,display:e.state.buzzBeanValue.refname}:1==a.index&&(n={value:e.state.buzzBeanValue1.refpk,display:e.state.buzzBeanValue1.refname}),!n.value)throw e.state.json["10180BCGDB-000110"];a.index++;break;case"2":e.isSystemTimeSN(t.elemvalue.value)&&(n.value="^sysdate^",n.display="^sysdate^");var s=e.getDateFormatString(t);if(n.value+=e.getNowFormatDate(s,e.state.snTimeValue),n.display+=e.getNowFormatDate(s,e.state.snTimeValue),!e.state.snTimeValue)throw e.state.json["10180BCGDB-000111"];break;case"4":if(0==l.index?(n.value=e.state.str_ref_Value,n.display=e.state.str_ref_Value):1==l.index&&(n.value=e.state.str_ref_Value1,n.display=e.state.str_ref_Value1),n.value=e.processStr(t,n.value),n.display=e.processStr(t,n.value),!n.value)throw e.state.json["10180BCGDB-000112"];l.index++}return n},this.processStr=function(t,a){var l="";if(a.length>=t.elemlenth.value)l=a.substring(0,t.elemlenth.value);else{var n="";"0"==t.fillstyle.value?(n+=a,n+=e.getStrStlFillStr(t,t.elemlenth.value-a.length)):"1"==t.fillstyle.value?(n+=e.getStrStlFillStr(t,t.elemlenth.value-a.length),n+=a):n+=a,l=n}return l},this.getStrStlFillStr=function(e,t){for(var a=e.fillsign.value,l="",n=0;n<t;n++)l+=a;return l},this.getSnBillCodeMarkStrDesc=function(){var t="",a=e.props.form.getFormItemsValue("billcodebase","codescope"),l=e.props.editTable.getAllRows("elemsTable");for(var n in"g"==a.value?t+="#pkgrp#20|":"o"==a.value&&(t+="#pkorg#20|"),l){var s=l[n].values;if(!s)break;"0"!=s.isrefer.value&&(t+=e.getElemMarkStrDesc(s))}return t},this.getElemMarkStrDesc=function(t){var a="";switch(t.elemtype.value){case"1":a="#entity#20|";break;case"2":a=e.isSystemTimeSN(t.elemvalue.value)?"#date#"+(e.getDateFormatString(t).length+"^sysdate^".length)+"|":"#date#"+e.getDateFormatString(t).length+"|";break;case"4":a="#str#"+t.elemlenth.value+"|"}return a},this.getDateFormatString=function(e){var t="yyyyMMdd";return e.isrefer.value>0&&("3"==e.isrefer.value?t="yyyyMMdd":"2"==e.isrefer.value?t="yyyyMM":"1"==e.isrefer.value&&(t="yyyy")),t},this.isSystemTimeSN=function(e){return/^[0-9]/.test(e)},this.getSnOrgComp=function(){var t=e.props.form.getFormItemsValue("billcodebase","codescope");return"o"==t.value?e.unit_global_group_ref():"g"==t.value?e.group_ref():""},this.unit_global_group_ref=function(){return i.default.createElement("div",{className:"ref_org"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,e.state.json["10180BCGDB-000126"]+":")),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(p.default,{fieldid:"ref_sn_org",onlyLeafCanSelect:!1,onChange:e.onSnChangeGroupRef.bind(e),value:e.state.snGroupRefValue,queryCondition:{isDataPowerEnable:!1}})))},this.group_ref=function(){return i.default.createElement("div",{className:"ref_org"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,e.state.json["10180BCGDB-000126"]+":")),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(f.default,{fieldid:"ref_sn_group",onChange:e.onSnChangeGroupRef.bind(e),value:e.state.snGroupRefValue,queryCondition:{isDataPowerEnable:!1}})))},this.getSnBuzzBeanComp=function(t,a,l){var n=e.props.syncTree.getSelectNode("billcodeRuleBaseTree"),o=e.state.json["10180BCGDB-000113"]+a+":",r=void 0;return r=0==l?e.state.buzzBeanValue:e.state.buzzBeanValue1,i.default.createElement("div",{className:"buzz_bean_ref"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,o)),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(B,s({},e.props,{fieldid:"snBuzzBeanComp_refer-window",refName:t.elemvalue.display,popWindowClassName:"sn-Buzz-BeanComp-refer",refCode:"buzzBeanElem",queryGridUrl:"/nccloud/riacc/billcode/qryEntityRef.do",refType:"grid",pageSize:50,columnConfig:[{name:[e.state.json["10180BCGDB-000114"],e.state.json["10180BCGDB-000115"]],code:["refcode","refname"]}],onChange:function(t){0==l?e.onBuzzBeanRef(t):e.onBuzzBeanRef1(t)},value:r,queryCondition:{metaid:n.values.obj_metaid,metapath:t.elemvalue.value,isglobal:"N"}}))))},this.getSnStrComp=function(t,a){var l=e.state.json["10180BCGDB-000116"]+t+":",n=void 0;return 0==a?n=e.state.str_ref_Value:1==a&&(n=e.state.str_ref_Value1),i.default.createElement("div",{className:"ref_String"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,l)),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(g,{fieldid:"ref_String_input",className:"ref_String_input",value:n,onChange:function(t){0==a?e.onStrRefChange(t):1==a&&e.onStrRefChange1(t)},size:"sm"})))},this.getSnTimeComp=function(t){var a=e.state.json["10180BCGDB-000117"],l=e.state.json["10180BCGDB-000118"]+t+":";return i.default.createElement("div",{className:"ref_date"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,l)),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(h,{fieldid:"sn_datetime",format:"YYYY-MM-DD",onSelect:e.onSnTimeSelect,onChange:e.onSnTimeChange,value:null==e.state.snTimeValue||""==e.state.snTimeValue?e.getNowFormatDate("yyyy-MM-dd"):e.state.snTimeValue,placeholder:a})))},this.onSnTimeSelect=function(e){console.log(e)},this.getSnComp=function(){return i.default.createElement("div",{className:"ref_sn"},i.default.createElement("div",{className:"h1"},i.default.createElement("h1",null,e.state.json["10180BCGDB-000087"]+":")),i.default.createElement("div",{className:"ref_comp"},i.default.createElement(g,{fieldid:"sn_text_input",className:"sn_text_input",value:e.state.snValue,onChange:e.onSnChange,size:"sm"})))},this.addSnModalContent=function(){e.state.isCLearAddSNPanelComp&&e.setState({snValue:"",str_ref_Value:"",str_ref_Value1:"",snGroupRefValue:"",buzzBeanValue:"",buzzBeanValue1:"",snTimeValue:"",isCLearAddSNPanelComp:!1});var t=e.props.editTable.getAllRows("elemsTable");if(t.length<1)return i.default.createElement("div",null);var a=[e.getSnOrgComp()],l=1,n=0,s=0,o=0;for(var r in t){var u=t[r].values;u&&"0"!=u.isrefer.value&&("1"==u.elemtype.value?a.push(e.getSnBuzzBeanComp(u,l++,n++)):"4"==u.elemtype.value?a.push(e.getSnStrComp(l++,s++)):"2"==u.elemtype.value&&a.push(e.getSnTimeComp(l++,o++)))}a.push(e.getSnComp());var d=50+50*a.length+"px";return i.default.createElement("div",{style:{height:d}},a.map((function(e){return e})))},this.onSnChange=function(t){e.setState({snValue:t})},this.onStrRefChange=function(t){e.setState({str_ref_Value:t})},this.onStrRefChange1=function(t){e.setState({str_ref_Value1:t})},this.onSnChangeGroupRef=function(t){e.setState({snGroupRefValue:t})},this.onBuzzBeanRef=function(t){e.setState({buzzBeanValue:t})},this.onBuzzBeanRef1=function(t){e.setState({buzzBeanValue1:t})},this.onSnTimeChange=function(t){console.log(t),e.setState({snTimeValue:t})},this.addSnSureBtnClick=function(){console.log(e.state.json["10180BCGDB-000119"]);var t=e;e.markstr_values=[];var a=e.getSnBillCodeMarkStrDesc(),l=void 0;try{var n=e.props.form.getFormItemsValue("billcodebase","codescope");l=e.getSnBillCodeMarkStr(),"a"==n.value&&""==l&&(l="^norefer^")}catch(e){return void(0,d.toast)({color:"warning",content:e})}e.props.modal.close("addSnModal"),e.markstr_values.push({value:"",display:""}),e.markstr_values.push({value:"",display:""}),console.log(a+" "+l);var s=e.props.syncTree.getSelectNode("billcodeRuleBaseTree"),o={pk_billcodebase:s.values.pk_billcodebase,snorgkey:e.state.snGroupRefValue.refpk,snkey1:e.markstr_values[0].value,snkey2:e.markstr_values[1].value,lastsn:e.state.snValue,markstr:l,markstrdesc:a},r={pk_billcodebase:{value:s.values.pk_billcodebase},snorgkey:{value:e.state.snGroupRefValue.refpk,display:e.state.snGroupRefValue.refname},snkey1:{value:e.markstr_values[0].value,display:e.markstr_values[0].display},snkey2:{value:e.markstr_values[1].value,display:e.markstr_values[1].display},lastsn:{value:e.state.snValue},markstr:{value:l},markstrdesc:{value:a}};-1!=r.snkey1.display.search("^")&&(r.snkey1.display=e.markstr_values[0].display.replace("^sysdate^","")),-1!=r.snkey2.display.search("^")&&(r.snkey2.display=e.markstr_values[1].display.replace("^sysdate^","")),(0,d.ajax)({loading:!0,url:"/nccloud/riacc/billcode/saveAddSN.do",data:o,success:function(e){e.success?"1"==e.data.type?(r.pk_billcodesn={value:e.data.defvalues.pk},t.props.editTable.addRow("snManageTable",void 0,!0,r),t.setState({isCLearAddSNPanelComp:!0}),(0,d.toast)({color:"success",content:e.data.content})):"2"==e.data.type&&(0,d.toast)({color:"warning",content:e.data.content}):(0,d.toast)({color:"warning",content:e.message})},error:function(e){(0,d.toast)({color:"warning",content:e.message})}})},this.cancelSnSureBtnBtnClick=function(){e.props.modal.close("addSnModal")},this.onAfterEleAddAndEditFormEvent=function(t,a,l,n){if("elemtype"==l){var s="",o="",r=void 0,i=n.value;e.props.form.setFormItemsDisabled("eleAddAndEdit",{elemlenth:!0}),"1"==i?(s="refer",o="uap/refer/riart/BCCandidateAttrRef/index.js"):"0"==i?s="input":"2"==i?(s="refer",o="uap/refer/riart/TimeAttrRef/index.js"):"3"==i?(e.props.form.setFormItemsDisabled("eleAddAndEdit",{elemlenth:!1}),s="select",r=[{display:e.state.json["10180BCGDB-000009"],value:"nc.pub.billcode.BillCodePureDigitalSNGenerator"},{display:e.state.json["10180BCGDB-000010"],value:"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"}]):"4"==i&&(s="refer",o="uap/refer/riart/StrAttrRef/index.js"),e.props.renderItem("form","eleAddAndEdit","elemvalue",null);var u=t.meta.getMeta();u.eleAddAndEdit.items.map((function(t){"isrefer"==t.attrcode&&("0"==i||"1"==i||"3"==i||"4"==i?t.options=[{display:e.state.json["10180BCGDB-000011"],value:"0"},{display:e.state.json["10180BCGDB-000012"],value:"1"}]:"2"==i&&(t.options=[{display:e.state.json["10180BCGDB-000011"],value:"0"},{display:e.state.json["10180BCGDB-000013"],value:"1"},{display:e.state.json["10180BCGDB-000014"],value:"2"}])),"elemvalue"==t.attrcode&&(t.itemtype=s,t.initialvalue={display:"",value:""},"select"==s?(delete t.refcode,delete t.options,t.options=r):"refer"==s?(delete t.refcode,delete t.options,t.refcode=o):(delete t.refcode,delete t.options))})),e.props.meta.setMeta(u)}},this.assignAssignBtnClick=function(e,t){switch(t){case"assign_assign":var a=e.editTable.getCheckedRows("unAssignOrgTable"),l=[];for(var n in a)a[n].data&&(l[n]=a[n].index,e.editTable.pasteRow("assignOrgTable",a[n].data));e.editTable.deleteTableRowsByIndex("unAssignOrgTable",l);break;case"assign_unassign":var s=e.editTable.getCheckedRows("assignOrgTable"),o=[];for(var r in s)s[r].data&&(o[r]=s[r].index,e.editTable.pasteRow("unAssignOrgTable",s[r].data));e.editTable.deleteTableRowsByIndex("assignOrgTable",o)}},this.editSaveHandleChange=function(t){e.setState({editSaveHandleChange:t})},this.showHide=function(){e.setState({showHide:!e.state.showHide})},this.getTableHead=function(){return i.default.createElement("div",{className:"shoulder-definition-area"},i.default.createElement("div",{className:"definition-icons"},e.props.button.createButtonApp({area:"page_body",buttonLimit:3,onButtonClick:c.bodyButtonClick.bind(e),popContainer:document.querySelector(".body-button-area")})))}},l),_=(0,d.createPage)({initTemplate:c.initTemplate})(C);u.default.render(i.default.createElement(_,null),document.querySelector("#app"))},282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyButtonClick=t.beforeEvent=t.headerButtonClick=t.afterEvent=t.initTemplate=void 0;var l=a(283),n=a(288);t.initTemplate=n.initTemplate,t.afterEvent=l.afterEvent,t.headerButtonClick=l.headerButtonClick,t.beforeEvent=l.beforeEvent,t.bodyButtonClick=l.bodyButtonClick},283:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyButtonClick=t.beforeEvent=t.headerButtonClick=t.afterEvent=void 0;var l=r(a(284)),n=r(a(285)),s=r(a(286)),o=r(a(287));function r(e){return e&&e.__esModule?e:{default:e}}t.afterEvent=l.default,t.headerButtonClick=n.default,t.beforeEvent=s.default,t.bodyButtonClick=o.default},284:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,r,i,u){switch(t){case"snManageTable":var d=0,c=e.editTable.getAllData("elemsTable").rows,p=void 0;c.forEach((function(e){"3"==e.values.elemtype.value&&(d=parseInt(e.values.elemlenth.value),p=e)}));var f=p.values.elemvalue;if(o.length<d||0==parseInt(o))if(f&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==f.value)for(var b=0;b<d-o.length+1;b++)o+="0";else{0==parseInt(o)&&(o="1");for(b=0;b<d-o.length+1;b++)o="0"+o}else o.length>d&&(o=o.substring(0,d));if(u.values.lastsn.value=o,f&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==f.value){if(!/^[A-Z]{1}/.test(o)){var v="A";for(b=0;b<d-1;b++)v+="0";u.values.lastsn.value=v,(0,l.toast)({color:"warning",content:this.state.json["10180BCGDB-000000"]})}}else{if(!/^[0-9]*$/.test(o)){var m="1";for(b=0;b<d-1;b++)m="0"+m;u.values.lastsn.value=m,(0,l.toast)({color:"warning",content:this.state.json["10180BCGDB-000001"]})}}break;case"returnManageTable":break;case"elemsTable":if("elemvalue"==a){if("0"==u.values.elemtype.value)e.editTable.setValByKeyAndIndex(t,i,"elemlenth",{value:o.length,display:o.length});else if("2"==u.values.elemtype.value){if(!o.values)return;if(!o.isleaf)return u.values.elemvalue={value:"",display:""},void(0,l.toast)({color:"warning",content:this.state.json["10180BCGDB-000002"]});var g=e.form.getFormItemsValue("billcodebase","format").value;u.values.elemvalue={value:o.values.fullpath,display:o.values.fulldisplayname},e.editTable.setValByKeyAndIndex(t,i,"elemlenth",{value:g.length,display:g.length})}else if("1"==u.values.elemtype.value){if(!o.values)return;if(!o.values.codeEntity)return u.values.elemvalue={value:"",display:""},void(0,l.toast)({color:"warning",content:this.state.json["10180BCGDB-000007"]});var h="",y=!1;switch(o.values.codeEntity.styl){case"0":h=this.state.json["10180BCGDB-000003"];break;case"1":h=this.state.json["10180BCGDB-000004"];break;case"2":h=this.state.json["10180BCGDB-000005"],y=!0}var B=e.form.getFormItemsValue("billcodebase","isautofill").value;if(y&&B)return u.values.elemvalue={value:"",display:""},void(0,l.toast)({color:"warning",content:this.state.json["10180BCGDB-000006"]});u.values.elemvalue.value=o.refcode,u.values.elemlenth.value=o.values.codeEntity.elength,u.values.fillsign.value=o.values.codeEntity.sign,u.values.fillsign.display=o.values.codeEntity.sign,u.values.pk_billcodeentity.value=o.values.codeEntity.pk_billcodeentity,u.values.fillstyle={value:o.values.codeEntity.styl,display:h},setTimeout((function(){e.editTable.setEditableRowKeyByIndex(t,i,"fillsign",!1),e.editTable.setEditableRowKeyByIndex(t,i,"fillstyle",!1)}),0)}else"4"==u.values.elemtype.value&&(u.values.elemvalue.value=o.refcode);u.values.elemtype.othervalues=o}else if("elemtype"==a){if(u.values.elemlenth.value="",u.values.fillsign.value="",u.values.fillsign.display="",u.values.fillstyle={value:"",display:""},"2"==u.values.elemtype.value){var C=s("yyyy-MM-dd");u.values.elemvalue={display:this.state.json["10180BCGDB-000008"],value:C};var _=e.form.getFormItemsValue("billcodebase","format").value;e.editTable.setValByKeyAndIndex(t,i,"elemlenth",{value:_.length,display:_.length})}else"2"!=u.values.elemtype.value&&(u.values.elemvalue={display:"",value:""},u.values.fillstyle={display:"",value:""},u.values.fillsign={display:"",value:""},u.values.elemlenth={display:"0",value:"0"});"3"==u.values.elemtype.value&&setTimeout((function(){e.editTable.setEditableRowKeyByIndex(t,i,"fillsign",!1),e.editTable.setEditableRowKeyByIndex(t,i,"fillstyle",!1)}),0),"4"==u.values.elemtype.value&&(e.editTable.setValByKeyAndIndex(t,i,"fillstyle",{value:"0",display:this.state.json["10180BCGDB-000003"]}),e.editTable.setValByKeyAndIndex(t,i,"fillsign",{value:"@",display:"@"}))}else if("elemlenth"==a)parseInt(o)<0&&(u.values.elemlenth.value=-parseInt(o)),"0"==u.values.elemtype.value&&(u.values.elemlenth.value="0"),"3"!=u.values.elemtype.value&&"4"!=u.values.elemtype.value&&(u.values.elemlenth.value=r[0].oldvalue.value);else if("fillsign"==a){var T=u.values.fillsign.value;(function(e){var t=new RegExp("^[ ]+$");return null==e||(!e||(0==e.length||!!t.test(e)))})(T)||function(e){if(new RegExp("[\\u4E00-\\u9FFF]+","g").test(e))return!0;return!1}(T)?u.values.fillsign.value="@":u.values.fillsign.value=T.substring(0,1)}for(var D=0,k="",w=e.editTable.getAllRows("elemsTable",!1),G=0;G<w.length;G++)w[G].values.elemlenth.value&&"3"!=w[G].status&&((parseInt(w[G].values.elemlenth.value)>10||"0"==parseInt(w[G].values.elemlenth.value))&&"3"==w[G].values.elemtype.value?(w[G].values.elemlenth.value=1,u.values.elemlenth.value=1):D+=parseInt(w[G].values.elemlenth.value)),w[G].values.elemtype.othervalues||(w[G].values.elemtype.othervalues={refcode:w[G].values.elemvalue.value}),"3"!=w[G].status&&(k+=n(w[G],e,w[G].values.elemtype.othervalues));e.form.setFormItemsValue("billcodebase",{billcodelength:{display:D,value:D}}),e.form.setFormItemsValue("billcodebase",{showresult:{display:k,value:k}})}};var l=a(1);function n(e,t,a){switch(e.values.elemtype.value){case"0":return e.values.elemvalue.value;case"1":case"4":return a.refcode?"#"+a.refcode+"#":"";case"2":return s(t.form.getFormItemsValue("billcodebase","format").value);case"3":var l=e.values.elemvalue;if(!t.form.getFormItemsValue("billcodebase","islenvar").value)return l&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==l.value?"A":"1";for(var n=parseInt(e.values.elemlenth.value),o="",r=0;r<n-1;r++)o+="0";return l&&"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"==l.value?"A"+o:o+"1"}}function s(e){var t=new Date,a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var l in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[l]:("00"+a[l]).substr((""+a[l]).length)));return e}},285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=this,i=this,u=t.syncTree.getSelectNode("billcodeRuleBaseTree"),d=void 0,c=void 0;u.values&&(d=u.values.pk_billcodebase,c=parseInt(u.values.bclength));var p=t.modal;switch(a){case"add":var f=0;if(u.children&&u.children.forEach((function(e){e.values.isused&&(f=1)})),1==f){(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000155"]});break}t.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!0,cancel:!0,refresh:!1,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!1,ele_up:!0,ele_down:!0,ele_top:!0,ele_bottom:!0,ele_del:!0,ele_add:!0}),t.syncTree.setNodeDisable("billcodeRuleBaseTree",!0),t.form.setFormStatus("billcodebase","add"),t.form.EmptyAllFormValue("billcodebase"),t.form.setFormItemsDisabled("billcodebase",{showformart:!0}),t.form.setFormItemsDisabled("billcodebase",{billcodelength:!0}),t.form.setFormItemsDisabled("billcodebase",{showresult:!0}),setTimeout((function(){r.props.editTable.setTableData("elemsTable",{rows:[]}),r.props.editTable.setTableData("allotOrgTable",{rows:[]})}),0);break;case"cancel":u.values.pk_billcodebase?(t.button.setButtonVisible({add:!1,edit:!0,delete:!0,save:!1,cancel:!1,refresh:!0,defaultrule:!0,assign:!0,snmanage:!0,returnmanage:!0,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}),u.values.isused?t.button.setButtonVisible({unlock:!1,lock:!0}):t.button.setButtonVisible({unlock:!0,lock:!1}),t.form.cancel("billcodebase"),t.editTable.cancelEdit("elemsTable"),t.syncTree.setNodeDisable("billcodeRuleBaseTree",!1)):(t.button.setButtonVisible({add:!0,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}),t.syncTree.setNodeDisable("billcodeRuleBaseTree",!1),t.form.cancel("billcodebase"),t.form.EmptyAllFormValue("billcodebase"),setTimeout((function(){t.editTable.setTableData("elemsTable",{rows:[]}),t.editTable.setTableData("allotOrgTable",{rows:[]})}),0));break;case"save":var b=t.form.getAllFormValue("billcodebase"),v=b.rows[0].values.codemode.value;if(b.rows[0].values.billcodelength.value>c)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000017"]+c});var m="";if(o(b.rows[0].values.rulecode.value)?m+=i.state.json["10180BCGDB-000018"]:o(b.rows[0].values.rulename.value)?m+=i.state.json["10180BCGDB-000019"]:o(b.rows[0].values.codemode.value)&&(m+=i.state.json["10180BCGDB-000020"]),""!=m)return void(0,l.toast)({color:"warning",content:m});var g=t.editTable.getAllRows("elemsTable",!0);for(var h in g)g[h].values&&"3"==g[h].status&&g.splice(h,1);if(g.length<1)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000021"]});var y="",B=0,C=0,_=0;for(h=0;h<g.length;h++){if("1"==g[h].values.elemtype.value&&"pre"==v)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000022"]});if("4"==g[h].values.elemtype.value){if("pre"==v)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000023"]});(o(g[h].values.elemlenth.value)||g[h].values.elemlenth.value<1||g[h].values.elemlenth.value>10)&&(y=y+g[h].values.elemtype.display+"["+g[h].values.elemvalue.display+i.state.json["10180BCGDB-000024"]),o(g[h].values.fillsign.value)&&(y+=i.state.json["10180BCGDB-000025"]),1!=g[h].values.fillsign.value.length&&(y+=i.state.json["10180BCGDB-000026"]),s(g[h].values.fillsign.value)&&(y+=i.state.json["10180BCGDB-000027"])}"3"==g[h].values.elemtype.value&&"3"!=g[h].status&&((""==g[h].values.elemlenth.value||g[h].values.elemlenth.value<1||g[h].values.elemlenth.value>10)&&(y+=i.state.json["10180BCGDB-000028"]),B+=1),""==g[h].values.elemvalue.value&&"3"!=g[h].values.elemtype.value&&(y=y+g[h].values.elemtype.display+i.state.json["10180BCGDB-000029"]),"0"!=g[h].values.isrefer.value&&(C+=1),"2"==g[h].values.elemtype.value&&(_+=1)}if(C>2)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000030"]});if(_>1)return void(0,l.toast)({color:"warning",content:i.state.json["10180BCGDB-000031"]});if(0==B?y+=i.state.json["10180BCGDB-000032"]:B>1&&(y+=i.state.json["10180BCGDB-000033"]),""!=y)return void(0,l.toast)({color:"warning",content:y});var T=/[0-9]/;for(var D in g)T.test(D)&&(g[D].values.eorder.value=D);var k={formModel:b,gridModel:{rows:g},userdata:{nbcrcode:u.values.nbcrcode,isadd:"Y",isdelete:"N",pk_group:i.state.pk_global}};u.values.pk_billcodebase?(k.userdata.isadd="N",p.show("editSaveModal",{beSureBtnClick:function(){"delete"==i.state.editSaveHandleChange?(k.userdata.isdelete="Y",n(t,u,k,i)):"notdelete"==i.state.editSaveHandleChange&&(k.userdata.isdelete="N",n(t,u,k,i))}})):(k.userdata.isadd="Y",n(t,u,k,i));break;case"edit":t.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!0,cancel:!0,refresh:!1,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!0,ele_down:!0,ele_top:!0,ele_bottom:!0,ele_del:!0,ele_add:!0}),t.syncTree.setNodeDisable("billcodeRuleBaseTree",!0),t.form.setFormStatus("billcodebase","edit"),t.form.setFormItemsDisabled("billcodebase",{showformart:!0}),t.form.setFormItemsDisabled("billcodebase",{billcodelength:!0}),t.form.setFormItemsDisabled("billcodebase",{showresult:!0}),t.editTable.setStatus("elemsTable","edit",(function(){console.log(i.state.json["10180BCGDB-000034"])}));break;case"assign":(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/InitAssignBillcodeRule.do",data:{pk_billcodebase:d},success:function(e){e.success?e.data.assignOrg?(p.show("assignModal"),t.table.setAllTableData("assignOrgTable",e.data.assignOrg.assignOrg),t.table.setAllTableData("unAssignOrgTable",e.data.unAssignOrg.unAssignOrg)):((0,l.toast)({color:"warning",content:e.data.content}),t.table.setAllTableData("assignOrgTable",{rows:[]}),t.table.setAllTableData("unAssignOrgTable",{rows:[]})):alert(e.message)},error:function(e){alert(e.message)}});break;case"defaultrule":(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/SetBillCodeRuleDefault.do",data:{pk_billcodebase:d},success:function(e){if(e.success)if(e.data.content)(0,l.toast)({color:"warning",content:e.data.content});else{var a="";if(u.values.isdefault)u.refname=u.refname.replace(i.state.json["10180BCGDB-000035"],""),u.values.isdefault=!1,a=i.state.json["10180BCGDB-000036"],t.form.setFormItemsValue("billcodebase",{isdefault:{value:!1}});else{for(var n=t.syncTree.getSyncTreeValue("billcodeRuleBaseTree",u.pid).children,s=0;s<n.length;s++)n[s].refname=n[s].refname.replace(i.state.json["10180BCGDB-000035"],""),n[s].values.isdefault=!1,t.syncTree.editNodeSuccess("billcodeRuleBaseTree",n[s]);u.refname=u.refname+i.state.json["10180BCGDB-000035"],a=i.state.json["10180BCGDB-000037"],u.values.isdefault=!0,t.form.setFormItemsValue("billcodebase",{isdefault:{value:!0}})}t.syncTree.editNodeSuccess("billcodeRuleBaseTree",u),(0,l.toast)({color:"success",content:a})}else alert(e.message)},error:function(e){alert(e.message)}});break;case"returnmanage":(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/ReturnManage.do",data:{pk_billcodebase:d},success:function(e){e.success?(p.show("returnManageModal"),e.data&&e.data.billcodereturn?t.editTable.setTableData("returnManageTable",e.data.billcodereturn):t.editTable.setTableData("returnManageTable",{rows:[]})):alert(e.message)},error:function(e){alert(e.message)}});break;case"snmanage":(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/SNManage.do",data:{pk_billcodebase:d},success:function(e){e.success?(p.show("snManageModal"),e.data&&e.data.snvos?t.editTable.setTableData("snManageTable",e.data.snvos):t.editTable.setTableData("snManageTable",{rows:[]})):alert(e.message)},error:function(e){alert(e.message)}});break;case"unlock":(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/UnLockBillCodeRule.do",data:{pk_billcodebase:d,isglobal:"Y"},success:function(e){if(e.success)if(e.data.content)(0,l.toast)({color:"warning",content:e.data.content});else{u.refname=u.refname.replace(i.state.json["10180BCGDB-000038"],"");var a=i.state.json["10180BCGDB-000040"];u.values.isused=!0,t.button.setButtonVisible({unlock:!1,lock:!0}),t.form.setFormItemsValue("billcodebase",{isused:{value:!0}}),t.syncTree.editNodeSuccess("billcodeRuleBaseTree",u),(0,l.toast)({color:"success",content:a})}else(0,l.toast)({color:"warning",content:e.message})},error:function(e){(0,l.toast)({color:"warning",content:e.message})}});break;case"lock":(0,l.promptBox)({color:"warning",content:i.state.json["10180BCGDB-000156"],beSureBtnClick:function(){(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/LockBillCodeRule.do",data:{pk_billcodebase:d,isglobal:"Y"},success:function(e){if(e.success)if(e.data.content)(0,l.toast)({color:"warning",content:e.data.content});else{u.refname=u.refname+i.state.json["10180BCGDB-000038"],u.values.isused=!1;var a=i.state.json["10180BCGDB-000039"];t.button.setButtonVisible({unlock:!0,lock:!1}),t.form.setFormItemsValue("billcodebase",{isused:{value:!1}}),t.syncTree.editNodeSuccess("billcodeRuleBaseTree",u),(0,l.toast)({color:"success",content:a})}else(0,l.toast)({color:"warning",content:e.message})},error:function(e){(0,l.toast)({color:"warning",content:e.message})}})}});break;case"delete":var w=" "+i.state.json["10180BCGDB-000157"];i.state.json["10180BCGDB-000042"],u.refname,i.state.json["10180BCGDB-000043"];if(i.props.editTable.getAllData("allotOrgTable"))i.props.editTable.getAllData("allotOrgTable").rows.forEach((function(e){var t=e.values.orgname.value;w+=t+" ."})),w;(0,l.promptBox)({color:"warning",title:i.state.json["10180BCGDB-000041"],content:i.state.json["10180BCGDB-000042"]+u.refname+i.state.json["10180BCGDB-000043"],noFooter:!1,noCancelBtn:!1,beSureBtnName:i.state.json["10180BCGDB-000044"],cancelBtnName:i.state.json["10180BCGDB-000045"],hasCloseBtn:!1,beSureBtnClick:function(){(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/DelBase.do",data:{isglobal:"N",pk_billcodebase:u.values.pk_billcodebase},success:function(e){if(e.success){if("2"==e.data.type)return void(0,l.toast)({color:"warning",content:e.data.content});t.syncTree.delNodeSuceess("billcodeRuleBaseTree",u.refpk),t.syncTree.setNodeSelected("billcodeRuleBaseTree","root");t.syncTree.getSyncTreeValue("billcodeRuleBaseTree","root");t.editTable.setTableData("elemsTable",{rows:[]}),t.form.EmptyAllFormValue("billcodebase"),t.button.setButtonVisible({add:!1,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!1,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}),(0,l.toast)({color:"success"})}else(0,l.toast)({color:"warning",content:e.message})},error:function(e){(0,l.toast)({color:"error",content:e.message})}})},cancelBtnClick:function(){},closeBtnClick:function(){},closeByClickBackDrop:!1});break;case"refresh":e()}};var l=a(1);l.base.NCMessage;function n(e,t,a,n){(0,l.ajax)({loading:!0,url:"/nccloud/riacc/billcode/SaveBase.do",data:a,success:function(s){if(s.success){if("2"==s.data.type)return void(0,l.toast)({color:"warning",content:s.data.content});if(a.formModel.rows[0].values.pk_billcodebase.value)e.button.setButtonVisible({add:!1,edit:!0,delete:!0,save:!1,cancel:!1,refresh:!0,defaultrule:!0,assign:!0,snmanage:!0,returnmanage:!0,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1}),t.values.isused?e.button.setButtonVisible({unlock:!1,lock:!0}):e.button.setButtonVisible({unlock:!0,lock:!1}),t.refcode=a.formModel.rows[0].values.rulecode.value,-1!=t.refname.indexOf(n.state.json["10180BCGDB-000035"])?t.refname=a.formModel.rows[0].values.rulename.value+n.state.json["10180BCGDB-000035"]:t.refname=a.formModel.rows[0].values.rulename.value,t.values.form=a.formModel,n.onSelectEve(t.refpk,t);else{e.button.setButtonVisible({add:!0,edit:!1,delete:!1,save:!1,cancel:!1,refresh:!0,defaultrule:!1,assign:!1,snmanage:!1,returnmanage:!1,unlock:!1,lock:!1,export:!0,ele_up:!1,ele_down:!1,ele_top:!1,ele_bottom:!1,ele_del:!1,ele_add:!1});var o={refcode:a.formModel.rows[0].values.rulecode.value,refname:a.formModel.rows[0].values.rulename.value,pid:t.refpk,refpk:s.data.defvalues.pk_billcodebase,isleaf:!0,values:s.data.defvalues};o.values.isbcrule="Y",e.syncTree.addNodeSuccess("billcodeRuleBaseTree",o),e.syncTree.setNodeSelected("billcodeRuleBaseTree",o.refpk),n.onSelectEve(o.refpk,o),(0,l.toast)({color:"success",content:s.data.content})}e.syncTree.setNodeDisable("billcodeRuleBaseTree",!1),e.editTable.setStatus("elemsTable","browse"),e.editTable.setStatus("allotOrgTable","browse"),e.form.setFormStatus("billcodebase","browse")}else(0,l.toast)({color:"warning",content:s.message})},error:function(e){(0,l.toast)({color:"warning",content:e.message})}})}function s(e){return!!new RegExp("[\\u4E00-\\u9FFF]+","g").test(e)}function o(e){var t=new RegExp("^[ ]+$");return null==e||(!e||(0==e.length||!!t.test(e)))}},286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,l,n,s){var o=this;switch(t){case"elemsTable":var r=s.values.elemtype.value;if("elemlenth"==a.attrcode||"fillsign"==a.attrcode||"fillstyle"==a.attrcode)return"4"==r||"elemlenth"==a.attrcode&&"3"==r;var i="",u="",d=void 0;if("1"==r)i="refer",u="uap/refer/riart/BCCandidateAttrRef/index.js";else if("0"==r)i="input";else if("2"==r)i="refer",u="uap/refer/riart/TimeAttrRef/index.js";else if("3"==r){if(i="select",d=[{display:o.state.json["10180BCGDB-000009"],value:"nc.pub.billcode.BillCodePureDigitalSNGenerator"},{display:o.state.json["10180BCGDB-000010"],value:"nc.pub.billcode.BillCodeLetterDigitalSNGenerator"}],"fillsign"==a.key||"fillstyle"==a.key)return!1}else"4"==r&&(i="refer",u="uap/refer/riart/StrAttrRef/index.js");e.renderItem("table","elemsTable","elemvalue",null);var c=e.meta.getMeta();c.elemsTable.items.map((function(t){"isrefer"==t.attrcode&&("0"==r||"3"==r?t.options=[{display:o.state.json["10180BCGDB-000011"],value:"0"}]:"1"==r||"4"==r?t.options=[{display:o.state.json["10180BCGDB-000011"],value:"0"},{display:o.state.json["10180BCGDB-000012"],value:"1"}]:"2"==r&&(t.options=function(e,t,a){var l=e.form.getFormItemsValue("billcodebase","format").value,n=void 0;if("yy"==l||"yyyy"==l)n=[{display:a.state.json["10180BCGDB-000011"],value:"0"},{display:a.state.json["10180BCGDB-000013"],value:"1"}];else if("yyMM"==l||"yyyyMM"==l)n=[{display:a.state.json["10180BCGDB-000011"],value:"0"},{display:a.state.json["10180BCGDB-000013"],value:"1"},{display:a.state.json["10180BCGDB-000014"],value:"2"}];else if("yyMMdd"==l||"yyyyMMdd"==l){var s=t.values.elemvalue.value;n=/^[0-9]/.test(s)?[{display:a.state.json["10180BCGDB-000011"],value:"0"},{display:a.state.json["10180BCGDB-000013"],value:"1"},{display:a.state.json["10180BCGDB-000014"],value:"2"},{display:a.state.json["10180BCGDB-000015"],value:"3"}]:[{display:a.state.json["10180BCGDB-000011"],value:"0"},{display:a.state.json["10180BCGDB-000013"],value:"1"},{display:a.state.json["10180BCGDB-000014"],value:"2"}]}return n}(e,s,o))),"elemvalue"==t.attrcode&&(t.itemtype=i,t.initialvalue={display:"",value:""},"select"==i?(delete t.refcode,delete t.options,t.options=d):"refer"==i?(delete t.refcode,delete t.options,t.refcode=u):(delete t.refcode,delete t.options))})),e.meta.setMeta(c)}return!0}},287:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"ele_add":e.editTable.addRow("elemsTable",void 0,!1,{elemtype:{display:this.state.json["10180BCGDB-000016"],value:"0"},isrefer:{display:this.state.json["10180BCGDB-000011"],value:"0"},fillstyle:{display:"",value:""}});var a=e.editTable.getNumberOfRows("elemsTable");e.editTable.setEditableRowKeyByIndex("elemsTable",a-1,["fillsign","fillstyle"],!1)}};a(1).base.NCMessage},288:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var l,n=a(289),s=(l=n)&&l.__esModule?l:{default:l};t.initTemplate=s.default},289:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};e.MultiInit.getMultiLang({moduleId:"1018-billcoderulebaseglobal",domainName:"uap",callback:function(a,s,r){if(s){t={billcodebutton:[{id:"0001A41000000006J5B5",type:"buttongroup",btncolor:"button_main",key:"buttongroup_opr",title:"",area:"page_header",children:[{id:"0001A41000000006J5B1",type:"general_btn",btncolor:"button_main",key:"add",keyboard:"Ctrl+/",title:a["10180BCGDB-000046"],area:"page_header",parentCode:"buttongroup_opr",children:[]},{id:"0001A41000000006J5B2",type:"general_btn",btncolor:"button_main",key:"edit",keyboard:"Alt+P",title:a["10180BCGDB-000047"],area:"page_header",parentCode:"buttongroup_opr",children:[]},{id:"0001A41000000006J5B3",type:"general_btn",key:"delete",keyboard:"Alt+Del",title:a["10180BCGDB-000048"],area:"page_header",parentCode:"buttongroup_opr",children:[]},{id:"0001A41000000006J5B3",type:"general_btn",btncolor:"button_main",key:"save",keyboard:"Ctrl+S",title:a["10180BCGDB-000049"],area:"page_header",parentCode:"buttongroup_opr",children:[]},{id:"0001A41000000006J5B4",type:"general_btn",key:"cancel",keyboard:"Alt+Q",title:a["10180BCGDB-000045"],area:"page_header",parentCode:"buttongroup_opr",children:[]}]},{id:"0001A41000000006J5B5",type:"buttongroup",btncolor:"button_main",key:"buttongroup_manage",title:"",area:"page_header",children:[{id:"0001A41000000006J5B6",type:"general_btn",key:"snmanage",title:a["10180BCGDB-000050"],area:"page_header",parentCode:"buttongroup_manage",children:[]},{id:"0001A41000000006J5B7",type:"general_btn",key:"returnmanage",title:a["10180BCGDB-000051"],area:"page_header",parentCode:"buttongroup_manage",children:[]}]},{id:"0001A41000000006J5B8",type:"buttongroup",btncolor:"button_main",key:"lock_manage",title:a["10180BCGDB-000052"],area:"page_header",children:[{id:"0001A41000000006J5B801",type:"general_btn",key:"unlock",title:a["10180BCGDB-000052"],area:"page_header",parentCode:"lock_manage",children:[]},{id:"0001A41000000006J5B802",type:"general_btn",key:"lock",title:a["10180BCGDB-000053"],area:"page_header",parentCode:"lock_manage",children:[]}]},{id:"bodyA41000000006J5B5",type:"buttongroup",key:"buttongroup_bodyopr",title:"",area:"page_body",children:[{id:"bodyA41000000006J5B1",type:"general_btn",key:"ele_add",title:a["10180BCGDB-000046"],area:"page_body",parentCode:"buttongroup_bodyopr",children:[]}]},{id:"lineA41000000006J5B1",type:"general_btn",key:"ele_up",title:a["10180BCGDB-000054"],area:"page_line",parentCode:"buttongroup_lineopr",children:[]},{id:"lineA41000000006J5B1",type:"general_btn",key:"ele_down",title:a["10180BCGDB-000055"],area:"page_line",parentCode:"buttongroup_lineopr",children:[]},{id:"lineA41000000006J5B1",type:"general_btn",key:"ele_top",title:a["10180BCGDB-000056"],area:"page_line",parentCode:"buttongroup_lineopr",children:[]},{id:"lineA41000000006J5B1",type:"general_btn",key:"ele_bottom",title:a["10180BCGDB-000057"],area:"page_line",parentCode:"buttongroup_lineopr",children:[]},{id:"lineA41000000006J5B1",type:"general_btn",key:"ele_del",title:a["10180BCGDB-000048"],area:"page_line",parentCode:"buttongroup_lineopr",children:[]},{id:"snManage00000006J5B1",type:"general_btn",key:"snmline_edit",title:a["10180BCGDB-000047"],area:"page_snmline",parentCode:"snmline_opr",children:[]},{id:"snManage00000006J5B1",type:"general_btn",key:"snmline_save",title:a["10180BCGDB-000049"],area:"page_snmline",parentCode:"snmline_opr",children:[]},{id:"snManage00000006J5B1",type:"general_btn",key:"snmline_cancel",title:a["10180BCGDB-000045"],area:"page_snmline",parentCode:"snmline_opr",children:[]},{id:"0001A41000000026J5B5",type:"general_btn",key:"assign_assign",title:a["10180BCGDB-000058"],area:"page_assign",parentCode:"buttongroup_assign",children:[]},{id:"0001A41000000036J5B6",type:"general_btn",key:"assign_unassign",title:a["10180BCGDB-000059"],area:"page_unassign",parentCode:"buttongroup_assign",children:[]},{id:"0001A41000000036J5sn",type:"general_btn",btncolor:"button_main",key:"addsn",title:a["10180BCGDB-000060"],area:"sn_button",parentCode:"",children:[]},{id:"0001A41000000036J5sn",type:"general_btn",btncolor:"button_main",key:"suresn",title:a["10180BCGDB-000061"],area:"sn_button",parentCode:"",children:[]},{id:"0001A41000000036J5sn",type:"general_btn",btncolor:"button_main",key:"cancelsn",title:a["10180BCGDB-000045"],area:"sn_button",parentCode:"",children:[]}],billcodebase:{moduletype:"form",items:[{attrcode:"rulecode",label:a["10180BCGDB-000062"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0,required:!0},{attrcode:"rulename",label:a["10180BCGDB-000063"],col:6,leftspace:0,rightspace:0,visible:!0,required:!0,itemtype:"residtxt",languageMeta:[]},{attrcode:"codemode",label:a["10180BCGDB-000064"],itemtype:"select",showClear:!1,col:6,leftspace:0,rightspace:0,visible:!0,options:[{display:a["10180BCGDB-000065"],value:"pre"},{display:a["10180BCGDB-000066"],value:"after"}]},{attrcode:"iseditable",label:a["10180BCGDB-000067"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!0},{attrcode:"isautofill",label:a["10180BCGDB-000068"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!0},{attrcode:"codescope",label:a["10180BCGDB-000069"],itemtype:"select",showClear:!1,col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:"a",display:a["10180BCGDB-000070"]},options:[{display:a["10180BCGDB-000070"],value:"a"},{display:a["10180BCGDB-000071"],value:"g"},{display:a["10180BCGDB-000072"],value:"o"}]},{attrcode:"format",label:a["10180BCGDB-000073"],itemtype:"select",showClear:!1,col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:"yyyyMMdd",display:"yyyyMMdd"},options:[{display:"yy",value:"yy"},{display:"yyyy",value:"yyyy"},{display:"yyMM",value:"yyMM"},{display:"yyyyMM",value:"yyyyMM"},{display:"yyMMdd",value:"yyMMdd"},{display:"yyyyMMdd",value:"yyyyMMdd"}]},{attrcode:"showformart",label:a["10180BCGDB-000074"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0},{attrcode:"billcodelength",label:a["10180BCGDB-000075"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:"0"}},{attrcode:"showresult",label:a["10180BCGDB-000076"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0},{attrcode:"islenvar",label:a["10180BCGDB-000077"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:!0}},{attrcode:"isgetpk",label:a["10180BCGDB-000078"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!0},{attrcode:"nbcrcode",label:a["10180BCGDB-000079"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!1},{attrcode:"pk_billcodebase",label:a["10180BCGDB-000080"],itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!1},{attrcode:"isdefault",label:a["10180BCGDB-000081"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!1},{attrcode:"isused",label:a["10180BCGDB-000082"],itemtype:"switch",col:6,leftspace:0,rightspace:0,visible:!1,initialvalue:{value:!0}}]},elemsTable:{moduletype:"table",pagination:!1,status:"browse",lineHeight:"40px",items:[{label:a["10180BCGDB-000083"],attrcode:"elemtype",itemtype:"select",showClear:!1,col:4,maxlength:20,width:"200px",visible:!0,initialvalue:{value:"0",display:a["10180BCGDB-000016"]},options:[{display:a["10180BCGDB-000016"],value:"0"},{display:a["10180BCGDB-000084"],value:"1"},{display:a["10180BCGDB-000085"],value:"4"},{display:a["10180BCGDB-000086"],value:"2"},{display:a["10180BCGDB-000087"],value:"3"}]},{label:a["10180BCGDB-000088"],attrcode:"elemvalue",itemtype:"refer",refcode:"uap/refer/riart/StrAttrRef/index.js",col:8,maxlength:20,width:"200px",visible:!0},{label:a["10180BCGDB-000089"],attrcode:"isrefer",itemtype:"select",showClear:!1,col:4,maxlength:20,width:"200px",visible:!0,initialvalue:{value:"0",display:a["10180BCGDB-000011"]},options:[{display:a["10180BCGDB-000011"],value:"0"},{display:a["10180BCGDB-000012"],value:"1"},{display:a["10180BCGDB-000013"],value:"1"},{display:a["10180BCGDB-000014"],value:"2"},{display:a["10180BCGDB-000015"],value:"3"}]},{label:a["10180BCGDB-000090"],attrcode:"elemlenth",itemtype:"number",col:4,maxlength:20,width:"100px",visible:!0},{label:a["10180BCGDB-000091"],attrcode:"fillsign",itemtype:"input",col:4,maxlength:20,visible:!0,disabled:!1},{label:a["10180BCGDB-000092"],attrcode:"fillstyle",itemtype:"select",showClear:!1,col:4,maxlength:20,visible:!0,disabled:!1,initialvalue:{value:"0",display:a["10180BCGDB-000003"]},options:[{display:a["10180BCGDB-000003"],value:"0"},{display:a["10180BCGDB-000004"],value:"1"},{display:a["10180BCGDB-000005"],value:"2"}]},{label:a["10180BCGDB-000093"],attrcode:"eorder",itemtype:"input",col:4,maxlength:20,visible:!1,disabled:!0},{label:a["10180BCGDB-000094"],attrcode:"pk_billcodeentity",itemtype:"input",col:4,maxlength:20,visible:!1,disabled:!0}]},allotOrgTable:{moduletype:"table",pagination:!1,status:"browse",lineHeight:"40px",showindex:!0,items:[{itemtype:"input",col:4,label:a["10180BCGDB-000095"],maxlength:20,attrcode:"orgcode",visible:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000096"],maxlength:20,attrcode:"orgname",visible:!0}]},assignOrgTable:{moduletype:"table",pagination:!1,status:"browse",lineHeight:"40px",showindex:!0,items:[{itemtype:"input",col:4,label:a["10180BCGDB-000095"],maxlength:20,attrcode:"orgcode",visible:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000096"],maxlength:20,attrcode:"orgname",visible:!0}]},unAssignOrgTable:{moduletype:"table",pagination:!1,status:"browse",lineHeight:"40px",showindex:!0,items:[{itemtype:"input",col:4,label:a["10180BCGDB-000095"],maxlength:20,attrcode:"orgcode",visible:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000096"],maxlength:20,attrcode:"orgname",visible:!0}]},returnManageTable:{moduletype:"table",pagination:!1,status:"browse",lineHeight:"40px",showindex:!0,items:[{itemtype:"input",col:4,label:a["10180BCGDB-000097"],maxlength:20,attrcode:"markstr",visible:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000098"],maxlength:20,attrcode:"rtnsn",visible:!0}]},snManageTable:{moduletype:"table",pagination:!1,status:"edit",lineHeight:"40px",showindex:!0,items:[{itemtype:"refer",col:4,label:a["10180BCGDB-000099"],maxlength:20,attrcode:"snorgkey",visible:!0,disabled:!0},{itemtype:"refer",col:4,label:a["10180BCGDB-000100"],maxlength:20,attrcode:"snkey1",visible:!0,disabled:!0},{itemtype:"refer",col:4,label:a["10180BCGDB-000101"],maxlength:20,attrcode:"snkey2",visible:!0,disabled:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000102"],maxlength:20,attrcode:"lastsn",visible:!0},{itemtype:"input",col:4,label:a["10180BCGDB-000097"],maxlength:200,attrcode:"markstr",visible:!0,disabled:!0},n({itemtype:"input",col:4,label:a["10180BCGDB-000103"],maxlength:200,attrcode:"markstrdesc",visible:!0,disabled:!0},"visible",!1)]},eleAddAndEdit:{moduletype:"form",status:"browse",items:[{label:a["10180BCGDB-000083"],attrcode:"elemtype",itemtype:"select",showClear:!1,col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:"0",display:a["10180BCGDB-000016"]},options:[{display:a["10180BCGDB-000016"],value:"0"},{display:a["10180BCGDB-000084"],value:"1"},{display:a["10180BCGDB-000085"],value:"4"},{display:a["10180BCGDB-000086"],value:"2"},{display:a["10180BCGDB-000087"],value:"3"}]},{label:a["10180BCGDB-000088"],attrcode:"elemvalue",itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0},{label:a["10180BCGDB-000089"],attrcode:"isrefer",itemtype:"select",showClear:!1,col:6,leftspace:0,rightspace:0,visible:!0,initialvalue:{value:"0",display:a["10180BCGDB-000011"]},options:[{display:a["10180BCGDB-000011"],value:"0"},{display:a["10180BCGDB-000012"],value:"1"},{display:a["10180BCGDB-000013"],value:"1"},{display:a["10180BCGDB-000014"],value:"2"}]},{label:a["10180BCGDB-000090"],attrcode:"elemlenth",itemtype:"number",col:6,leftspace:0,rightspace:0,visible:!0},{label:a["10180BCGDB-000091"],attrcode:"fillsign",itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0,disabled:!0},{label:a["10180BCGDB-000092"],attrcode:"fillstyle",itemtype:"input",col:6,leftspace:0,rightspace:0,visible:!0,disabled:!0}]}},e.button.setButtons(t.billcodebutton);var i=function(e,t,a){var n=[];(0,l.ajax)({url:"/nccloud/riacc/bgtask/querylangmeta.do",data:{},async:!1,success:function(e){var t=e.success,a=e.data;t&&(n=a)},error:function(e){toast({content:e.message,color:"danger"})}}),t.billcodebase.items.map((function(e){"rulename"==e.attrcode&&(e.languageMeta=n)}));var s={label:a["10180BCGDB-000104"],attrcode:"opr",itemtype:"customer",width:"200px",fixed:"right",visible:!0,render:function(t,a,l){var n=[];return"browse"!=e.form.getFormStatus("billcodebase")&&(n=["ele_up","ele_down","ele_top","ele_bottom","ele_del"]),e.button.createOprationButton(n,{area:"page_line",buttonLimit:3,onButtonClick:function(e,t){return function(e,t,a,l,n){switch(t){case"ele_up":e.editTable.moveRow("elemsTable",n,n-1);break;case"ele_down":e.editTable.moveRow("elemsTable",n,n+1);break;case"ele_top":e.editTable.setRowPosition("elemsTable",n,"up");break;case"ele_bottom":e.editTable.setRowPosition("elemsTable",n,"down");break;case"ele_del":e.editTable.deleteTableRowsByIndex("elemsTable",n)}o(e)}(e,t,0,0,l)}})}};t.elemsTable.items.push(s);a["10180BCGDB-000104"];return t}(e,t,a);e.meta.setMeta(i)}}})};var l=a(1);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}l.base.NCPopconfirm,l.base.NCIcon,l.base.NCMessage,l.base.NCInput;var s=l.base.NCSelect;l.base.NCFormControl,l.high.Refer,s.NCOption;function o(e){for(var t=0,a="",l=e.editTable.getAllRows("elemsTable",!1),n=0;n<l.length;n++){if(l[n].values.elemlenth.value&&"3"!=l[n].status){/^[0-9]([0-9]+\d)?$/.test(l[n].values.elemlenth.value)||"3"!=l[n].values.elemtype.value?t+=parseInt(l[n].values.elemlenth.value):(record.values.elemlenth.value=0,l[n].values.elemlenth.value=0)}"3"!=l[n].status&&(a+=r(l[n],e,l[n].values.elemtype.othervalues))}e.form.setFormItemsValue("billcodebase",{billcodelength:{display:t,value:t}}),e.form.setFormItemsValue("billcodebase",{showresult:{display:a,value:a}})}function r(e,t,a){switch(e.values.elemtype.value){case"0":return e.values.elemvalue.value;case"1":case"4":return a.refcode?"#"+a.refcode+"#":"";case"2":return function(e){var t=new Date,a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var l in a)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[l]:("00"+a[l]).substr((""+a[l]).length)));return e}(t.form.getFormItemsValue("billcodebase","format").value);case"3":if(!t.form.getFormItemsValue("billcodebase","islenvar").value)return"1";for(var l=parseInt(e.values.elemlenth.value),n="",s=0;s<l-1;s++)n+="0";return n+"1"}}},290:function(e,t,a){var l=a(291);"string"==typeof l&&(l=[[e.i,l,""]]);var n={transform:void 0};a(4)(l,n);l.locals&&(e.exports=l.locals)},291:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,"html,\nbody {\n  width: 100%;\n  height: 100%;\n}\n.tree-table {\n  height: calc(100% - 92px) !important;\n  display: -webkit-box;\n  background: #ffffff;\n  padding: 0px;\n  border-radius: 0px 0px 3px 3px;\n}\n.shoulder-definition-area {\n  height: 34px;\n  position: absolute;\n  right: 20px;\n  top: 5px;\n  z-index: 5;\n}\n.contents {\n  width: 15%;\n}\n.refer-pop-window .refer-popover .refer-search {\n  height: 40px;\n  display: none;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.table-area {\n  margin: 0px 10px 0px 10px;\n}\n.sn_button {\n  width: 100%;\n  padding-left: 65%;\n  border-top: 1px solid #d7d7d7;\n  padding-top: 6px;\n}\n.ref_String .h1 {\n  height: 30px;\n}\n.ref_String .ref_comp {\n  width: 25%;\n}\n.buzz_bean_ref .h1 {\n  height: 30px;\n}\n.buzz_bean_ref .ref_comp {\n  width: 25%;\n}\n.ref_org .h1 {\n  height: 30px;\n}\n.ref_org .ref_comp {\n  width: 25%;\n}\n.ref_date .h1 {\n  height: 30px;\n}\n.ref_date .ref_comp {\n  width: 25%;\n}\n.ref_sn .h1 {\n  height: 30px;\n}\n.ref_sn .ref_comp {\n  width: 25%;\n}\n.assignTable .unAssignOrg {\n  width: 45%;\n  float: left;\n}\n.assignTable .unAssignOrg .unAssignOrg_t {\n  border-left: 1px solid #d0d0d0;\n  border-bottom: 1px solid #d0d0d0;\n  border-right: 1px solid #d0d0d0;\n}\n.assignTable .assign {\n  padding-top: 15%;\n  width: 10%;\n  float: left;\n  text-align: center;\n}\n.assignTable .assign .unAssign_btn {\n  margin-top: 20px;\n}\n.assignTable .assignOrg {\n  width: 45%;\n  float: left;\n}\n.assignTable .assignOrg .assignOrg_t {\n  border-left: 1px solid #d0d0d0;\n  border-bottom: 1px solid #d0d0d0;\n  border-right: 1px solid #d0d0d0;\n}\n.sn-Buzz-BeanComp-refer .refer-tree-header {\n  display: none;\n}\n.candidate_attr_ref .refer-tree-header {\n  display: none !important;\n}\n/**\n\n.Org-Type-Composite-Ref{\n  .refer-tree {\n padding-top: 30px;\n\n  }\n}\n\n**/\n",""])},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",l=e[3];if(!l)return a;if(t&&"function"==typeof btoa){var n=(o=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=l.sources.map((function(e){return"/*# sourceURL="+l.sourceRoot+e+" */"}));return[a].concat(s).concat([n]).join("\n")}var o;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var l={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(l[s]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&l[o[0]]||(a&&!o[2]?o[2]=a:a&&(o[2]="("+o[2]+") and ("+a+")"),t.push(o))}},t}},4:function(e,t,a){var l,n,s={},o=(l=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=l.apply(this,arguments)),n}),r=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),i=null,u=0,d=[],c=a(7);function p(e,t){for(var a=0;a<e.length;a++){var l=e[a],n=s[l.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](l.parts[o]);for(;o<l.parts.length;o++)n.parts.push(h(l.parts[o],t))}else{var r=[];for(o=0;o<l.parts.length;o++)r.push(h(l.parts[o],t));s[l.id]={id:l.id,refs:1,parts:r}}}}function f(e,t){for(var a=[],l={},n=0;n<e.length;n++){var s=e[n],o=t.base?s[0]+t.base:s[0],r={css:s[1],media:s[2],sourceMap:s[3]};l[o]?l[o].parts.push(r):a.push(l[o]={id:o,parts:[r]})}return a}function b(e,t){var a=r(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var l=d[d.length-1];if("top"===e.insertAt)l?l.nextSibling?a.insertBefore(t,l.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),d.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),b(e,t),t}function g(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function h(e,t){var a,l,n,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var o=u++;a=i||(i=m(t)),l=C.bind(null,a,o,!1),n=C.bind(null,a,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),b(e,t),t}(t),l=T.bind(null,a,t),n=function(){v(a),a.href&&URL.revokeObjectURL(a.href)}):(a=m(t),l=_.bind(null,a),n=function(){v(a)});return l(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;l(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=f(e,t);return p(a,t),function(e){for(var l=[],n=0;n<a.length;n++){var o=a[n];(r=s[o.id]).refs--,l.push(r)}e&&p(f(e,t),t);for(n=0;n<l.length;n++){var r;if(0===(r=l[n]).refs){for(var i=0;i<r.parts.length;i++)r.parts[i]();delete s[r.id]}}}};var y,B=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,a,l){var n=a?"":l.css;if(e.styleSheet)e.styleSheet.cssText=B(t,n);else{var s=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function _(e,t){var a=t.css,l=t.media;if(l&&e.setAttribute("media",l),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function T(e,t,a){var l=a.css,n=a.sourceMap,s=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||s)&&(l=c(l)),n&&(l+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([l],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},5:function(e,t){e.exports=a},7:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,l=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?e:(n=0===s.indexOf("//")?s:0===s.indexOf("/")?a+s:l+s.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}}})}));
//# sourceMappingURL=index.e66a2b56.js.map