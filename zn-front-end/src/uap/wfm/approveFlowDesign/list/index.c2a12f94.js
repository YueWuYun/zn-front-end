/*! @ncctag {"date":"2020-5-11 23:44:44"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/wfm/approveFlowDesign/list/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/wfm/approveFlowDesign/list/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=312)}([function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,l,u={},c={},p={},f={},d=function(){var e={};return{get:function(t){return t in e?e[t]:null},add:function(t){Object.assign(e,t)},delete:function(t){for(var n=0;n<t.length;n++){var r=t[n];delete e[r]}},data:function(){return e},updateByItemId:function(t,n,r){var o=e[t][n];Object.assign(o,r)},bppUpdateById:function(t,n){var r=e[t];Object.assign(r,n)}}}(),h=(i={entity:{},link:{}},{setEnt:function(e){return Object.assign(i.entity,o({},e,!0))},setLink:function(e,t){return Object.assign(i.link,o({},e,t||!0))},delEnt:function(e){return delete i.entity[e]},delLink:function(e){return delete i.link[e]},entIncludes:function(e){return i.entity[e]},linkIncludes:function(e){return i.link[e]},clearAllSelected:function(){i.entity={},i.link={}},data:function(){return i}}),y=function(){var e=[],t=function(e){return Object.prototype.toString.call(e)};return{getByFlowId:function(t){return e.find((function(e){return!!e[t]}))},getByEntityId:function(n){return e.find((function(e){var r=t(e.entityId);return"[object String]"==r?e.entityId==n:"[object Array]"==r?e.entityId.some((function(e){return e==n})):void 0}))},push:function(t){e.push(t)},delete:function(t){e=e.filter((function(e){return!t.some((function(t){return t==e.flowId}))}))},delEntityFromFlow:function(e,n){var r=this.getByFlowId(e);if("[object Array]"==t(r.entityId)){var o=r.entityId.indexOf(n);r.entityId.splice(o,1)}else r.entityId=""},addEntityToFlow:function(e,n){var r=this.getByFlowId(e);"[object Array]"==t(r.entityId)?r.entityId.push(n):""==r.entityId?r.entityId=n:r.entityId=[r.entityId,n]},data:function(){return e}}}(),m=(a={},{setArr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];arguments.length>2&&void 0!==arguments[2]&&arguments[2],a[e]||(a[e]={prevArr:t}),a[e].prevArr=Array.from(new Set([].concat(r(a[e].prevArr),r(t))))},getArr:function(e){return a[e]},deleteFromUpperAndPrev:function(e,t){if(a[e]){var n=a[e].prevArr;t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}))}},includesInPrevArr:function(e,t){return a[e].prevArr.includes(t)},includesInUpperArr:function(e,t){return a[e].upperArr.includes(t)},data:function(){return a},delBill:function(e){return delete a[e]}}),b=(s={flowType:"",shouldUnload:!1},{get:function(e){return s[e]},set:function(e){return Object.assign(s,e)}}),v=function(){var e=void 0;return{set:function(t){e=t},get:function(){return e}}}(),g=function(){var e={billType:"",billPK:"",flowPackageId:"",isLightApp:"",metaclassid:"",pk_org:"",originFlowData:{}};return{set:function(t){return Object.assign(e,t)},get:function(){return e}}}(),w=(l=[],{set:function(e){return l.push.apply(l,e)},get:function(){return l}});t.setMultiLang=function(e){t.multiLang=u=e,console.log("test-multiLang",u),t.panelItemMap=c={start:u["utils-000000"],finish:u["utils-000001"],check:u["utils-000002"],manual:u["utils-000002"],auto:u["utils-000003"],subflow:u["utils-000004"],dummy:u["utils-000005"],lister:u["utils-000006"],vo:u["utils-000007"],router:u["utils-000008"],bill:u["utils-000009"],drive:u["utils-000010"]},t.activityNameMap=p={start:u["utils-000012"],finish:u["utils-000013"],check:u["utils-000002"],manual:u["utils-000002"],auto:u["utils-000003"],lister:u["utils-000006"],subflow:u["utils-000011"],dummy:u["utils-000005"]},t.activityTypeMap=f={start:u["utils-000000"],finish:u["utils-000001"],check:u["utils-000014"],manual:u["utils-000015"],auto:u["utils-000003"],lister:u["utils-000016"],subflow:u["utils-000004"],dummy:u["utils-000005"],vo:u["utils-000007"],router:u["utils-000008"],bill:u["utils-000018"],drive:u["utils-000017"]}},t.multiLang=u,t.panelItemMap=c,t.activityNameMap=p,t.activityTypeMap=f,t.attributesList=d,t.subflowsList=y,t.flowContext=g,t.usableSubflowList=w,t.urlConst=b,t.WorkflowGadgetlist=v,t.upBill=m,t.multiSelectList=h},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),l=null,u=0,c=[],p=n(17);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=l||(l=m(t)),r=k.bind(null,n,a,!1),o=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),r=T.bind(null,n,t),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=_.bind(null,n),o=function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return f(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&f(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function k(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function T(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,n){e.exports=n(32)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxZero=t.minZero=t.deepCompare=t.getUpperConfigManualAction=t.isEmptyObject=t.getLowerBill=t.getUpperBill=t.parseUrl=t.getQueryString=t.isTransformSupported=t.setTransform=t.getLinksByTarget=t.formatTime=t.getLink=t.getEntityByType=t.getEntity=t.uuid=t.isChrome=t.IEVersion=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0);function i(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var o=parseFloat(RegExp.$1);return 7===o?7:8===o?8:9===o?9:10===o?10:6}return n?"edge":!!r&&11}var a=function(e,t){return e.find((function(e){return e.id==t}))};t.IEVersion=i,t.isChrome=function(e){var t=navigator.userAgent,n=t.indexOf("Firefox")>-1,r=t.indexOf("Safari")>-1,o=t.indexOf("Chrome")>-1,a=i();return!!(n||o||r)||(a?(alert(e[0]),!1):void 0)},t.uuid=function(){for(var e=[],t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.getEntity=a,t.getEntityByType=function(e,t){return e.find((function(e){return e.type==t}))},t.getLink=function(e,t,n){var r=void 0;if(n)r=e.find((function(e){return e.id==n})).linksTo.find((function(e){return e.linkId==t}));else for(var o=0;o<e.length;o++){if(r=e[o].linksTo.find((function(e){return e.linkId==t})))break}return r},t.formatTime=function(e){var t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},t.getLinksByTarget=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r].linksTo;if(o&&o.length>0)for(var i=0;i<o.length;i++){var a=o[i];a.target==t&&n.push(a)}}return n},t.setTransform=function(e,t){e.transform=t,e.webkitTransform=t,e.mozTransform=t},t.isTransformSupported=function(e){return"transform"in e||"webkitTransform"in e||"MozTransform"in e},t.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.hash.substr(6).match(t);return null!=n?unescape(n[2]):null},t.parseUrl=function(){var e=window.location.hash.substr(2),t={};return e.replace(/(\w+)=([a-zA-Z0-9_-]+)/gi,(function(e,n,r){t[n]=unescape(r)})),t},t.getUpperBill=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments[4],i=t.id;function s(e,t,n,r){for(var l=t.linksFrom,u=0;u<l.length;u++){var c=l[u];if("bill"==c.type&&"bpp_link_wb"!=c.lineType){if(n.push(c.entityId),i==t.id&&r.push(c.entityId),o&&r.length>0)return;s(e,a(e,c.entityId),n,r)}else if("drive"==c.type){var p=a(e,c.entityId);if(!p||p.ctm_class)continue;var f=p.linksFrom[0]&&p.linksFrom[0].entityId;if(f==t.id)continue;if(f){if(n.push(f),p.linksTo.some((function(e){return e.target==i}))&&r.push(f),o&&r.length>0)return;s(e,a(e,f),n,r)}}}}s(e,t,r,n);var l=new Set(r);r.length=0,r.push.apply(r,Array.from(l))},t.getLowerBill=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=t.id;function i(e,t,r){for(var s=t.linksTo,l=0;l<s.length;l++){var u=s[l];if("bpp_link_ps"==u.type){r.push(u.target),o==u.from&&n.push(u.target);var c=a(e,u.target);i(e,c,r)}else if("bpp_link"==u.type){var p=a(e,u.target);if("drive"==p.type)if("continue"===function(){if(p.ctm_class)return"continue";var t=p.id;p.linksFrom.length>0&&p.linksFrom[0].entityId==o&&!p.ctm_class&&p.linksTo.forEach((function(e){n.push(e.target)})),e.filter((function(e){return e.linksFrom.some((function(e){return e.entityId==t}))})).forEach((function(t){r.push(t.id),i(e,t,r)}))}())continue}}}i(e,t,r);var s=new Set(r);r.length=0,r.push.apply(r,Array.from(s))},t.isEmptyObject=function(e){for(var t in e)return!1;return!0},t.getUpperConfigManualAction=function(e,t,n){!function e(t,n,r){for(var i=n.linksFrom,s=0;s<i.length;s++){var l=i[s].entityId,u=a(t,l),c=o.attributesList.get(l);c.participants&&c.participants.organizeUnitPK&&r.push(u.name),u.linksFrom.length>0&&e(t,u,r)}}(e,t,n);var r=new Set(n);n.length=0,n.push.apply(n,Array.from(r))},t.deepCompare=function(e,t){var n,o;function i(e,t){var n;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return console.log("end",n),!1;if(r(t[n])!==r(e[n]))return console.log("end",n),!1}for(n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return console.log("end",n),!1;if(r(e[n])!==r(t[n]))return console.log("end",n),!1;switch(r(e[n])){case"object":if("points"==n)continue;if(!i(e[n],t[n]))return console.log("end",n),!1;break;default:if("x"==n||"y"==n||"width"==n||"height"==n)continue;if(e[n]!==t[n])return console.log("end",n),!1}}return!0}if(arguments.length<1)return!0;for(n=1,o=arguments.length;n<o;n++)if(!i(arguments[0],arguments[n]))return!1;return!0},t.minZero=function(e){return e<0?0:e},t.maxZero=function(e){return e>0?0:e}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t);var o=n(2),i=n(5),a=n.n(i),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),l=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});function u(e){var t;void 0===e&&(e="store");var n=e+"Subscription",i=function(t){r(a,t);var i=a.prototype;function a(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:l.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=l.isRequired,t[n]=s,t),i}var c=u();function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var h=n(20),y=n.n(h),m=n(9),b=n.n(m),v=n(13),g={notify:function(){}};var w=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=g}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=g)},e}(),k=0,_={};function T(){}function x(e,t){var n,i;void 0===t&&(t={});var a=t,u=a.getDisplayName,c=void 0===u?function(e){return"ConnectAdvanced("+e+")"}:u,h=a.methodName,m=void 0===h?"connectAdvanced":h,g=a.renderCountProp,x=void 0===g?void 0:g,E=a.shouldHandleStateChanges,O=void 0===E||E,S=a.storeKey,P=void 0===S?"store":S,M=a.withRef,j=void 0!==M&&M,C=d(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=P+"Subscription",N=k++,A=((n={})[P]=l,n[I]=s,n),R=((i={})[I]=s,i);return function(t){b()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=c(n),a=f({},C,{getDisplayName:c,methodName:m,renderCountProp:x,shouldHandleStateChanges:O,storeKey:P,withRef:j,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var r;return(r=n.call(this,e,t)||this).version=N,r.state={},r.renderCount=0,r.store=e[P]||t[P],r.propsMode=Boolean(e[P]),r.setWrappedInstance=r.setWrappedInstance.bind(p(p(r))),b()(r.store,'Could not find "'+P+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var l=s.prototype;return l.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[I]=t||this.context[I],e},l.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(e){this.selector.run(e)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=T,this.store=null,this.selector.run=T,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return b()(j,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},l.setWrappedInstance=function(e){this.wrappedInstance=e},l.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(O){var e=(this.propsMode?this.props:this.context)[I];this.subscription=new w(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(e){if(!(j||x||this.propsMode&&this.subscription))return e;var t=f({},e);return j&&(t.ref=this.setWrappedInstance),x&&(t[x]=this.renderCount++),this.propsMode&&this.subscription&&(t[I]=this.subscription),t},l.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=i,s.childContextTypes=R,s.contextTypes=A,s.propTypes=A,y()(s,t)}}var E=Object.prototype.hasOwnProperty;function O(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(O(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!E.call(t,n[o])||!O(e[n[o]],t[n[o]]))return!1;return!0}var P=n(12);function M(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function j(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=j(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=j(o),o=r(t,n)),o},r}}var I=[function(e){return"function"==typeof e?C(e):void 0},function(e){return e?void 0:M((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?M((function(t){return Object(P.bindActionCreators)(e,t)})):void 0}];var N=[function(e){return"function"==typeof e?C(e):void 0},function(e){return e?void 0:M((function(){return{}}))}];function A(e,t,n){return f({},n,e,t)}var R=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return A}}];function D(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function B(e,t,n,r,o){var i,a,s,l,u,c=o.areStatesEqual,p=o.areOwnPropsEqual,f=o.areStatePropsEqual,d=!1;function h(o,d){var h,y,m=!p(d,a),b=!c(o,i);return i=o,a=d,m&&b?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):b?(h=e(i,a),y=!f(h,s),s=h,y&&(u=n(s,l,a)),u):u}return function(o,c){return d?h(o,c):(s=e(i=o,a=c),l=t(r,a),u=n(s,l,a),d=!0,u)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?B:D)(a,s,l,e,i)}function z(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function U(e,t){return e===t}var F,q,V,W,K,H,$,Y,G,J,Z,X,Q=(V=(q=void 0===F?{}:F).connectHOC,W=void 0===V?x:V,K=q.mapStateToPropsFactories,H=void 0===K?N:K,$=q.mapDispatchToPropsFactories,Y=void 0===$?I:$,G=q.mergePropsFactories,J=void 0===G?R:G,Z=q.selectorFactory,X=void 0===Z?L:Z,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,l=void 0===s?U:s,u=o.areOwnPropsEqual,c=void 0===u?S:u,p=o.areStatePropsEqual,h=void 0===p?S:p,y=o.areMergedPropsEqual,m=void 0===y?S:y,b=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=z(e,H,"mapStateToProps"),g=z(t,Y,"mapDispatchToProps"),w=z(n,J,"mergeProps");return W(X,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:w,pure:a,areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:h,areMergedPropsEqual:m},b))});n.d(t,"Provider",(function(){return c})),n.d(t,"createProvider",(function(){return u})),n.d(t,"connectAdvanced",(function(){return x})),n.d(t,"connect",(function(){return Q}))},function(e,t){e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i,a,s,l,u=function(){var e={};return{get:function(t){return t in e?e[t]:null},add:function(t){Object.assign(e,t)},delete:function(t){for(var n=0;n<t.length;n++){var r=t[n];delete e[r]}},data:function(){return e},updateByItemId:function(t,n,r){var o=e[t][n];Object.assign(o,r)},bppUpdateById:function(t,n){var r=e[t];Object.assign(r,n)}}}(),c=(i={entity:{},link:{}},{setEnt:function(e){return Object.assign(i.entity,o({},e,!0))},setLink:function(e,t){return Object.assign(i.link,o({},e,t||!0))},delEnt:function(e){return delete i.entity[e]},delLink:function(e){return delete i.link[e]},entIncludes:function(e){return i.entity[e]},linkIncludes:function(e){return i.link[e]},clearAllSelected:function(){i.entity={},i.link={}},data:function(){return i}}),p=function(){var e=[],t=function(e){return Object.prototype.toString.call(e)};return{getByFlowId:function(t){return e.find((function(e){return!!e[t]}))},getByEntityId:function(n){return e.find((function(e){var r=t(e.entityId);return"[object String]"==r?e.entityId==n:"[object Array]"==r?e.entityId.some((function(e){return e==n})):void 0}))},push:function(t){e.push(t)},delete:function(t){e=e.filter((function(e){return!t.some((function(t){return t==e.flowId}))}))},delEntityFromFlow:function(e,n){var r=this.getByFlowId(e);if("[object Array]"==t(r.entityId)){var o=r.entityId.indexOf(n);r.entityId.splice(o,1)}else r.entityId=""},addEntityToFlow:function(e,n){var r=this.getByFlowId(e);"[object Array]"==t(r.entityId)?r.entityId.push(n):""==r.entityId?r.entityId=n:r.entityId=[r.entityId,n]},data:function(){return e}}}(),f=(a={},{setArr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];arguments.length>2&&void 0!==arguments[2]&&arguments[2],a[e]||(a[e]={prevArr:t}),a[e].prevArr=Array.from(new Set([].concat(r(a[e].prevArr),r(t))))},getArr:function(e){return a[e]},deleteFromUpperAndPrev:function(e,t){if(a[e]){var n=a[e].prevArr;t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}))}},includesInPrevArr:function(e,t){return a[e].prevArr.includes(t)},includesInUpperArr:function(e,t){return a[e].upperArr.includes(t)},data:function(){return a},delBill:function(e){return delete a[e]}}),d=(s={flowType:"",shouldUnload:!1},{get:function(e){return s[e]},set:function(e){return Object.assign(s,e)}}),h=function(){var e=void 0;return{set:function(t){e=t},get:function(){return e}}}(),y=function(){var e={billType:"",billPK:"",flowPackageId:"",isLightApp:"",metaclassid:"",pk_org:""};return{set:function(t){return Object.assign(e,t)},get:function(){return e}}}(),m=(l=[],{set:function(e){return l.push.apply(l,e)},get:function(){return l}});t.attributesList=u,t.subflowsList=p,t.flowContext=y,t.usableSubflowList=m,t.urlConst=d,t.WorkflowGadgetlist=h,t.upBill=f,t.multiSelectList=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSubflowId=t.selectLink=t.unselectAll=t.selectEntity=t.move=t.setCustom=t.setEntities=t.metaEntityReducer=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(22),a=(r=i)&&r.__esModule?r:{default:r},s=n(10),l=n(23);var u=function(e){return o({},e,{isSelected:!1})};t.metaEntityReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=arguments[3];switch(t.type){case"editor/entity/SET":return t.payload.map((function(e){return{id:e.id,isAnchored:!1,isSelected:!1,anchor:{x:e.width/2,y:e.height/2}}}));case"editor/metaentity/SELECT":var i=t.payload,a=i.id,s=i.isSelected;return e.map((function(e){return e.id==a?o({},e,{isSelected:s}):o({},e,{isSelected:!1})}));case"editor/canvas/ANCHOR_ENTITY":var l=t.payload.id;return e.map((function(e){return e.id==l?o({},e,{isAnchored:!0,anchor:{x:r.cursor.x-(n.find((function(e){return e.id==l}))||{x:0}).x,y:r.cursor.y-(n.find((function(e){return e.id==l}))||{y:0}).y}}):o({},e,{isAnchored:!1})}));case"editor/canvas/ANCHOR_CANVAS":return e.map(u);case"editor/entity/CONNECT":case"editor/metaentity/UNSELECTALL":return e.map(u);default:return e}},t.setEntities=function(e){return{type:"editor/entity/SET",payload:e}},t.setCustom=function(e){return{type:"editor/entity/SET_CUSTOM",payload:e}},t.move=function(e){return{type:"editor/entity/MOVE",payload:e}},t.selectEntity=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"editor/metaentity/SELECT",payload:{id:e,isSelected:t}}},t.unselectAll=function(){return{type:"editor/metaentity/UNSELECTALL",payload:null}},t.selectLink=function(e,t){return{type:"editor/link/SELECT_LINK",payload:{fromId:e,linkId:t}}},t.setSubflowId=function(e,t){return{type:"editor/entity/SET_SUBFLOWID",payload:{entityId:e,subflowId:t}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=arguments[3];switch(t.type){case"editor/entity/SET":return t.payload;case"editor/config/SET":var i=t.payload;return e.map((function(e){var t=i.entityTypes[e.type];return t?o({},e,{width:t.width,height:t.height}):e}));case"editor/canvas/TRACK":if(r.anchoredEntity.isAnchored){var u=r.anchoredEntity.id,c=n.find((function(e){return e.id===u}))||{anchor:{x:0,y:0}},p=r.cursor.x-c.anchor.x,f=r.cursor.y-c.anchor.y,d=p,h=f;s.urlConst.get("flowType");return e.map((function(t){return t.linksTo&&t.id===u?o({},t,{x:d,y:h,linksTo:t.linksTo.map((function(n){return o({},n,{points:(0,a.default)(t,(0,l.getEntity)(e,n.target),n.points.lineType,null,n.points.curviness,!0)})}))}):t.id===u?o({},t,{x:d,y:h}):t.linksTo&&t.linksTo.some((function(e){return e.target===u}))?o({},t,{linksTo:t.linksTo.map((function(n){return n.target===u?o({},n,{points:(0,a.default)(t,(0,l.getEntity)(e,n.target),n.points.lineType,null,n.points.curviness,!0)}):n}))}):t}))}return e;case"editor/entity/SET_SUBFLOWID":var y=t.payload,m=y.entityId,b=y.subflowId;return e.map((function(e){return e.id==m?o({},e,{subflowId:b}):e}));case"editor/entity/SET_CUSTOM":var v=t.payload,g=v.id,w=v.custom;return e.map((function(e){return e.id==g?o({},e,{custom:w}):e}));case"editor/link/SELECT_LINK":var k=t.payload,_=k.fromId,T=k.linkId;return e.map((function(e){return e.id==_?o({},e,{linksTo:e.linksTo.map((function(e){return e.linkId==T?o({},e,{selected:!0}):o({},e,{selected:!1})}))}):e}));case"editor/metaentity/SELECT":case"editor/canvas/ANCHOR_CANVAS":return e.map((function(e){return o({},e,{linksTo:e.linksTo?e.linksTo.map((function(e){return o({},e,{selected:!1})})):[]})}));default:return e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return i})),n.d(t,"applyMiddleware",(function(){return m})),n.d(t,"bindActionCreators",(function(){return p})),n.d(t,"combineReducers",(function(){return u})),n.d(t,"compose",(function(){return y})),n.d(t,"createStore",(function(){return s}));var r=n(14),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],p=c,f=!1;function d(){p===c&&(p=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function y(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return d(),p.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,d();var n=p.indexOf(e);p.splice(n,1)}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=c=p,n=0;n<t.length;n++){(0,t[n])()}return e}function b(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,m({type:i.REPLACE})}function v(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:y,getState:h,replaceReducer:b})[r.a]=v,o}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},i=0;i<s.length;i++){var u=s[i],c=n[u],p=e[u],f=c(p,t);if(void 0===f){var d=l(u,t);throw new Error(d)}o[u]=f,r=r||f!==p}return r?o:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=c(o,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return h({},n,{dispatch:r=y.apply(void 0,i)(n.dispatch)})}}}},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";(function(e,r){var o,i=n(19);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(29),n(30)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetViewport=t.anchorEntity=t.connecting=t.anchorCanvas=t.zoom=t.trackMovement=t.configViewport=t.initialColors=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(35),a=(r=i)&&r.__esModule?r:{default:r};n(10);var s=function(e,t,n){return{width:(e.width-t.x)/n,height:(e.height-t.y)/n}},l=function(e){var t=a.default.get();return o({},e,{canvasViewport:t,canvasArtboard:o({},e.canvasArtboard,s(t,e.canvasArtboard,e.zoom))})};t.initialColors=function(e){return{type:"editor/link/INITIAL_COLORS",payload:e}},t.configViewport=function(e){return{type:"editor/canvas/CONFIG_VIEWPORT",payload:e}},t.trackMovement=function(e){return{type:"editor/canvas/TRACK",payload:e}},t.zoom=function(e,t,n,r){return{type:"editor/canvas/ZOOM",payload:{zoom:e,offsetX:t,offsetY:n,reset:r}}},t.anchorCanvas=function(e){return{type:"editor/canvas/ANCHOR_CANVAS",payload:e}},t.connecting=function(e){return{type:"editor/canvas/CONNECT",payload:e}},t.anchorEntity=function(e){var t=e.isAnchored,n=void 0===t||t,r=e.id;return{type:"editor/canvas/ANCHOR_ENTITY",payload:{isAnchored:n,id:void 0===r?"":r,clientX:e.clientX,clientY:e.clientY}}},t.resetViewport=function(){return{type:"editor/canvas/RESET_VIEWPORT"}};t.default=function(e,t){switch(t.type){case"editor/canvas/CONFIG_VIEWPORT":return l(e);case"editor/config/SET":return o({},e,{gridSize:t.payload.gridSize});case"editor/canvas/ANCHOR_CANVAS":return o({},e,{selectedEntity:{id:"",linkId:""},canvasAnchor:{isMoving:t.payload,coords:e.cursor}});case"editor/canvas/TRACK":var n=e.zoom,r=t.payload,i=r.x,a=r.y,u=e.canvasViewport,c=u.x,p=u.y,f=e.canvasAnchor.coords,d=f.x,h=f.y,y=e.canvasArtboard,m=y.x,b=y.y;return e.canvasAnchor.isMoving?o({},e,{canvasArtboard:function(){var t=i-c-d*n,r=a-p-h*n,l={x:t>0?0:t,y:r>0?0:r};return o({},s(e.canvasViewport,l,n),l)}()}):o({},e,{cursor:{x:1/n*(i-c-m),y:1/n*(a-p-b)}});case"editor/canvas/ZOOM":var v=t.payload,g=v.zoom,w=v.offsetX,k=v.offsetY,_=v.reset,T=s(e.canvasViewport,_?e.canvasArtboard:{x:0,y:0},g),x=e.canvasArtboard.x-w,E=e.canvasArtboard.y-k;return o({},e,{zoom:g,canvasArtboard:o({},e.canvasArtboard,{x:x,y:E,width:T.width+Math.abs(x)/g,height:T.height+Math.abs(E)/g})});case"editor/canvas/CONNECT":return o({},e,{connecting:t.payload});case"editor/canvas/ANCHOR_ENTITY":return o({},e,{anchoredEntity:t.payload});case"editor/canvas/RESET_VIEWPORT":return o({},l(e));case"editor/metaentity/SELECT":var O=t.payload.id;return o({},e,{selectedEntity:{id:O,linkId:""}});case"editor/link/SELECT_LINK":var S=t.payload,P=(S.fromId,S.linkId);return o({},e,{selectedEntity:o({},e.selectedEntity,{linkId:P})});case"editor/link/INITIAL_COLORS":return o({},e,{lineColors:t.payload});default:return e}}},,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},,function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(13),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=d(n);o&&o!==h&&e(t,o,r)}var a=c(n);p&&(a=a.concat(p(n)));for(var s=l(t),y=l(n),m=0;m<a.length;++m){var b=a[m];if(!(i[b]||r&&r[b]||y&&y[b]||s&&s[b])){var v=f(n,b);try{u(t,b,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var r=c(n(2)),o=n(12),i=c(n(31)),a=n(7),s=n(42),l=c(s),u=c(n(44));function c(e){return e&&e.__esModule?e:{default:e}}n(57);var p=t.store=(0,o.createStore)(l.default,s.initialState,(0,o.applyMiddleware)(i.default));t.default=function(e){return r.default.createElement(a.Provider,{store:p},r.default.createElement("div",{className:"editorWrapper"},r.default.createElement(u.default,{customEntities:e.customEntities})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(10);var r=function(e,t,n){return{x:(t.x-e.x)*n+e.x,y:(t.y-e.y)*n+e.y}},o=function(e,t){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return Math.sqrt(n*n+r*r)},i=function(e,t,n,i,a,s,l,u){if(l=l||0,u){var c=(d=i,{x:((f=n).x+d.x)/2,y:(f.y+d.y)/2}),p=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=void 0;return 0==n?r>0?90:r<0?270:0:0==r?n>0?0:180:isNaN(n)||isNaN(r)?0:(o=180*Math.atan(Math.abs(r/n))/Math.PI,n<0?o=r<0?180+o:180-o:r<0&&(o=360-o),o)}(n,i);s={x:c.x+l*Math.sin(p/180*Math.PI),y:c.y-l*Math.cos(p/180*Math.PI)}}for(var f,d,h=s||{x:(n.x+i.x)/2,y:(n.y+i.y)/2},y=o(n,i),m=o(i,h),b=(y-25*((n.x-i.x)*(h.x-i.x)+(n.y-i.y)*(h.y-i.y))/(y*m))/y,v=[n,{x:n.x+2*(h.x-n.x)/3,y:n.y+2*(h.y-n.y)/3},{x:i.x+2*(h.x-i.x)/3,y:i.y+2*(h.y-i.y)/3},i],g=[],w=1;w<4;w++)g.push(r(v[w-1],v[w],b));return g.push(r(g[0],g[1],b)),g.push(r(g[1],g[2],b)),g.push(r(g[3],g[4],b)),{lineType:a,pointsArr:[v[0],g[0],g[3],g[5]],QPointsArr:[n,h,i],cPoint:h,curviness:l}};t.default=function(e,t,n,r,o,a){if(null==e||null==t)return[{x:0,y:0},{x:100,y:100}];var s={x:e.x+e.width/2,y:e.y+e.height/2},l={x:t.x+t.width/2,y:t.y+t.height/2};return i(0,0,s,l,n,r,o,a)}},function(e,t,n){"use strict";function r(){for(var e=navigator.userAgent.split(" "),t="",n=0;n<e.length;n++)/chrome/i.test(e[n])&&(t=e[n]);return t?Number(t.split("/")[1].split(".")[0]):(alert("为了获得更好的用户体验请使用谷歌浏览器打开!"),!1)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return e.find((function(e){return e.id==t}))};t.isChrome=function(){return!!r()&&(!(r()<52)||(alert("您使用的谷歌浏览器版本过低，为了更好地体验请将浏览器升级到最新版本!"),!1))},t.uuid=function(){for(var e=[],t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.getEntity=o,t.getEntityByType=function(e,t){return e.find((function(e){return e.type==t}))},t.getLink=function(e,t,n){var r=void 0;if(n)r=e.find((function(e){return e.id==n})).linksTo.find((function(e){return e.linkId==t}));else for(var o=0;o<e.length;o++){if(r=e[o].linksTo.find((function(e){return e.linkId==t})))break}return r},t.panelItemMap={start:"开始",finish:"结束",check:"人工活动",manual:"人工活动",auto:"自动活动",subflow:"子流程",dummy:"虚活动",lister:"制单人",vo:"VO交换",router:"路由器",bill:"单据",drive:"动作驱动"},t.activityTypeMap={start:"开始活动",finish:"结束活动",check:"审核",manual:"手工活动",auto:"自动活动",lister:"制单",subflow:"子流程",dummy:"虚活动",vo:"VO交换",router:"路由器",bill:"单据",drive:"驱动"},t.activityNameMap={start:"开始",finish:"结束",check:"人工活动",manual:"人工活动",auto:"自动活动",lister:"制单人",subflow:"新建子流程",dummy:"虚活动"},t.formatTime=function(e){var t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},t.getLinksByTarget=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r].linksTo;if(o&&o.length>0)for(var i=0;i<o.length;i++){var a=o[i];a.target==t&&n.push(a)}}return n},t.setTransform=function(e,t){e.transform=t,e.webkitTransform=t,e.mozTransform=t},t.isTransformSupported=function(e){return"transform"in e||"webkitTransform"in e||"MozTransform"in e},t.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.hash.substr(6).match(t);return null!=n?unescape(n[2]):null},t.parseUrl=function(){var e=window.location.hash.substr(2),t={};return e.replace(/(\w+)=([a-zA-Z0-9_-]+)/gi,(function(e,n,r){t[n]=unescape(r)})),t},t.getUpperBill=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments[4],a=t.id;function s(e,t,n,r){for(var l=t.linksFrom,u=0;u<l.length;u++){var c=l[u];if("bill"==c.type&&"bpp_link_wb"!=c.lineType){if(n.push(c.entityId),a==t.id&&r.push(c.entityId),i&&r.length>0)return;s(e,o(e,c.entityId),n,r)}else if("drive"==c.type){var p=o(e,c.entityId);if(!p||p.ctm_class)continue;var f=p.linksFrom[0]&&p.linksFrom[0].entityId;if(f==t.id)continue;if(f){if(n.push(f),p.linksTo.some((function(e){return e.target==a}))&&r.push(f),i&&r.length>0)return;s(e,o(e,f),n,r)}}}}s(e,t,r,n);var l=new Set(r);r.length=0,r.push.apply(r,Array.from(l))},t.getLowerBill=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.id;function a(e,t,r){for(var s=t.linksTo,l=0;l<s.length;l++){var u=s[l];if("bpp_link_ps"==u.type){r.push(u.target),i==u.from&&n.push(u.target);var c=o(e,u.target);a(e,c,r)}else if("bpp_link"==u.type){var p=o(e,u.target);if("drive"==p.type)if("continue"===function(){if(p.ctm_class)return"continue";var t=p.id;p.linksFrom.length>0&&p.linksFrom[0].entityId==i&&!p.ctm_class&&p.linksTo.forEach((function(e){n.push(e.target)})),e.filter((function(e){return e.linksFrom.some((function(e){return e.entityId==t}))})).forEach((function(t){r.push(t.id),a(e,t,r)}))}())continue}}}a(e,t,r);var s=new Set(r);r.length=0,r.push.apply(r,Array.from(s))},t.isEmptyObject=function(e){for(var t in e)return!1;return!0}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customEntities=t.config=void 0;var r=s(n(68)),o=s(n(71)),i=s(n(74)),a=s(n(77));function s(e){return e&&e.__esModule?e:{default:e}}var l={approve:{entityTypes:{start:{width:40,height:40},finish:{width:40,height:40},check:{width:40,height:40},dummy:{width:40,height:40},subflow:{width:40,height:40}},gridSize:20},workflow:{entityTypes:{start:{width:40,height:40},finish:{width:40,height:40},manual:{width:40,height:40},auto:{width:40,height:40},dummy:{width:40,height:40},subflow:{width:40,height:40}},gridSize:20},bpp:{entityTypes:{start:{width:40,height:40},finish:{width:40,height:40},bill:{width:40,height:40},drive:{width:30,height:30},vo:{width:40,height:40},router:{width:40,height:40}},gridSize:20}},u={start:{component:r.default,icon:(0,a.default)("flow-start.png"),bg:"flow-start.png"},finish:{component:r.default,icon:(0,a.default)("flow-finish.png"),bg:"flow-finish.png"},lister:{component:r.default,icon:(0,a.default)("flow-lister.png"),bg:"flow-lister.png"},check:{component:r.default,icon:(0,a.default)("flow-check.png"),bg:"flow-check.png"},dummy:{component:r.default,icon:(0,a.default)("flow-dummy.png"),bg:"flow-dummy.png"},subflow:{component:i.default,icon:(0,a.default)("flow-subflow.png"),bg:"flow-subflow.png"},auto:{component:r.default,icon:(0,a.default)("flow-auto.png"),bg:"flow-auto.png"},manual:{component:r.default,icon:(0,a.default)("flow-check.png"),bg:"flow-check.png"},bill:{component:r.default,icon:(0,a.default)("bpp_bill.png"),bg:"bpp_bill.png"},drive:{component:o.default,icon:(0,a.default)("bpp_drive.png"),bg:"bpp_drive.png"},vo:{component:r.default,icon:(0,a.default)("bpp_vo.png"),bg:"bpp_vo.png"},router:{component:r.default,icon:(0,a.default)("bpp_router.png"),bg:"bpp_router.png"}};t.config=l,t.customEntities=u},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}n.r(t);var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";var r=n(33);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case p:case f:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case u:return e;default:return t}}case b:case m:case i:return t}}}function k(e){return w(e)===f}t.typeOf=w,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=b,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===g)},t.isAsyncMode=function(e){return k(e)||w(e)===p},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===b},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=(r=null,o={},{set:function(e){r=e},gc:function(){r=void 0},get:function(){if(r){var e=r.getBoundingClientRect(),t=e.top,n=e.left,o=e.width,i=e.height;return{width:parseInt(o,10),height:parseInt(i,10),y:parseInt(t,10),x:parseInt(n,10)}}return{width:100,height:100,x:0,y:0}},getRef:function(e){return o[e]},saveRef:function(e){return function(t){o[e]=t}}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setConfig=function(e){return{type:"editor/config/SET",payload:e}};t.default=function(e,t){switch(t.type){case"editor/config/SET":return t.payload;default:return e}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r={billType:null,billPK:null,flowPackageId:null,billTypeName:null,isLightApp:null,pk_org:null,metaclassid:null,openNode:null,orgcode:null,orgname:null,isShowDis:!1,isOrgType:"N",flowType:null,pageIndex:0,pageSize:10},{get:function(){return r},set:function(e){return Object.assign(r,e)}});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},refType:"tree",refName:"1880000025-000239",placeholder:"1880000025-000239",rootNode:{refname:"1880000025-000047",refpk:"root"},queryTreeUrl:"/nccloud/riart/ref/orgUnitPropertyTree.do",treeConfig:{name:["1880000025-000002","1880000025-000003"],code:["refcode","refname"]},isTreelazyLoad:!1,isMultiSelectedEnabled:!0,isShowTreeSearch:!0,showHistory:!1};return React.createElement(o,r({popWindowClassName:"md-tree-ref"},t,e))};var o=n(1).high.Refer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialColors=t.getEntity=t.parseUrl=t.urlConst=t.attributesList=t.uuid=t.isChrome=t.formatTime=t.calcLinkPoints=t.setEntities=t.setConfig=t.store=t.Graph=void 0;var r=n(21),o=p(r),i=n(11),a=n(36),s=n(15),l=p(n(22)),u=n(10),c=n(23);function p(e){return e&&e.__esModule?e:{default:e}}t.Graph=o.default,t.store=r.store,t.setConfig=a.setConfig,t.setEntities=i.setEntities,t.calcLinkPoints=l.default,t.formatTime=c.formatTime,t.isChrome=c.isChrome,t.uuid=c.uuid,t.attributesList=u.attributesList,t.urlConst=u.urlConst,t.parseUrl=c.parseUrl,t.getEntity=c.getEntity,t.initialColors=s.initialColors},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=l(n(15)),o=l(n(36)),i=l(n(43)),a=n(11),s=l(a);function l(e){return e&&e.__esModule?e:{default:e}}var u={x:0,y:0},c=t.initialState={mainFlowId:"",entity:[],metaEntity:[],canvas:{cursor:u,canvasViewport:{x:0,y:0,width:100,height:100},canvasArtboard:{x:0,y:0,width:100,height:100},connecting:{currently:!1,from:"",lineStyle:""},anchoredEntity:{isAnchored:!1,id:""},selectedEntity:{id:"",linkId:""},canvasAnchor:{isMoving:!1,coords:u},lineColors:[],zoom:.875},config:{entityTypes:{}}};t.default=(0,i.default)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];return{canvas:(0,r.default)(e.canvas,t),entity:(0,s.default)(e.entity,t,e.metaEntity,e.canvas),metaEntity:(0,a.metaEntityReducer)(e.metaEntity,t,e.entity,e.canvas),config:(0,o.default)(e.config,t)}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(10);t.default=function(e){return function(t,n){var o=e(t,n);switch(n.type){case"editor/canvas/TRACK":return o;default:return r({},o)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(2)),a=n(7),s=m(n(35)),l=m(n(45)),u=n(48),c=m(u),p=m(n(49)),f=n(11),d=n(15),h=m(n(52)),y=m(n(22));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(55);var k=function(e){function t(e){v(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDivRef=function(t){e.innerRef(t)},n}return w(t,e),o(t,[{key:"render",value:function(){return i.default.createElement("div",{onMouseMove:this.props.onMouseMove,ref:this.setDivRef,className:"canvasViewport"},this.props.children)}}]),t}(i.default.PureComponent),_=function(e){var t=100-100/e.gridSize,n=e.gridSize,o=e.zoomLevel,i=e.canvasAnchor,a=e.artboard,s={transform:"translate("+a.x+"px, "+a.y+"px) scale("+o+")",width:a.width,height:a.height,cursor:i.isMoving?"grabbing":""};return n?r({},s,{backgroundImage:"linear-gradient(0deg, transparent 0%, transparent "+t+"%, rgba(190, 190, 190, 0.9) 100%), linear-gradient(90deg, transparent 0%, transparent "+t+"%, rgba(190, 190, 190, 0.9) 100%)",backgroundSize:n+"px "+n+"px"}):s},T=function(e){return i.default.createElement("div",{className:"canvasArtboard",style:_(e),onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onWheel:e.onWheel},e.children)},x=function(e){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:e.width,height:e.height,className:"svgLand"},e.children)},E=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.entities,n=e.wrappedCustomEntities;return i.default.createElement(i.default.Fragment,null,t.map((function(e){var t={entity:e,CustomEntity:n[e.type]};return i.default.createElement(t.CustomEntity,{key:t.entity.id,icon:c.default,model:t.entity})})))}}]),t}(i.default.PureComponent),O=function(e){return i.default.createElement(k,{onMouseMove:e.onMouseMove,innerRef:function(t){return e.handleRef(t)}},i.default.createElement(T,{onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onWheel:e.onWheel,gridSize:e.gridSize,artboard:e.artboard,zoomLevel:e.zoomLevel,canvasAnchor:e.canvasAnchor},i.default.createElement("div",{className:"relative-surface"},i.default.createElement(x,{width:e.artboard.width+"px",height:e.artboard.height+"px"},e.entities.map((function(e){return e.linksTo.length>0&&i.default.createElement(h.default,{key:e.id,links:e.linksTo})}))),i.default.createElement(E,{entities:e.entities,wrappedCustomEntities:e.wrappedCustomEntities})),i.default.createElement(l.default,null)))},S=function(e){function t(e){v(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.zoomSteps=[.625,.6875,.75,.8125,.875,.9375,1,1.0625,1.125,1.1875],n.wrappedCustomEntities=Object.assign.apply(Object,[{}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(n.props.customEntities).map((function(e){return b({},e,(0,p.default)((0,a.connect)(null,{calcLinkPoints:y.default})(n.props.customEntities[e].component)))}))))),n.zoomIn=function(){n.traversZoomLevels(1)},n.zoomOut=function(){n.traversZoomLevels(-1)},n.handleRef=function(e){void 0===n.canvasDom&&(n.canvasDom=e,n.setOffset())},n.state={zoomStep:6},n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onWheel=n.onWheel.bind(n),n.reset=n.reset.bind(n),n}return w(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.document.addEventListener("mouseup",this.clearSelection),Object.keys(this.props.customEntities).forEach((function(t){u.icons.addIcon(b({},t,e.props.customEntities[t].icon))}))}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mouseup",this.clearSelection),this.canvasDom=void 0,s.default.gc()}},{key:"setOffset",value:function(){if(this.canvasDom){var e=this.canvasDom;s.default.set(e),s.default.saveRef("canvasViewport")(e),0!==window.scrollY&&window.scrollTo(0,0),this.props.configViewport()}}},{key:"traversZoomLevels",value:function(e,t,n){var r=this,o=this.zoomSteps.length-1,i=this.state.zoomStep+e;this.setState((function(t){return{zoomStep:(n=t.zoomStep,i>o?o:i<0?0:n+e)};var n}),(function(){return r.props.zoom(r.zoomSteps[r.state.zoomStep],t,n)}))}},{key:"reset",value:function(){var e=this.props,t=e.entities,n=e.viewport,r=e.artboard,o=e.zoom,i=e.zoomLevel;if(0!=t.length){var a=t.sort((function(e,t){return e.x-t.x})),s=a[a.length-1],l=s.x+2*s.width,u=t.sort((function(e,t){return e.y-t.y})),c=u[u.length-1],p=c.y+3*c.height,f=n.width/l,d=n.height/p,h=f<d?f:d;h>this.zoomSteps[this.zoomSteps.length-1]&&(h=this.zoomSteps[this.zoomSteps.length-1]),h<this.zoomSteps[0]&&(h=this.zoomSteps[0]),o(h,r.x,r.y)}else o(i,r.x,r.y)}},{key:"onMouseDown",value:function(e){this.props.unselectAll(),this.props.anchorCanvas(!0)}},{key:"onMouseUp",value:function(){this.props.anchorCanvas(!1)}},{key:"onWheel",value:function(e){var t=this.props.zoomLevel,n=void 0,r=void 0,o=void 0,i=void 0,a=this.props.cursor.x,s=this.props.cursor.y;if(!this.zoomSteps.includes(t)){var l=Math.abs(this.zoomSteps[0]-t),u=0,c=!1;this.zoomSteps.forEach((function(e,n){var r=e-t,o=Math.abs(r);o<l&&(l=o,u=n,c=!(r>0))})),r=e.deltaY<0?c?this.zoomSteps[u+1]:this.zoomSteps[u]:c?this.zoomSteps[u]:this.zoomSteps[u-1]}if(e.deltaY<0){if(this.state.zoomStep+1>=this.zoomSteps.length)return;if(o=a*(n=r||this.zoomSteps[this.state.zoomStep+1])-a*t,i=s*n-s*t,r)return this.setState({zoomStep:this.zoomSteps.indexOf(n)}),void this.props.zoom(n,o,i);this.traversZoomLevels(1,o,i)}else{if(this.state.zoomStep-1<0)return;if(o=a*(n=r||this.zoomSteps[this.state.zoomStep-1])-a*t,i=s*n-s*t,r)return this.setState({zoomStep:this.zoomSteps.indexOf(n)}),void this.props.zoom(n,o,i);this.traversZoomLevels(-1,o,i)}}},{key:"onMouseMove",value:function(e){this.props.trackMovement({x:e.pageX,y:e.pageY})}},{key:"render",value:function(){return i.default.createElement(O,{entities:this.props.entities,wrappedCustomEntities:this.wrappedCustomEntities,handleRef:this.handleRef,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onWheel:this.onWheel,reset:this.reset,zoomLevel:this.props.zoomLevel,canvasAnchor:this.props.canvasAnchor,artboard:this.props.artboard,gridSize:this.props.gridSize,anchorEntity:this.props.anchorEntity})}}]),t}(i.default.PureComponent);t.default=(0,a.connect)((function(e){return{entities:e.entity,gridSize:e.canvas.gridSize,viewport:e.canvas.canvasViewport,artboard:e.canvas.canvasArtboard,zoomLevel:e.canvas.zoom,anchor:e.canvas.anchoredEntity,cursor:e.canvas.cursor,canvasAnchor:e.canvas.canvasAnchor}}),{resetViewport:d.resetViewport,configViewport:d.configViewport,trackMovement:d.trackMovement,anchorCanvas:d.anchorCanvas,zoom:d.zoom,connecting:d.connecting,anchorEntity:d.anchorEntity,selectEntity:f.selectEntity,unselectAll:f.unselectAll})(S)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(7);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(46);var c=function(e){var t=e.d,n=e.color;return a.default.createElement("path",{d:t,className:"arrowMarker",style:{fill:n}})},p=function(e){var t=e.color;return a.default.createElement("circle",{cx:"30",cy:"30",r:"15",style:{fill:t}})},f=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.lineColors.length!=this.props.lineColors.length}},{key:"render",value:function(){console.log("render_ArrowMarker");var e=this.props;return a.default.createElement("svg",null,a.default.createElement("defs",null,a.default.createElement("marker",{id:"arrow-end",viewBox:"0 0 20 20",markerWidth:"10",markerHeight:"8",refX:"14",refY:"10",orient:"auto"},a.default.createElement(c,{d:"M 1 5 L 17 10 L 1 15 Z",color:""})),a.default.createElement("marker",{id:"arrow-end-connecting",viewBox:"0 0 20 20",markerWidth:"10",markerHeight:"8",refX:"12",refY:"10",orient:"auto"},a.default.createElement(c,{d:"M 1 5 L 17 10 L 1 15 Z",color:""})),a.default.createElement("marker",{id:"disc",viewBox:"0 0 60 50",markerWidth:"12",markerHeight:"30",refX:"40",refY:"30",orient:"auto"},a.default.createElement("circle",{cx:"30",cy:"30",r:"15",fill:"#3c3c3c"})),a.default.createElement("marker",{id:"disc-connecting",viewBox:"0 0 60 50",markerWidth:"12",markerHeight:"30",refX:"40",refY:"30",orient:"auto"},a.default.createElement("circle",{cx:"30",cy:"30",r:"15",fill:"#3c3c3c"})),e.lineColors.length&&e.lineColors.map((function(e){return a.default.createElement(a.default.Fragment,null,a.default.createElement("marker",{id:"arrow-end"+e,viewBox:"0 0 20 20",markerWidth:"10",markerHeight:"8",refX:"14",refY:"10",orient:"auto"},a.default.createElement(c,{d:"M 1 5 L 17 10 L 1 15 Z",color:e})),a.default.createElement("marker",{id:"disc"+e,viewBox:"0 0 60 50",markerWidth:"12",markerHeight:"30",refX:"40",refY:"30",orient:"auto"},a.default.createElement(p,{color:e})))}))))}}]),t}(a.default.PureComponent);t.default=(0,s.connect)((function(e){return{lineColors:e.canvas.lineColors}}),{})(f)},function(e,t,n){var r=n(47);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-12-06 19:07:38 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-03-22 13:52:04\n */\n.arrowMarker {\n  fill: rgba(0, 0, 0, 0.65);\n  stroke-width: 0px;\n  stroke-dasharray: 10000, 1;\n  stroke-linecap: round;\n}\n.arrowMarker.blue {\n  fill: #00c0ff;\n  stroke: #00c0ff;\n}\n.arrowMarker.red {\n  fill: rgba(255, 0, 0, 0.7);\n  stroke: rgba(255, 0, 0, 0.7);\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"svgIcon",width:e.svgSize||"1.0em",height:e.svgSize||"1.0em",viewBox:"0 0 16 16"},e.children)},a=(r={delete:{path:React.createElement("image",{xlinkHref:"../../../public/img/editor-delete.svg",width:"100%",height:"100%"}),size:16},edit:{path:React.createElement("image",{xlinkHref:"../../../public/img/editor-edit.svg",width:"100%",height:"100%"}),size:16},arrow:{path:React.createElement("image",{xlinkHref:"../../../public/img/editor-arrow.svg",width:"100%",height:"100%"}),size:16},bpp_arrow:{path:React.createElement("image",{xlinkHref:"../../../public/img/bpp_arrow.svg",width:"100%",height:"100%"}),size:16},bpp_wb_arrow:{path:React.createElement("image",{xlinkHref:"../../../public/img/wb_arrow.svg",width:"100%",height:"100%"}),size:16},bpp_ps_arrow:{path:React.createElement("image",{xlinkHref:"../../../public/img/ps_arrow.svg",width:"100%",height:"100%"}),size:16},zoomIn:{path:React.createElement("path",{fill:"#4691f6",d:"M15.5 13.6l-3.8-3.2c-.4-.4-.8-.5-1-.5.8-1.2 1.3-2.5 1.3-4 0-3.3-2.7-6-6-6S0 2.7 0 6s2.7 6 6 6c1.5 0 2.8-.5 4-1.4 0 .3 0 .7.4 1l3.2 4c.6.5 1.5.6 2 0s.5-1.4 0-2zM6 10c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm1-7H5v2H3v2h2v2h2V7h2V5H7z"}),size:16},zoomOut:{path:React.createElement("path",{fill:"#4691f6",d:"M15.5 13.6l-3.8-3.2c-.4-.4-.8-.5-1-.5.8-1.2 1.3-2.5 1.3-4 0-3.3-2.7-6-6-6S0 2.7 0 6s2.7 6 6 6c1.5 0 2.8-.5 4-1.4 0 .3 0 .7.4 1l3.2 4c.6.5 1.5.6 2 0s.5-1.4 0-2zM6 10c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zM3 5h6v2H3z"}),size:16}},{get:function(e){return e in r?r[e]:r.arrow},addIcon:function(e){r=o({},r,e)}});t.default=function(e){var t=e.name,n=e.label,r=e.svgSize;return React.createElement(i,{viewBox:"0 0 "+a.get(t).size.toString()+" "+a.get(t).size.toString(),svgSize:r},n&&React.createElement("title",null,n),a.get(t).path)},t.icons=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(7),l=n(21),u=n(11),c=n(15);n(23);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(50);var h=function(e){function t(e){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return d(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props,t=e.model,n=l.store.getState().canvas,r=n.connecting.currently;n.zoom;return a.default.createElement("div",{className:"entity "+(e.isSelected?"selected":""),style:{left:t.x,top:t.y,cursor:r?"pointer":"move",borderRadius:"drive"==t.type?"2.5em":""},onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onMouseOver:e.onMouseOver},a.default.createElement(a.default.Fragment,null,e.children))}}]),t}(a.default.PureComponent),y=function(e,t){return{meta:e.metaEntity.find((function(e){return e.id==t.model.id}))||[],zoom:e.canvas.zoom,canvas:e.canvas}};t.default=function(e){return(0,s.connect)(y,{selectEntity:u.selectEntity,anchorEntity:c.anchorEntity,unselectAll:u.unselectAll})(function(e){return function(t){function n(e){p(this,n);var t=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onMouseOver=function(e){e.stopPropagation(),t.props.selectEntity(t.props.model.id)},t.state={onMouseUpWouldBeClick:!0},t.onMouseDown=t.onMouseDown.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t}return d(n,t),o(n,[{key:"componentDidMount",value:function(){var e=this,t=function(){return e.setState({onMouseUpWouldBeClick:!1})};this.props.meta.isAnchored?setTimeout(t,192):t()}},{key:"onMouseDown",value:function(e){e.stopPropagation(),console.log("按下entity",this.props.model),this.props.anchorEntity({id:this.props.model.id,type:this.props.model.type,isAnchored:!0,clientX:e.clientX,clientY:e.clientY})}},{key:"onMouseUp",value:function(e){e.stopPropagation(),this.state.onMouseUpWouldBeClick||(this.props.anchorEntity({id:"",isAnchored:!1}),this.props.selectEntity(this.props.model.id))}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.model,r=t.meta.isSelected,o=e.model,i=e.meta.isSelected;return n.x!=o.x||n.y!=o.y||e.zoom!=t.zoom||o.name!=n.name||r!=i||e.canvas!=t.canvas}},{key:"render",value:function(){var t=this.props,n=t.meta,r=n.isAnchored,o=n.isSelected,i=t.model;t.defaultEntity;return a.default.createElement(h,{model:i,isAnchored:r,isSelected:o,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},a.default.createElement(e,{model:i}))}}]),n}(a.default.PureComponent)}(e))}},function(e,t,n){var r=n(51);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-11-22 14:02:10 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-04-17 15:08:49\n */\n@-webkit-keyframes glow {\n  0% {\n    border-color: #0beeee;\n    -webkit-box-shadow: 0 0 5px rgba(0, 255, 0, 0.2), inset 0 0 5px rgba(0, 255, 0, 0.1), 0 0 0 #0beeee;\n            box-shadow: 0 0 5px rgba(0, 255, 0, 0.2), inset 0 0 5px rgba(0, 255, 0, 0.1), 0 0 0 #0beeee;\n  }\n  100% {\n    border-color: #6f6;\n    -webkit-box-shadow: 0 0 20px rgba(0, 255, 0, 0.6), inset 0 0 10px rgba(0, 255, 0, 0.4), 0 0 0 #6f6;\n            box-shadow: 0 0 20px rgba(0, 255, 0, 0.6), inset 0 0 10px rgba(0, 255, 0, 0.4), 0 0 0 #6f6;\n  }\n}\n@keyframes glow {\n  0% {\n    border-color: #0beeee;\n    -webkit-box-shadow: 0 0 5px rgba(0, 255, 0, 0.2), inset 0 0 5px rgba(0, 255, 0, 0.1), 0 0 0 #0beeee;\n            box-shadow: 0 0 5px rgba(0, 255, 0, 0.2), inset 0 0 5px rgba(0, 255, 0, 0.1), 0 0 0 #0beeee;\n  }\n  100% {\n    border-color: #6f6;\n    -webkit-box-shadow: 0 0 20px rgba(0, 255, 0, 0.6), inset 0 0 10px rgba(0, 255, 0, 0.4), 0 0 0 #6f6;\n            box-shadow: 0 0 20px rgba(0, 255, 0, 0.6), inset 0 0 10px rgba(0, 255, 0, 0.4), 0 0 0 #6f6;\n  }\n}\n.entity {\n  position: absolute;\n  text-align: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  -webkit-box-shadow: 4px 8px 12px 0px rgba(0, 52, 107, 0.2);\n          box-shadow: 4px 8px 12px 0px rgba(0, 52, 107, 0.2);\n  background-color: transparent;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-radius: 10px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.entity.upperBill .task {\n  -webkit-animation: glow 900ms ease-out infinite alternate;\n          animation: glow 900ms ease-out infinite alternate;\n}\n.entity.selected .task,\n.entity.selected .event,\n.entity.selected .flow {\n  background-color: #82d5ff;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(7),l=n(21),u=n(11);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(53);var d=function(e){function t(e){c(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.findPathAndRelativePositionToRenderLabel=function(){var e=2*n.path.getTotalLength()/5;return{path:n.path,position:e}},n.calculateLabelPosition=function(){if(n.props.label){var e=n.findPathAndRelativePositionToRenderLabel(),t=e.path,r=e.position,o=n.label.offsetWidth,i=n.label.offsetHeight,a=t.getPointAtLength(r),s=Math.round(a.x-o/2)+10,l=Math.round(a.y-i/2)+10;n.label.setAttribute("style","left: "+s+"px; top: "+l+"px")}},n.state={decoration:""},n.setPathRef=function(e){n.path=e},n.label=null,n.decorationLine=n.decorationLine.bind(n),n.unDecorationLine=n.unDecorationLine.bind(n),n.selectLink=n.selectLink.bind(n),n}return f(t,e),o(t,[{key:"selectLink",value:function(e,t,n){e.stopPropagation(),console.log("click-link",t,n),this.props.selectLink(t,n)}},{key:"decorationLine",value:function(e){e.stopPropagation(),this.setState({decoration:"decorationBlue"})}},{key:"unDecorationLine",value:function(e){e.stopPropagation(),this.setState({decoration:""})}},{key:"componentDidUpdate",value:function(e){this.props.label&&window.requestAnimationFrame(this.calculateLabelPosition.bind(this))}},{key:"componentDidMount",value:function(){this.props.label&&window.requestAnimationFrame(this.calculateLabelPosition.bind(this))}},{key:"generateLabel",value:function(e){var t=this;if(e){var n=this.props.distance;return n*=l.store.getState().canvas.zoom,a.default.createElement("foreignObject",{className:"link-label",width:"100%",height:"100%"},a.default.createElement("div",{ref:function(e){return t.label=e},className:"labelDiv "+(n<80?"hide-label":"show-label")},a.default.createElement("span",{className:"default-label"},e)))}}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.key,r=(e.selected,e.linkId),o=(e.fromId,e.targetId,e.connecting,e.lineType),i=e.color,s=void 0,l=function(e){var t=e.pointsArr;e.QPointsArr;return{pointsPath:"M "+t[0].x+","+t[0].y+t.slice(1).reduce((function(e,t){return e+" "+t.x+","+t.y}),"C")}}(this.props.points).pointsPath;return"bpp_link_ps"!=o?(s=i?"url('#arrow-end"+i+"')":"url('#arrow-end')",!r&&(s="url('#arrow-end-connecting')")):(s=i?"url('#disc"+i+"')":"url('#disc')",!r&&(s="url('#disc-connecting')")),a.default.createElement("g",{key:n},a.default.createElement("path",{d:l,className:"line-path",style:{stroke:i},id:"line"+r,strokeLinejoin:"round",markerEnd:s}),this.generateLabel(t))}}]),t}(a.default.PureComponent),h=function(e){function t(e){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return f(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.connecting,r=e.selectLink,o=e.canvas;return a.default.createElement("g",null,t.map((function(e){return e.points&&a.default.createElement(d,{key:e.target,connecting:n,selectLink:r,fromId:e.from,targetId:e.target,id:e.target,linkId:e.linkId,selected:e.selected,arrowInvert:e.points.arrowInvert,label:e.linkName,distance:e.points.distance,points:e.points,lineType:e.points.lineType,color:e.color,canvas:o})})))}}]),t}(a.default.PureComponent);t.default=(0,s.connect)((function(e){return{connecting:e.canvas.connecting.currently,canvas:{}}}),{selectLink:u.selectLink})(h)},function(e,t,n){var r=n(54);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-12-21 13:50:56 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-03-28 17:08:12\n */\n@-webkit-keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n@-webkit-keyframes dashInvert {\n  from {\n    stroke-dashoffset: 0;\n  }\n  to {\n    stroke-dashoffset: 24;\n  }\n}\n@keyframes dashInvert {\n  from {\n    stroke-dashoffset: 0;\n  }\n  to {\n    stroke-dashoffset: 24;\n  }\n}\n.line-path {\n  fill: none;\n  stroke-width: 0.13em;\n  stroke: rgba(0, 0, 0, 0.33);\n  cursor: pointer;\n}\n.line-path.red_wb {\n  stroke: rgba(255, 0, 0, 0.5);\n  pointer-events: all;\n  stroke-dasharray: 6,4;\n}\n.decorationBlue {\n  stroke-opacity: 0.7;\n  stroke-width: 4px;\n}\n.link-label {\n  pointer-events: none;\n}\n.link-label .labelDiv {\n  position: absolute;\n  display: inline-block;\n  -webkit-transition: left 20ms linear, top 20ms linear;\n  transition: left 20ms linear, top 20ms linear;\n}\n.link-label .labelDiv.hide-label {\n  opacity: 0;\n}\n.link-label .labelDiv.show-label {\n  opacity: 1;\n}\n.link-label .labelDiv .default-label {\n  background: rgba(70, 70, 70, 0.6);\n  color: #fff;\n  display: inline-block;\n  padding: 3px 2px;\n  font-size: smaller;\n  border-radius: 2px;\n  text-align: left;\n}\n.line-selected {\n  pointer-events: all;\n  stroke-dasharray: 6,4;\n  stroke: #00c0ff;\n  -webkit-animation: dash 1s linear infinite;\n          animation: dash 1s linear infinite;\n}\n.line-invert-selected {\n  pointer-events: all;\n  stroke-dasharray: 6,4;\n  stroke: #00c0ff;\n  -webkit-animation: dashInvert 1s linear infinite;\n          animation: dashInvert 1s linear infinite;\n}\n.deleteIcon {\n  font-size: 15px;\n  fill: #ff3b00d4;\n  cursor: pointer;\n  font-style: italic;\n  font-weight: 600;\n  -moz-user-select: none;\n   -ms-user-select: none;\n       user-select: none;\n  -webkit-user-select: none;\n}\n",""])},function(e,t,n){var r=n(56);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-11-19 19:23:24 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-05-07 20:31:14\n */\n.editorWrapper {\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.canvasViewport {\n  height: 600px;\n  width: calc(100% - 10px);\n  -webkit-box-flex: 1;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n  position: relative;\n  background-color: #fff;\n  overflow: hidden;\n}\n.canvasViewport * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.canvasViewport ul,\n.canvasViewport ol {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.canvasViewport .canvas_selector {\n  background-color: rgba(0, 192, 255, 0.2);\n  border: solid 2px #00c0ff;\n  position: absolute;\n  z-index: 999;\n}\n.canvasArtboard {\n  position: relative;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  overflow: hidden;\n  -webkit-transition: -webkit-transform 200ms linear;\n  transition: -webkit-transform 200ms linear;\n  transition: transform 200ms linear;\n  transition: transform 200ms linear, -webkit-transform 200ms linear;\n}\n.canvasArtboard .relative-surface {\n  position: relative;\n}\n.svgLand {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n",""])},function(e,t,n){var r=n(58);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-12-10 10:13:03 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-04-16 20:21:33\n */\n.editorWrapper {\n  height: 100%;\n}\n",""])},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onImport=t.setButtonShow=t.charToUnicode=t.getisOrgType=t.onRefresh=t.getflowNodeType=t.getRealflowTypeByAppcode=t.getflowTypeByAppcode=t.getflowType=void 0;var r,o=n(39),i=(r=o)&&r.__esModule?r:{default:r},a=n(1);var s="101650designlist";function l(e,t){!0===t?(e.button.setButtonVisible("showOnDis",!1),e.button.setButtonVisible("showOnUse",!0)):!1===t?(e.button.setButtonVisible("showOnDis",!0),e.button.setButtonVisible("showOnUse",!1)):"true"===t?(e.button.setButtonVisible("showOnDis",!1),e.button.setButtonVisible("showOnUse",!0)):"false"===t&&(e.button.setButtonVisible("showOnDis",!0),e.button.setButtonVisible("showOnUse",!1))}function u(e,t,n,r,o,u,p,f,d,h,y){var m={billOrTranstype:r,pk_org:o,isShowDis:t,pageIndex:p,pageSize:f,operation:d,focus_pk:h};l(e,t),(0,a.ajax)({url:"/nccloud/riawf/pf/approveFlowInfo.do",data:m,async:!0,success:function(t){t.success;var o=t.data;if(o&&"success"==o.result){var l={};if("none"==o.value)l=o.hasPackage?{flowPackageId:o.flowPackageId,billType:r,billTypeName:o.billTypeName,pk_org:o.pk_org,cur_pk_orgName:o.cur_pk_orgName,billPK:u,isLightApp:o.isLightApp,metaclassid:o.metaclassid}:{flowPackageId:"",billType:r,pk_org:o.pk_org,billTypeName:o.billTypeName,cur_pk_orgName:o.cur_pk_orgName,billPK:u,isLightApp:o.isLightApp,metaclassid:o.metaclassid},i.default.set(l),e.table.setAllTableData(s,{rows:[]});else{l=o.hasPackage?{flowPackageId:o.flowPackageId,billType:r,pk_org:o.pk_org,billTypeName:o.billTypeName,cur_pk_orgName:o.cur_pk_orgName,billPK:u,isLightApp:o.isLightApp,metaclassid:o.metaclassid}:{flowPackageId:"",billType:node.refcode,pk_org:o.pk_org,billTypeName:o.billTypeName,cur_pk_orgName:o.cur_pk_orgName,billPK:node.refpk,isLightApp:o.isLightApp,metaclassid:o.metaclassid};o.subflow;i.default.set(l);var p=o.value[s];e.table.setAllTableData(s,p),o.focus_index&&e.table.focusRowByIndex(s,parseInt(o.focus_index))}n&&(0,a.toast)({content:n,color:"success"}),c(y,e)}else e.table.setAllTableData(s,{rows:[]})},error:function(e){(0,a.toast)({content:e.message,color:"danger"})}})}function c(e,t){var n=i.default.get(),r=n.billType,o=n.billPK,s=n.pk_org,l=n.flowPackageId,c=n.isShowDis,p={name:"file",showUploadList:!1,multiple:!1,data:{billOrTranstype:r,billPK:o,flowPackageId:l,pk_org:s,flowType:n.flowType,isShowDis:c},action:"/nccloud/riawf/pf/approveFlowMngImport.do",supportServerRender:!1,beforeUpload:function(t){var n=t.name,r=n.lastIndexOf("."),o=n.substr(r+1);if("xpdl"===o){var s=i.default.get(),l=s.billType,u=s.billPK;if(!l||""==l||"undefined"==l)return(0,a.toast)({content:e.state.json["10161550-000009"],color:"warning"}),!1;if(!u||""==u||"undefined"==u)return(0,a.toast)({content:e.state.json["10161550-000009"],color:"warning"}),!1}else if("zip"!=o)return(0,a.toast)({content:e.state.json["10161550-000044"],color:"warning"}),!1;return!0},onChange:function(n){var r=n.file.status;if("uploading"!==r&&console.log(n.file,n.fileList),"done"===r){var o=n.file.response.data,s=i.default.get(),l=s.billType,c=s.billPK,p=s.flowPackageId,f=s.isLightApp,d=s.metaclassid,h=s.billTypeName,y=s.isShowDis,m=s.pageIndex,b=s.pageSize,v=s.sourceType,g=s.pk_org,w=s.orgcode,k=(s.orgname,s.openNode),_=s.isOrgType,T=s.flowType,x=null;if(!o.isbatch&&o.pks&&o.pks[0]&&(x=o.pks[0]),o.value&&"success"===o.result&&"none"!=o.value&&u(t,y,null,l,g,c,m,b,null,x),o.isbatch){var E=o.error;if(!E||null===E||"null"===E)return o.value&&o.value,void(0,a.promptBox)({color:o.msgresult,content:o.msg,noFooter:!1,noCancelBtn:!1,beSureBtnClick:function(){u(t,y,null,l,g,c,m,b,null,null)},cancelBtnClick:function(){u(t,y,null,l,g,c,m,b,null,null)}})}if("success"===o.result&&!o.isbatch)return void(0,a.toast)({content:e.state.json["10161550-000011"],color:"success"});"danger"===o.result&&(o.isbatch?(o.value&&"none"!=o.value&&u(t,y,null,l,g,c,m,b,null,x),(0,a.toast)({content:o.error,color:"danger"})):(0,a.toast)({content:o.error,color:"danger"})),"warning"===o.result&&(o.isbatch?(o.value&&"none"!=o.value&&u(t,y,null,l,g,c,m,b,null,x),(0,a.toast)({content:o.error,color:"danger"})):(0,a.promptBox)({color:"warning",content:o.hits,noFooter:!1,noCancelBtn:!1,beSureBtnClick:function(){t.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?pk_wf_def="+x+"&state=edit&flowType="+T+"&billType="+l+"&billPK="+c+"&flowPackageId="+p+"&isLightApp="+f+"&metaclassid="+d+"&pk_org="+g+"&openNode="+k+"&orgcode="+w+"&isOrgType="+_+"&billTypeName="+h+"&isShowDis="+y+"&pageIndex="+m+"&pageSize="+b+"&sourceType="+v+"&edittype=db",{pagecode:"101650list"})},cancelBtnClick:function(){u(t,y,e.state.json["10161550-000014"]+o.editflow+e.state.json["10161550-000015"],l,g,c,m,b,null,x)}}))}else"error"===r&&(0,a.toast)({content:e.state.json["10161550-000016"],color:"danger"})},headers:{authorization:"authorization-text"}};t.button.setUploadConfig("onImport",p)}t.getflowType=function(e){return"approve"===e?"approve":"approve_sub"===e?"approve":"workflow"===e?"workflow":"workflow_sub"===e?"workflow":null},t.getflowTypeByAppcode=function(e){return e.length>6&&(e=e.substring(0,6)),"101650"===e?"approve":"101651"===e?"approve":"101652"===e?"workflow":"101653"===e?"workflow":null},t.getRealflowTypeByAppcode=function(e){return e.length>6&&(e=e.substring(0,6)),"101650"===e?"approve":"101651"===e?"approve_sub":"101652"===e?"workflow":"101653"===e?"workflow_sub":null},t.getflowNodeType=function(e){return"2"===e?"approve":"3"===e?"approve_sub":"4"===e?"workflow":"5"===e?"workflow_sub":null},t.onRefresh=u,t.getisOrgType=function(e){return e.length>6&&(e=e.substring(0,6)),"101650"===e?"N":"101651"===e?"Y":"101652"===e?"N":"101653"===e?"Y":null},t.charToUnicode=function(e){var t="",n="",r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){for(t=a.value.codePointAt(0).toString(16);t.length<4;)t="0"+t;n+="-"+t}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n},t.setButtonShow=l,t.onImport=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Demo=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),s=(r=a)&&r.__esModule?r:{default:r},l=n(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(41)),c=n(26);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=l.base.NCModal;function y(e,t,n){var r=[];"bpp"!=n?e.entity.forEach((function(e){e.x*=.8,e.y*=.6,e.width=40,e.height=40,e.linksTo.length>0&&e.linksTo.forEach((function(e){var t=e.color;t&&!r.includes(t)&&r.push(t)}))})):e.entity.forEach((function(e){e.x*=1.5,e.y*=1.5,"drive"==e.type?(e.width=30,e.height=30):(e.width=40,e.height=40),e.linksTo.length>0&&e.linksTo.forEach((function(e){var t=e.color;t&&!r.includes(t)&&r.push(t)}))}));var o="bpp"==n?e.entity.map((function(t){return i({},t,{linksTo:t.linksTo?t.linksTo.map((function(n){return i({},n,{points:u.calcLinkPoints(t,u.getEntity(e.entity,n.target),n.type,n.points.cPoint,n.points.curviness,!0)})})):[]})})):e.entity.map((function(t){return i({},t,{linksTo:t.linksTo?t.linksTo.map((function(n){return i({},n,{points:u.calcLinkPoints(t,u.getEntity(e.entity,n.target),e.attributes[n.linkId].apparent.lineType,n.points.cPoint,n.points.curviness,!0)})})):[]})}));console.log("initModel",o),u.store.dispatch(u.setEntities(o)),u.store.dispatch(u.initialColors(r)),u.store.dispatch(u.setConfig(t))}var m=t.Demo=function(e){function t(e){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.urlConst.set({flowType:e.flowType}),"workflow"==e.flowType?n.configEntity=c.config.workflow:"approve"==e.flowType?n.configEntity=c.config.approve:"bpp"==e.flowType&&(n.configEntity=c.config.bpp),n.state={flowData:n.props.flowData},n}return d(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.getPreviewData(e.pk_wf_def,e.flowType,e.flowsource,e.billType)}},{key:"componentWillMount",value:function(){this.getPreviewData(this.props.pk_wf_def,this.props.flowType,this.props.flowsource,this.props.billType)}},{key:"getPreviewData",value:function(e,t,n,r){var o=this;"bpp"!=t?(0,l.ajax)({url:"/nccloud/riawf/pf/approveFlowMngForPreviewAction.do",type:"post",data:{pk_wf_def:e,flowsource:n,billType:r},async:!0,success:function(e){console.log("previewData",e.data.flow),y(e.data.flow,o.configEntity,t)},error:function(e){console.log("审批工作流预览请求错误")}}):(0,l.ajax)({url:"/nccloud/riart/busiflow/busiflowButtonAction.do",type:"post",data:{pk_wf_def:e,actionType:"preview"},async:!0,success:function(e){console.log("previewData",e.data.busiflow),y(e.data.busiflow,o.configEntity,t)},error:function(e){console.log("业务流预览请求错误")}})}},{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(u.Graph,{customEntities:c.customEntities}))}}]),t}(s.default.PureComponent),b=function(e){function t(e){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showPreview:!0,preview:null},n}return d(t,e),o(t,[{key:"getPreview",value:function(){this.setState({preview:s.default.createElement(m,{flowType:this.props.flowType,pk_wf_def:this.props.pk_wf_def,flowsource:this.props.flowsource,billType:this.props.billType})})}},{key:"render",value:function(){return s.default.createElement(h,{show:this.state.showPreview,onHide:this.props.hide,onEntered:this.getPreview.bind(this),size:"xxlg"},s.default.createElement(h.Header,{closeButton:!0},this.props.previewTitle?this.props.previewTitle:"预览"),s.default.createElement(h.Body,null,this.state.preview))}}]),t}(s.default.PureComponent);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r};n(69);var s=n(26);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setTextareaRef=function(t){e.handleRef(t)},n}return c(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){if(e.modelName!=this.props.modelName)return!0}},{key:"render",value:function(){console.log("task");var e=this.props,t=e.type,n=e.width,r=e.height,o=e.modelName,i={width:n+"px",height:r+"px",backgroundImage:"url('../../../public/img/"+s.customEntities[t].bg+"')"};return a.default.createElement("div",{className:"task",style:i},a.default.createElement("span",null,o))}}]),t}(a.default.PureComponent),f=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isEditing:!1,name:r.props.model.name},r.handleRef=function(e){r.textarea||(r.textarea=e)},r.handleKeyPress=function(e){switch(e.key){case"Enter":r.toggleEdit(!1),r.props.setName({id:r.props.model.id,name:r.state.name});break;case"Escape":r.toggleEdit(!1),r.setState({name:r.props.model.name})}},r.refreshName=function(e){r.setState({name:e.currentTarget.value})},r.toggleEdit=function(e){var t=r.textarea;e&&t&&setTimeout((function(){return t.focus()}),100),r.setState({isEditing:e})},u(r,n)}return c(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.textarea=null}},{key:"render",value:function(){var e=this.props.model,t=e.width,n=e.height,r=e.type,o=e.name;return a.default.createElement(p,{width:t,height:n,type:r,name:this.state.name,modelName:o})}}]),t}(a.default.PureComponent);t.default=f},function(e,t,n){var r=n(70);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-11-29 14:16:02 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-04-17 10:39:32\n */\n.task {\n  background-color: #e2f5ff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  border-radius: 10px;\n  border: 2px solid #cccccc;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-size: 107% 107%;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.task span {\n  position: absolute;\n  top: 100%;\n  width: 160%;\n  left: -30%;\n  line-height: 14px;\n  padding-top: .8em;\n  font-size: 12px;\n  color: #555;\n}\n.task textarea {\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  padding: .5em;\n  border: none;\n  font-size: 1.2rem;\n  text-align: center;\n  border-radius: .1rem;\n  resize: none;\n  z-index: 10;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.task .svgIcon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  text-align: center;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(26);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(72);var p=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setTextareaRef=function(t){e.handleRef(t)},n}return c(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){if(e.modelName!=this.props.modelName)return!0}},{key:"render",value:function(){console.log("event");var e=this.props,t=e.type,n=e.width,r=e.height,o=e.modelName,i=e.ctmClass,l={width:n+"px",height:r+"px",backgroundImage:"url('../../../public/img/"+s.customEntities[t].bg+"')"};return a.default.createElement("div",{className:"event "+(i&&"ctm_class"),style:l},a.default.createElement("span",null," ",o," "))}}]),t}(a.default.PureComponent),f=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isEditing:!1,name:r.props.model.name},r.handleRef=function(e){r.textarea||(r.textarea=e)},r.toggleEdit=function(e){var t=r.textarea;e&&t&&setTimeout((function(){return t.focus()}),1e3),r.setState({isEditing:e})},r.handleKeyPress=function(e){switch(e.key){case"Enter":r.toggleEdit(!1),r.props.setName({id:r.props.model.id,name:r.state.name});break;case"Escape":r.toggleEdit(!1),r.setState({name:r.props.model.name})}},r.refreshName=function(e){r.setState({name:e.currentTarget.value})},u(r,n)}return c(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.textarea=null}},{key:"render",value:function(){var e=this.props.model,t=e.width,n=e.height,r=e.type,o=e.name,i=e.ctm_class;return a.default.createElement(p,{width:t,height:n,type:r,modelName:o,ctmClass:i})}}]),t}(a.default.PureComponent);t.default=f},function(e,t,n){var r=n(73);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-11-29 14:46:04 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-04-17 10:38:48\n */\n.event {\n  background-color: #e2f5ff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  border-radius: 15px;\n  border: 2px solid #cccccc;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: .5rem;\n  background-size: 107% 107%;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.event span {\n  position: absolute;\n  top: 100%;\n  width: 160%;\n  left: -30%;\n  padding-top: .8em;\n  line-height: 14px;\n  font-size: 12px;\n  color: #555;\n}\n.event textarea {\n  position: absolute;\n  top: 100%;\n  width: 200%;\n  padding: .5em;\n  border: none;\n  font-size: 1.2rem;\n  text-align: center;\n  border-radius: .1rem;\n  resize: none;\n  z-index: 10;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.ctm_class span {\n  color: #00aeff;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(26);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(75);var p=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setTextareaRef=function(t){e.handleRef(t)},n}return c(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){if(e.modelName!=this.props.modelName)return!0}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.type,o=e.modelName,i=e.isEditing,l={width:t+"px",height:n+"px",backgroundImage:"url('../../../public/img/"+s.customEntities[r].bg+"')"};return a.default.createElement("div",{className:"flow",style:l,alignItems:i?"stretch":"center"},a.default.createElement("span",null,o))}}]),t}(a.default.PureComponent),f=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isEditing:!1,name:r.props.model.name},r.handleRef=function(e){r.textarea||(r.textarea=e)},r.handleKeyPress=function(e){switch(e.key){case"Enter":r.toggleEdit(!1),r.props.setName({id:r.props.model.id,name:r.state.name});break;case"Escape":r.toggleEdit(!1),r.setState({name:r.props.model.name})}},r.refreshName=function(e){r.setState({name:e.currentTarget.value})},r.toggleEdit=function(e){var t=r.textarea;e&&t&&setTimeout((function(){return t.focus()}),100),r.setState({isEditing:e})},u(r,n)}return c(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.textarea=null}},{key:"render",value:function(){var e=this.props.model,t=e.type,n=e.width,r=e.height,o=e.name;return a.default.createElement(p,{width:n,height:r,type:t,modelName:o,name:this.state.name})}}]),t}(a.default.PureComponent);t.default=f},function(e,t,n){var r=n(76);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"/*\n * @Author: yanxbm \n * @Date: 2018-12-13 14:50:13 \n * @Last Modified by: yanxbm\n * @Last Modified time: 2019-04-17 10:39:16\n */\n.flow {\n  background-color: #e2f5ff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  border-radius: 10px;\n  border: 2px solid #cccccc;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background-size: 107% 107%;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.flow span {\n  position: absolute;\n  top: 100%;\n  width: 160%;\n  left: -30%;\n  line-height: 14px;\n  padding-top: .8em;\n  font-size: 12px;\n  color: #555;\n}\n.flow textarea {\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  padding: .5em;\n  border: none;\n  font-size: 1.2rem;\n  text-align: center;\n  border-radius: .1rem;\n  resize: none;\n  z-index: 10;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.flow .svgIcon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 100%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  text-align: center;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n="../../../public/img/"+e;return{path:React.createElement("image",{xlinkHref:n,width:"100%",height:"100%"}),size:t||16}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.afterEvent=t.pageInfoClick=t.searchBtnClick=void 0;var r=l(n(316)),o=l(n(317)),i=l(n(318)),a=l(n(319)),s=l(n(310));function l(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=r.default,t.pageInfoClick=o.default,t.afterEvent=i.default,t.headerButtonClick=a.default,t.clickSearchBtn=s.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.newProps,n=e.queryParams;e.call;t.modal.show("workflowTemplateName",{title:n.data.modelName,size:"sm",noFooter:!0,content:React.createElement(i.default,{preprops:t,queryParams:n})})};var r,o=n(327),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";var r,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=m(a),l=m(n(8)),u=n(1),c=m(n(39)),p=(m(n(313)),m(n(40))),f=n(66),d=m(n(67)),h=n(6),y=n(315);function m(e){return e&&e.__esModule?e:{default:e}}n(335);var b=u.base.NCDiv,v=u.viewModel.setGlobalStorage,g=u.viewModel.getGlobalStorage,w=(u.viewModel.removeGlobalStorage,"101650search"),k="101650designlist",_=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.call(n),n.state={showPreview:!1,previewname:null,pk_wf_def:"",focus_pk:null,hasPackage:!1,packageId:"",pk_billtype:"",pk_billtypeid:"",openNode:null,appcode:"",appname:"",target:null,json:{},isOrgType:"N",cur_pk_org:{},pk_org:"",inlt:null},n.packageId="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;y.initTemplate.call(this,this.props);this.props.MultiInit.getMultiLang({moduleId:"riawf-workflowdesign",domainName:"uap",callback:function(t,n,r){n?e.setState({json:t,inlt:r}):console.log("未加载到多语资源")}})}},{key:"componentDidMount",value:function(){var e=this.props.getUrlParam("operation");this.getTreeData(e);var t=this.props.getUrlParam("isShowDis");this.initShowOnDis(t);var n=this.props.getUrlParam("billType"),r=this.props.getUrlParam("billPK"),o=this.props.getUrlParam("pk_org");if(e&&("save"===e||"cancel"===e)){var i=this.props.getUrlParam("pageIndex"),a=this.props.getUrlParam("pageSize"),s=this.props.getUrlParam("focus_pk"),l=this.props.getUrlParam("sourceType");c.default.set({pk_org:o,pageIndex:i,pageSize:a,sourceType:l,operation:e});var u=c.default.get().isShowDis;(0,f.onImport)(this,this.props),this.onInitData(u,n,o,r,i,a,e,s,l,!0)}}},{key:"onInitData",value:function(e,t,n,r,o,i,a,s,l,u){this.props.button.setButtonDisabled("add",!0),this.props.button.setButtonDisabled("onAddManual",!0),t&&""!==t&&(this.props.button.setButtonDisabled("add",!1),this.props.button.setButtonDisabled("onAddManual",!1),l&&"fromSearch"===l?(0,y.searchBtnClick)(this.props,{queryType:"simple"},"simple",this.state.json,null,s,u):(0,f.onRefresh)(this.props,e,null,t,n,r,o,i,a,s,this))}},{key:"initShowOnDis",value:function(e){var t=!1;t=e||("true"===e||"false"!==e&&!0===e),this.props.button.setButtonVisible("showOnDis",!t),this.props.button.setButtonVisible("showOnUse",t),c.default.set({isShowDis:t});var n=this.props.getSearchParam("c");"approve"===(0,f.getflowTypeByAppcode)(n)?(this.props.button.setButtonVisible("onExport_head",!0),this.props.button.setButtonVisible("onExportTemplate_head",!1),this.props.button.setButtonVisible("onExportLocal_head",!1),this.props.button.setButtonVisible("add",!0),this.props.button.setButtonVisible("onAddManual",!1),this.props.button.setButtonDisabled("add",!0)):(this.props.button.setButtonVisible("onExport_head",!1),this.props.button.setButtonVisible("onExportTemplate_head",!0),this.props.button.setButtonVisible("onExportLocal_head",!0),this.props.button.setButtonVisible("add",!1),this.props.button.setButtonVisible("onAddManual",!0),this.props.button.setButtonDisabled("onAddManual",!0))}},{key:"onSearchAfterEvent",value:function(e,t){}},{key:"onSelectedAllFn",value:function(e,t,n,r){}},{key:"searchInfoClick",value:function(e,t,n,r){var o=e.table.getTablePageInfo(k).pageSize;o||(o="10"),c.default.set({sourceType:"fromSearch",pageIndex:"0",pageSize:o,isShowDis:!0}),e.button.setButtonVisible("showOnDis",!1),e.button.setButtonVisible("showOnUse",!0);var i=e.search.getAllSearchData(w),a=e.search.getQueryInfo(w);v("localStorage","101650searchcache"+this.state.appcode,JSON.stringify(i),(function(){})),v("localStorage","queryinfocache"+this.state.appcode,JSON.stringify(a),(function(){})),(0,y.searchBtnClick)(e,t,n,r,null,null,!1,"searchclick")}},{key:"getWorkflowTemplateName",value:function(e){this.setState({workflowTemplateName:e})}},{key:"fromAfterEvent",value:function(e,t,n,r,o){this.setState({cur_pk_org:r,pk_org:r.refpk});var i={pk_org:r.refpk,orgcode:r.refcode,orgname:r.refname};if(c.default.set(i),r.refpk){this.props.syncTree.setNodeDisable("tree1",!1);var a=c.default.get(),s=a.billType,l=a.billPK,u=(a.flowPackageId,a.isLightApp,a.metaclassid,a.pk_org,a.orgcode,a.orgname,a.openNode,a.billTypeName,a.flowType,a.isShowDis),p=a.pageIndex,d=a.pageSize;a.sourceType;(0,f.onRefresh)(this.props,u,null,s,r.refpk,l,p,d,null,null,this)}else this.props.syncTree.setNodeDisable("tree1",!0),this.props.table.setAllTableData(k,{rows:[]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.table,r=t.button,o=t.search,i=t.syncTree,a=t.modal,l=t.form,u=t.BillHeadInfo,h=i.createSyncTree,m=n.createSimpleTable,v=(r.createButton,o.NCCreateSearch),g=(l.createForm,a.createModal),_=u.createBillHeadInfo,T=this.props.DragWidthCom,x=s.default.createElement("div",{className:"tree-area"},s.default.createElement("div",{style:"Y"===this.state.isOrgType?{width:"100%",marginTop:"10px"}:{width:"100%",height:"100%"}},h({treeId:"tree1",needSearch:!0,needEdit:!1,onSelectEve:this.onSelectEve.bind(this),selectedForInit:!1,searchType:"filtration",getSearchVal:this.getSearchVal.bind(this)}))),E=s.default.createElement("div",{className:"table-area"},s.default.createElement("div",{className:"search-approvearea"},v(w,{clickSearchBtn:this.searchInfoClick.bind(this),onAfterEvent:this.onSearchAfterEvent.bind(this),showAdvBtn:!0})),s.default.createElement("div",{className:"nc-singleTable-table-area"},m(k,{onAfterEvent:y.afterEvent.bind(this),handlePageInfoChange:this.pageInfoClick.bind(this),showIndex:!0,showCheck:!0,onRowClick:this.onRowClick.bind(this),onRowDoubleClick:this.onRowDoubleClick.bind(this)})));return s.default.createElement("div",{className:"nc-bill-tree-card"},s.default.createElement(b,{areaCode:b.config.HEADER},s.default.createElement("div",{className:"header"},g("workflowTemplateName"),g("workflowTemplate"),g("previewModal"),_({title:this.state.appname,initShowBackBtn:!1}),s.default.createElement("span",{className:"orgunit"},"Y"===this.state.isOrgType?s.default.createElement("span",null,s.default.createElement("span",{className:"businessunittreeref"},"*"),s.default.createElement(p.default,{fieldid:"businessUnitTreeRef_refer",required:!0,value:this.state.cur_pk_org,onChange:function(t){e.setState({cur_pk_org:t,pk_org:t.refpk});var n={pk_org:t.refpk,orgcode:t.refcode,orgname:t.refname,sourceType:"fromTreeSelect",pageIndex:0,pageSize:10};if(c.default.set(n),t.refpk){e.props.syncTree.setNodeDisable("tree1",!1);var r=c.default.get(),o=r.billType,i=r.billPK,a=(r.flowPackageId,r.isLightApp,r.metaclassid,r.pk_org,r.orgcode,r.orgname,r.openNode,r.billTypeName,r.flowType,r.isShowDis),s=r.pageIndex,l=r.pageSize;r.sourceType;(0,f.onRefresh)(e.props,a,null,o,t.refpk,i,s,l,null,null,e)}else e.props.syncTree.setNodeDisable("tree1",!0),e.props.table.setAllTableData(k,{rows:[]})},isMultiSelectedEnabled:!1,placeholder:this.state.json["10161550-000020"]})):""),s.default.createElement("div",{className:"btn-group"},this.props.button.createButtonApp({area:"bt_head",buttonLimit:4,onButtonClick:y.headerButtonClick.bind(this),popContainer:document.querySelector(".btn-group")})))),s.default.createElement("div",{className:"tree-table"},s.default.createElement(T,{leftDom:x,rightDom:E,defLeftWid:"20%"})),this.state.showPreview&&s.default.createElement(d.default,{pk_wf_def:this.state.pk_wf_def,flowType:this.state.flowType,hide:this.hidePreview,previewTitle:this.state.previewname}))}}]),t}(a.Component),o=function(){var e=this;this.getTreeData=function(t){var n=e.props.getUrlParam("pk_org"),r=e.props.getUrlParam("openNode");r||(r=c.default.get().openNode);var o={pk_org:n},i=e;(0,u.ajax)({url:"/nccloud/riawf/pf/approveFlowMngQuery.do",type:"post",data:o,async:!0,success:function(e){var t=e.success,n=e.data;if(t&&n){if(i.props.syncTree.setSyncTreeData("tree1",n.dataVO.rows),c.default.set({flowType:n.type}),"approve"===n.type?(i.props.button.setButtonVisible("add",!0),i.props.button.setButtonVisible("onAddManual",!1)):(i.props.button.setButtonVisible("add",!1),i.props.button.setButtonVisible("onAddManual",!0)),r){var o=i.props.syncTree.getSyncTreeValue("tree1",r);if(o&&o.pid)if(20!=o.pid.length)i.props.syncTree.openNodeByPk("tree1",o.pid);else{var a=i.props.syncTree.getSyncTreeValue("tree1",o.pid);a&&a.pid&&(i.props.syncTree.openNodeByPk("tree1",a.pid),i.props.syncTree.openNodeByPk("tree1",o.pid))}i.props.syncTree.setNodeSelected("tree1",r);var s=g("localStorage","101650treesearchcache"+n.appcode);s&&""!=s&&i.props.syncTree.getSearchChangeEven(s,"tree1"),console.log("openNode",r),c.default.set({openNode:r})}else;var l={};"none"!=n.cur_pk_org?(i.setState({appcode:n.appcode,appname:n.appname,pk_org:n.cur_pk_org.pk_org,cur_pk_org:{refpk:n.cur_pk_org.pk_org,refname:n.cur_pk_org.name,refcode:n.cur_pk_org.code},isOrgType:n.isOrgType}),l={pk_org:n.cur_pk_org.pk_org,orgcode:n.cur_pk_org.code,orgname:n.cur_pk_org.name,isOrgType:n.isOrgType},i.props.syncTree.setNodeDisable("tree1",!1),c.default.set(l)):(l={pk_org:null,orgcode:null,orgname:null,isOrgType:n.isOrgType},c.default.set(l),i.setState({pk_org:null,orgcode:null,orgname:null,appcode:n.appcode,appname:n.appname,isOrgType:n.isOrgType}),i.props.syncTree.setNodeDisable("tree1",!0));var u=JSON.parse(g("localStorage","101650searchcache"+n.appcode)),p=i.props.meta.getMeta();u?p&&"{}"!=JSON.stringify(p)&&i.props.search.setSearchValue(w,u):(p&&"{}"!=JSON.stringify(p)&&i.props.search.setSearchValByField(w,"pk_org",{value:n.cur_pk_org.pk_org,display:n.cur_pk_org.name}),(0,f.onImport)(i,i.props))}}})},this.getSearchVal=function(t){console.log("treesearchcache",t),v("localStorage","101650treesearchcache"+e.state.appcode,t,(function(){}))},this.onSelectEve=function(t,n,r){c.default.set({flowPackageId:"",billType:"",billPK:"",isLightApp:"",metaclassid:""});var o=e.props.getSearchParam("c");if("approve"===(0,f.getflowTypeByAppcode)(o)?e.props.button.setButtonDisabled("add",!0):e.props.button.setButtonDisabled("onAddManual",!0),console.log("onSelectEve"),"root"!==n.pid){e.setState({pk_billtype:n.refcode,pk_billtypeid:n.refpk}),e.setState({openNode:n.key}),c.default.set({sourceType:"fromTreeSelect",pageIndex:0,pageSize:10,openNode:n.key});var i={billOrTranstype:n.refcode,billpk:n.refpk,pk_org:e.state.pk_org,isShowDis:c.default.get().isShowDis};i.billOrTranstype&&""!==i.billOrTranstype&&e.onInitData(i.isShowDis,i.billOrTranstype,i.pk_org,i.billpk,0,10,"",null,"fromTreeSelect",!1)}},this.onSelectedChange=function(){},this.displayPreview=function(t,n,r){e.setState({showPreview:!0,pk_wf_def:t,flowType:n,previewname:r})},this.hidePreview=function(){e.setState({showPreview:!1})},this.onRowClick=function(t,n,r,o){e.setState({focus_pk:r.pk_wf_def.value})},this.onRowDoubleClick=function(t,n,r,o){var i=[e.state.json["10161550-000042"],e.state.json["10161550-000043"]];if((0,h.isChrome)(i)){var a=t.pk_wf_def.value;if(e.setState({focus_pk:a}),!t.validity.value||"1"!==t.validity.value&&"2"!==t.validity.value)(0,u.toast)({content:e.state.json["10161550-000017"],color:"warning"});else{var s=c.default.get(),l=s.billType,p=s.billPK,d=s.flowPackageId,y=s.isLightApp,m=s.metaclassid,b=s.pk_org,v=s.orgcode,g=s.isOrgType,w=s.openNode,k=s.billTypeName,_=s.isShowDis,T=s.pageIndex,x=s.pageSize,E=s.sourceType,O=(t.version.value,t.node_name.value,t.workflow_type.value),S=(0,f.getflowNodeType)(O),P=r.getSearchParam("c");l=t.billtype.value,p=t.pk_billtypeid.value,g=(0,f.getisOrgType)(P);var M="";M=t.pk_billtypeid.display&&""!=t.pk_billtypeid.display?t.pk_billtypeid.display:t.billtype.display&&""!=t.billtype.display?t.billtype.display:"",k=(0,f.charToUnicode)(M),r.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?pk_wf_def="+a+"&state=edit&flowType="+S+"&billType="+l+"&billPK="+p+"&flowPackageId="+d+"&isLightApp="+y+"&metaclassid="+m+"&pk_org="+b+"&openNode="+w+"&orgcode="+v+"&isOrgType="+g+"&billTypeName="+k+"&isShowDis="+_+"&pageIndex="+T+"&pageSize="+x+"&sourceType="+E+"&edittype=db",{pagecode:"101650list"})}}},this.pageInfoClick=function(t,n,r,o){var i=t.table.getTablePageInfo(k);c.default.set({pageIndex:i.pageIndex,pageSize:i.pageSize}),(0,y.searchBtnClick)(t,r,!1,e.state.json)}},r);_=(0,u.createPage)({})(_),l.default.render(s.default.createElement(_,null),document.querySelector("#app"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(a,r({},s,e))};var o=n(1),i=n(314),a=o.high.Refer;i.conf.fieldid="group";var s=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:i.conf,isShowUnit:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(o,r({},i,e))};var o=n(1).high.Refer,i=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.afterEvent=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var r=n(97),o=n(333);t.searchBtnClick=r.searchBtnClick,t.pageInfoClick=r.pageInfoClick,t.initTemplate=o.initTemplate,t.afterEvent=r.afterEvent,t.headerButtonClick=r.headerButtonClick,t.clickSearchBtn=r.clickSearchBtn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i,c,p,f){if(t){var d=void 0;t.queryType="simple";var h=a.default.get(),y=h.pk_org,m=h.flowType,b=h.billType,v=h.sourceType,g=h.isShowDis,w=h.isOrgType,k=h.pageIndex,_=h.pageSize,T=e.getSearchParam("c");if(w=(0,s.getisOrgType)(T),m=(0,s.getflowTypeByAppcode)(T),p&&!0===p){var x=JSON.parse(l("localStorage","queryinfocache"+T));d=x}else d=e.search.getQueryInfo("101650search");d.pageInfo=e.table.getTablePageInfo(u),0!=n?d.pageInfo.pageIndex=0:d.pageInfo.pagepks=t,d.userdefObj=p&&!0===p?{pk_org:y,flowType:m,sourceType:v,billType:b,isShowDis:g,isOrgType:w,focus_pk:c,pageSize:_,pageIndex:k+"",operation:"opt"}:f&&"searchclick"===f?{pk_org:y,flowType:m,sourceType:v,billType:b,isShowDis:!0,isOrgType:w,focus_pk:c}:{pk_org:y,flowType:m,sourceType:v,billType:b,isShowDis:g,isOrgType:w,focus_pk:c},console.log("userdefObj pk_org",d),(0,o.ajax)({url:"/nccloud/riawf/pf/approveFlowMngHandlePageAction.do",data:d,success:function(t){var n=t.success,r=t.data;if(n)if(r){if(r&&"success"==r.result){if(r.value&&"none"!=r.value){var a=r.value[u];e.table.setAllTableData(u,a)}else e.table.setAllTableData(u,{rows:[]});r.focus_index&&e.table.focusRowByIndex(u,parseInt(r.focus_index)),i&&(0,o.toast)({content:i,color:"success"})}}else e.table.setAllTableData(u,{rows:[]})}})}};var r,o=n(1),i=n(39),a=(r=i)&&r.__esModule?r:{default:r},s=n(66);o.viewModel.setGlobalStorage;var l=o.viewModel.getGlobalStorage,u=(o.viewModel.removeGlobalStorage,"101650designlist")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){(0,i.default)(e,n,!1,this.state.json)};var r,o=n(310),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=r.default.get(),c=n.billType,f=n.pk_org,d=n.billPK,h=n.isShowDis,y=n.pageIndex,m=n.pageSize,b=n.sourceType;switch(t){case"add":case"onAddManualDef":p(this,e);break;case"onAddManualTemplate":!function(e,t){var n=[e.state.json["10161550-000042"],e.state.json["10161550-000043"]];if(!(0,a.isChrome)(n))return;var i=r.default.get().billType;if(!i||""==i||"undefined"==i)return void(0,s.toast)({content:e.state.json["10161550-000009"],color:"warning"});(0,o.default)({newProps:e.props,queryParams:{data:{billType:i,modelName:e.state.json["10161550-000033"],previewname:e.state.json["10161550-000036"]},url:""},call:null})}(this);break;case"refresh":"fromSearch"===b?(0,u.searchBtnClick)(e,{queryType:"simple"},"simple",this.state.json,this.state.json["10161550-000006"]):(0,l.onRefresh)(e,h,this.state.json["10161550-000006"],c,f,d,y,m,"refresh",this.state.focus_pk,this);break;case"showOnDis":r.default.set({isShowDis:!0}),e.button.setButtonVisible("showOnDis",!1),e.button.setButtonVisible("showOnUse",!0),(0,l.onImport)(this,e),"fromSearch"===b?(0,u.searchBtnClick)(e,{queryType:"simple"},"simple",this.state.json,this.state.json["10161550-000007"]):(0,l.onRefresh)(e,!0,this.state.json["10161550-000007"],c,f,d,y,m,"refresh",this.state.focus_pk);break;case"showOnUse":r.default.set({isShowDis:!1}),e.button.setButtonVisible("showOnDis",!0),e.button.setButtonVisible("showOnUse",!1),(0,l.onImport)(this,e),"fromSearch"===b?(0,u.searchBtnClick)(e,{queryType:"simple"},"simple",this.state.json,this.state.json["10161550-000008"]):(0,l.onRefresh)(e,!1,this.state.json["10161550-000008"],c,f,d,y,m,"refresh",this.state.focus_pk,this);break;case"onImport":break;case"onSync":!function(e,t){var n=r.default.get().flowType;(0,s.promptBox)({color:"info",title:e.state.json["10161550-000019"],content:e.state.json["10161550-000018"],noFooter:!1,noCancelBtn:!1,beSureBtnName:e.state.json["10161550-000012"],cancelBtnName:e.state.json["10161550-000013"],beSureBtnClick:function(){(0,s.ajax)({url:"/nccloud/riawf/pf/approveFlowMngSyncAction.do",data:{flowType:n},success:function(e){e.success;var t=e.data;t&&"success"==t.result?(0,s.toast)({content:t.hints,color:"success"}):(0,s.toast)({content:t.error,color:"danger"})},error:function(e){(0,s.toast)({content:e.message,color:"danger"})}})},cancelBtnClick:function(){}})}(this);break;case"batchExport":!function(e,t){var n=t.table.getCheckedRows("101650designlist"),o=r.default.get(),i=(o.billType,o.billPK,o.flowType),a=0,l=[];if(!(n&&n.length>0))return void(0,s.toast)({content:e.state.json["10161550-000010"],color:"warning"});for(var u=0;u<n.length;u++){var c={pk_wf_def:n[u].data.values.pk_wf_def.value,billtype:n[u].data.values.billtype.value,pk_billtypeid:n[u].data.values.pk_billtypeid.value,version:n[u].data.values.version.value,workflow_type:n[u].data.values.workflow_type.value,billmaker_name:n[u].data.values.billmaker_name.value,pk_org:n[u].data.values.pk_org.value,node_name:n[u].data.values.node_name.value,node_name2:n[u].data.values.node_name2.value,node_name3:n[u].data.values.node_name3.value,node_name4:n[u].data.values.node_name4.value,node_name5:n[u].data.values.node_name5.value,node_name6:n[u].data.values.node_name6.value};l.push(JSON.stringify(c))}if(n&&n.length>0)for(var p=0;p<n.length;p++)"3"!==n[p].data.values.workflow_type.value&&"5"!==n[p].data.values.workflow_type.value||(a+=1);if(a===n.length)return void(0,s.toast)({content:e.state.json["10161550-000037"],color:"warning"});var f={selectData:l,isbatch:"Y",flowType:i};(0,s.formDownload)({params:f,data:{},url:"/nccloud/riawf/pf/approveFlowMngExport.do",enctype:2})}(this,e);break;case"onExport_head":case"onExportLocal_head":!function(e,t){var n=t.table.getCheckedRows("101650designlist"),o=r.default.get(),i=(o.billType,o.billPK,o.flowType),a=0;if(!(n&&n.length>0))return void(0,s.toast)({content:e.state.json["10161550-000038"],color:"warning"});if(n&&n.length>0)for(var l=0;l<n.length;l++)"3"===n[l].data.values.workflow_type.value||"5"===n[l].data.values.workflow_type.value?1:a+=1;if(a>1)return void(0,s.toast)({content:e.state.json["10161550-000039"],color:"warning"});if(0==a)return void(0,s.toast)({content:e.state.json["10161550-000040"],color:"warning"});if(1==a){for(var u=[],c=0;c<n.length;c++)if("2"===n[c].data.values.workflow_type.value||"4"===n[c].data.values.workflow_type.value){var p={pk_wf_def:n[c].data.values.pk_wf_def.value,billtype:n[c].data.values.billtype.value,pk_billtypeid:n[c].data.values.pk_billtypeid.value,version:n[c].data.values.version.value,workflow_type:n[c].data.values.workflow_type.value,pk_org:n[c].data.values.pk_org.value,node_name:n[c].data.values.node_name.value,node_name2:n[c].data.values.node_name2.value,node_name3:n[c].data.values.node_name3.value,node_name4:n[c].data.values.node_name4.value,node_name5:n[c].data.values.node_name5.value,node_name6:n[c].data.values.node_name6.value};u.push(JSON.stringify(p));break}var f={selectData:u,isbatch:"N",flowType:i};(0,s.formDownload)({params:f,data:null,url:"/nccloud/riawf/pf/approveFlowMngExport.do",enctype:2})}}(this,e);break;case"onExportTemplate_head":!function(e,t){var n=t.table.getCheckedRows("101650designlist"),o=r.default.get();o.billType,o.billPK,o.flowType;if(!(n&&n.length>0))return void(0,s.toast)({content:e.state.json["10161550-000041"],color:"warning"});if(0===n.length||n.length>1)return void(0,s.toast)({content:e.state.json["10161550-000041"],color:"warning"});0!==n.length&&1!==n.length||(0,i.default)({newProps:t,queryParams:{data:{pk_wf_def:n[0].data.values.pk_wf_def.value,node_name:n[0].data.values.node_name.value,modelName:e.state.json["10161550-000034"],tips:e.state.json["10161550-000035"]},url:""},call:null})}(this,e)}};var r=c(n(39)),o=c(n(320)),i=c(n(311)),a=n(6),s=n(1),l=n(66),u=n(97);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=[e.state.json["10161550-000042"],e.state.json["10161550-000043"]];if((0,a.isChrome)(n)){var o=r.default.get(),i=o.billType,l=o.billPK,u=o.flowPackageId,c=o.isLightApp,p=o.metaclassid,f=o.pk_org,d=o.orgcode,h=(o.orgname,o.openNode),y=o.billTypeName,m=o.flowType,b=o.isShowDis,v=o.isOrgType,g=o.pageIndex,w=o.pageSize,k=o.sourceType;if(i&&""!=i&&"undefined"!=i)t.syncTree.getSelectNode("tree1").pid?t.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?state=add&flowType="+m+"&billType="+i+"&billPK="+l+"&flowPackageId="+u+"&isLightApp="+c+"&metaclassid="+p+"&pk_org="+f+"&openNode="+h+"&orgcode="+d+"&isOrgType="+v+"&billTypeName="+y+"&isShowDis="+b+"&pageIndex="+g+"&pageSize="+w+"&sourceType"+k+"&edittype=db",{pagecode:"101650list"}):(0,s.toast)({content:e.state.json["10161550-000009"],color:"warning"});else(0,s.toast)({content:e.state.json["10161550-000009"],color:"warning"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.newProps,n=e.queryParams;e.call;t.modal.show("workflowTemplate",{title:n.data.modelName,size:"lg",noFooter:!0,content:React.createElement(i.default,{preprops:t,queryParams:n})})};var r,o=n(321),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),i=p(o),a=n(1),s=n(322),l=n(66),u=p(n(39)),c=p(n(67));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hidePreview=function(){n.setState({showPreview:!1})},n.state={pk_wf_def:"",uniquename:"",showPreview:!1,hidePreview:!0,previewname:e.queryParams.previewname,billType:u.default.get().billType},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"initData",value:function(e){var t=this;(0,a.ajax)({url:"/nccloud/riawf/pf/workflowMngOnAddWorklfowDefFromTemplet.do",type:"post",data:{billType:e},async:!1,success:function(e){var n=e.success,r=e.data;n&&"success"===r.result&&"none"!=r.data&&t.props.editTable.setTableData("workflowTemplate",r.data.workflowTemplate),n&&"success"===r.result&&"none"===r.data&&t.props.editTable.setTableData("workflowTemplate",[]),n&&"danger"===r.result&&(t.props.editTable.setTableData("workflowTemplate",[]),(0,a.toast)({content:r.error,color:"danger"}))},error:function(e){alert(e.message)}})}},{key:"onRowClick",value:function(e,t,n,r){this.setState({uniquename:n.values.pk_wf_def.value})}},{key:"onRowDoubleClick",value:function(e,t,n){var r=u.default.get(),o=r.billType,i=r.billPK,a=r.flowPackageId,s=r.isLightApp,c=r.metaclassid,p=r.pk_org,f=r.orgcode,d=(r.orgname,r.openNode),h=r.isShowDis,y=r.pageIndex,m=r.pageSize,b=r.sourceType,v=e.values.pk_wf_def.value,g=n.getSearchParam("c"),w=(0,l.getisOrgType)(g);n.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?filename="+v+"&state=edit&flowType=workflow&billType="+o+"&billPK="+i+"&flowPackageId="+a+"&isLightApp="+s+"&metaclassid="+c+"&pk_org="+p+"&openNode="+d+"&orgcode="+f+"&isOrgType="+w+"&isShowDis="+h+"&pageIndex="+y+"&pageSize="+m+"&sourceType="+b+"&edittype=template",{pagecode:"101650list"}),n.preprops.modal.close("workflowTemplate")}},{key:"componentDidMount",value:function(){this.initData(this.props.queryParams.data.billType)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props,t=(e.editTable,e.button),n=(e.modal,this.props.editTable.createEditTable),r=t.createButtonApp;return i.default.createElement("div",{className:"nc-bill-list"},i.default.createElement("div",{className:"nc-bill-table-area"},n("workflowTemplate",{showIndex:!0,onRowDoubleClick:this.onRowDoubleClick.bind(this),onRowClick:this.onRowClick.bind(this),onAfterEvent:s.afterEvent.bind(this),onBeforeEvent:s.beforeEvent.bind(this)})),r({area:"page_footer",buttonLimit:6,onButtonClick:s.buttonClick.bind(this),popContainer:document.querySelector(".footerBtn")}),this.state.showPreview&&i.default.createElement(c.default,{pk_wf_def:this.state.pk_wf_def,flowType:"workflow",hide:this.hidePreview,previewTitle:this.state.previewname,flowsource:"localfile",billType:this.state.billType}))}}]),t}(o.Component);t.default=f=(0,a.createPage)({initTemplate:s.initTemplate})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beforeEvent=t.afterEvent=t.buttonClick=t.initTemplate=void 0;var r=s(n(323)),o=s(n(324)),i=s(n(325)),a=s(n(326));function s(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=r.default,t.buttonClick=o.default,t.afterEvent=i.default,t.beforeEvent=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"riawf-workflowdesign",domainName:"uap",callback:function(t,n,r){n?e.createUIDom({pagecode:"101650list",appcode:"101650"},(function(n){var r={workflowTemplate:{moduletype:"table",status:"browse",items:[{attrcode:"node_name",visible:!0,itemtype:"input",label:t["10161550-000021"]},{attrcode:"workflow_type",required:!1,visible:!0,itemtype:"input",disabled:!0,label:t["10161550-000022"]},{attrcode:"pk_org",required:!1,visible:!0,itemtype:"refer",label:t["10161550-000023"]},{attrcode:"pk_wf_def",required:!1,visible:!1,itemtype:"input",label:t["10161550-000024"]},{attrcode:"validity",required:!1,visible:!0,itemtype:"input",label:t["10161550-000025"]},{attrcode:"createdate",required:!1,visible:!0,itemtype:"input",label:t["10161550-000026"]},{attrcode:"templetFilename",required:!1,visible:!0,itemtype:"input",disabled:!0,label:t["10161550-000027"]},,{attrcode:"emendEnum",required:!1,visible:!0,itemtype:"input",disabled:!0,label:t["10161550-000028"]}]}},i={msgButtons:[{id:"0001A41000000006J5B1",btncolor:"button_main",type:"general_btn",key:"ensure",title:t["10161550-000029"],keyboard:"alt+y",area:"bt_line",children:[]},{id:"0001A41000000006J5B1",btncolor:"button_main",type:"general_btn",key:"delete",title:t["10161550-000030"],area:"bt_line",children:[]},{id:"0001A41000000006J5B1",btncolor:"button_secondary",type:"general_btn",key:"cancel",title:t["10161550-000031"],keyboard:"alt+n",area:"page_footer",children:[]},{id:"0001A41000000006J5B1",btncolor:"button_secondary",type:"general_btn",key:"flowimage",title:t["10161550-000032"],area:"page_footer",children:[]}]};!function(e,t,n){var r={label:n["10161550-000002"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,n,r){return e.button.createOprationButton(["ensure","delete"],{area:"bt_line",buttonLimit:5,onButtonClick:function(e,t){return function(e,t,n,r,i){var l=a.default.get(),u=l.billType,c=l.billPK,p=l.flowPackageId,f=l.isLightApp,d=l.metaclassid,h=l.pk_org,y=l.orgcode,m=(l.orgname,l.openNode),b=l.isShowDis,v=l.pageIndex,g=l.pageSize,w=l.sourceType,k=r.values.pk_wf_def.value;switch(t){case"ensure":var _=e.getSearchParam("c"),T=(0,s.getisOrgType)(_);e.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?filename="+k+"&state=edit&flowType=workflow&billType="+u+"&billPK="+c+"&flowPackageId="+p+"&isLightApp="+f+"&metaclassid="+d+"&pk_org="+h+"&openNode="+m+"&orgcode="+y+"&isOrgType="+T+"&isShowDis="+b+"&pageIndex="+v+"&pageSize="+g+"&sourceType="+w+"&edittype=template",{pagecode:"101650list"}),e.preprops.modal.close("workflowTemplate"),e.preprops.modal.close("workflowTemplate");break;case"delete":(0,o.ajax)({url:"/nccloud/riawf/pf/workflowMngDeleteTemplateAction.do",type:"post",data:{billType:u,filename:k},async:!1,success:function(t){var n=t.success,i=t.data;n&&"success"===i.result&&e.editTable.deleteTableRowsByRowId("workflowTemplate",r.rowid,!0),n&&"error"===i.result&&(e.editTable.setTableData("workflowTemplate",[]),(0,o.toast)({content:i.error,color:"danger"}))},error:function(e){alert(e.message)}})}}(e,t,0,n)}})}};t.workflowTemplate.items.push(r),e.meta.setMeta(t)}(e,r,t),e.button.setButtons(i.msgButtons)})):console.log("未加载到多语资源")}})};var r,o=n(1),i=n(39),a=(r=i)&&r.__esModule?r:{default:r},s=n(66)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){switch(t){case"cancel":!function(e){e.props.preprops.modal.close("workflowTemplate");var t=ReactDOM.findDOMNode(e);t&&ReactDOM.unmountComponentAtNode(t)}(this);break;case"flowimage":this.state.uniquename&&""!=this.state.uniquename&&this.setState({showPreview:!0,pk_wf_def:this.state.uniquename})}};n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o,i,a){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o,i){return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=(r=i)&&r.__esModule?r:{default:r},s=n(1),l=n(328);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tips:e.queryParams.data.tips},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){this.props.form.setFormItemsValue("workflowTemplateName",{node_name:{value:this.props.queryParams.data.node_name}}),this.props.form.setFormItemsValue("workflowTemplateName",{pk_wf_def:{value:this.props.queryParams.data.pk_wf_def}})}},{key:"render",value:function(){var e=this.props,t=(e.editTable,e.button),n=(e.modal,this.props.form.createForm),r=t.createButtonApp;return a.default.createElement("div",null,n("workflowTemplateName",{onAfterEvent:l.afterEvent.bind(this),onBeforeEvent:l.beforeEvent.bind(this)}),r({area:"page_footer",buttonLimit:6,onButtonClick:l.buttonClick.bind(this),popContainer:document.querySelector(".footerBtn")}))}}]),t}(i.Component);t.default=u=(0,s.createPage)({initTemplate:l.initTemplate})(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beforeEvent=t.afterEvent=t.buttonClick=t.initTemplate=void 0;var r=s(n(329)),o=s(n(330)),i=s(n(331)),a=s(n(332));function s(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=r.default,t.buttonClick=o.default,t.afterEvent=i.default,t.beforeEvent=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"riawf-workflowdesign",domainName:"uap",callback:function(t,n,r){n?e.createUIDom({pagecode:"101650list",appcode:"101650"},(function(n){var r={workflowTemplateName:{moduletype:"form",status:"edit",items:[{attrcode:"node_name",visible:!0,itemtype:"input",label:t["10161550-000021"]},{attrcode:"pk_wf_def",visible:!1,itemtype:"input",label:t["10161550-000024"]}]}},o={msgButtons:[{id:"0001A41000000006J5B1",btncolor:"button_main",type:"general_btn",key:"ensure",title:t["10161550-000012"],keyboard:"alt+y",area:"page_footer",children:[]},{id:"0001A41000000006J5B1",btncolor:"button_secondary",type:"general_btn",key:"cancel",title:t["10161550-000013"],keyboard:"alt+n",area:"page_footer",children:[]}]};!function(e,t){e.meta.setMeta(t)}(e,r),e.button.setButtons(o.msgButtons)})):console.log("未加载到多语资源")}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=this;switch(t){case"ensure":var a=e.form.getFormItemsValue("workflowTemplateName","node_name"),s=e.form.getFormItemsValue("workflowTemplateName","pk_wf_def");if(a&&a.value&&s&&s.value){var l={node_name:a.value,pk_wf_def:s.value};(0,r.ajax)({url:"/nccloud/riawf/pf/workFlowMngOnExportWorkflowDefToTemplet.do",type:"post",data:l,success:function(e){var t=e.success,n=e.data;t&&"success"===n.result&&((0,r.toast)({content:n.hits,color:"success"}),o(i)),t&&"danger"===n.result&&(0,r.toast)({content:n.error,color:"danger"})},error:function(e){alert(e.message)}})}else(0,r.toast)({content:this.state.tips,color:"danger"});break;case"cancel":o(this)}};var r=n(1);function o(e){e.props.preprops.modal.close("workflowTemplateName");var t=ReactDOM.findDOMNode(e);t&&ReactDOM.unmountComponentAtNode(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o,i,a){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o,i){return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var r,o=n(334),i=(r=o)&&r.__esModule?r:{default:r};t.initTemplate=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){y=this;e.MultiInit.getMultiLang({moduleId:"riawf-workflowdesign",domainName:"uap",callback:function(t,n,r){n?(h=e.getSearchParam("c"),e.createUIDom({pagecode:"101650list",appcode:h},(function(n){if(n){if(n.template){var r=n.template;r=function(e,t,n,r){var o=(0,a.getRealflowTypeByAppcode)(r);console.log("flowType",o),t["101650search"].items.map((function(e){"workflow_type"==e.attrcode&&(e.refcode="uap/refer/riart/approveTypeGridRef/index",e.queryCondition={flowtype:o},e.isMultiSelectedEnabled=!0),"billmaker_type"==e.attrcode&&(e.refcode="uap/refer/riart/approveStartTypeGridRef/index",e.isMultiSelectedEnabled=!1),"validity"==e.attrcode&&(e.refcode="uap/refer/riart/approveFlowStateGridRef/index",e.isMultiSelectedEnabled=!0),o?"workflow_sub"===o||"approve_sub"===o?"pk_org"==e.attrcode&&(e.refcode="uap/refer/riart/orgUnitPropertyTreeRef/index",e.refName=n["10161550-000045"],e.isMultiSelectedEnabled=!0):"workflow"===o||"approve"===o?"pk_org"==e.attrcode&&(e.refcode="uapbd/refer/org/BusinessUnitAndGroupTreeRef/index",e.refName=n["10161550-000045"],e.isMultiSelectedEnabled=!1,e.queryCondition={TreeRefActionExt:"nccloud.web.riart.billtype.ref.action.BusinessUnitAndGroupTreeRefCondition"}):"pk_org"==e.attrcode&&(e.refcode="uapbd/refer/org/BusinessUnitAndGroupTreeRef/index",e.isMultiSelectedEnabled=!0):"pk_org"==e.attrcode&&(e.refcode="uapbd/refer/org/BusinessUnitAndGroupTreeRef/index",e.isMultiSelectedEnabled=!0),"pk_billtypeid"==e.attrcode&&(e.isMultiSelectedEnabled=!0),"usageorg"==e.attrcode&&(e.refcode="uap/refer/riart/orgUnitPropertyTreeRef/index",e.isMultiSelectedEnabled=!0)}));for(var i={label:n["10161550-000002"],attrcode:"opr",itemtype:"customer",width:"150px",fixed:"right",visible:!0,render:function(t,r,o){var i=[];return"1"==r.validity.value?("2"==r.workflow_type.value?i=["edit","disUse","delete","preview","onExport"]:"3"==r.workflow_type.value?i=["edit","delete","preview"]:"4"==r.workflow_type.value?i=["edit","disUse","delete","preview","onExportLocal","onExportTemplate"]:"5"==r.workflow_type.value&&(i=["edit","delete","preview","onExportTemplate"]),e.button.createOprationButton(i,{area:"bt_line",buttonLimit:3,onButtonClick:function(e,i){return m(n,e,i,t,r,o)}})):"0"==r.validity.value?("2"==r.workflow_type.value?i=["onUse","delete","preview","onExport"]:"3"==r.workflow_type.value?i=["delete","preview"]:"4"==r.workflow_type.value?i=["onUse","delete","preview","onExportLocal","onExportTemplate"]:"5"==r.workflow_type.value&&(i=["delete","preview","onExportTemplate"]),e.button.createOprationButton(i,{area:"bt_line",buttonLimit:3,onButtonClick:function(e,i){return m(n,e,i,t,r,o)}})):"2"==r.validity.value?("2"==r.workflow_type.value?i=["edit","onUse","delete","preview","onExport"]:"3"==r.workflow_type.value?i=["edit","delete","preview"]:"4"==r.workflow_type.value?i=["edit","onUse","delete","preview","onExportLocal","onExportTemplate"]:"5"==r.workflow_type.value&&(i=["edit","delete","preview","onExportTemplate"]),e.button.createOprationButton(i,{area:"bt_line",buttonLimit:3,onButtonClick:function(e,i){return m(n,e,i,t,r,o)}})):void 0}},s=0;s<t[d].items.length;s++)"validity"==t[d].items[s].attrcode&&(t[d].items[s].render=function(e,t,n){return"0"==t.validity.value?React.createElement("span",null,React.createElement("i",{className:"icon iconfont icon-tingyong",style:{color:"rgba(255,95,87,1)"}})," "+t.validity.display):"1"==t.validity.value?React.createElement("span",null,React.createElement("i",{className:"icon iconfont icon-qiyong",style:{color:"rgba(40,202,67,1)"}})," "+t.validity.display):"2"==t.validity.value?React.createElement("span",null,React.createElement("i",{className:"icon iconfont icon-zanting1",style:{color:"rgba(206,205,205,1)"}})," "+t.validity.display):React.createElement("span",null," "+t.validity.display)});return t["101650designlist"].pagination=!0,t["101650designlist"].items.push(i),t}(e,r,t,h),e.meta.setMeta(r);var i=e.getSearchParam("c"),s=JSON.parse(c("localStorage",p+i));if(s)e.search.setSearchValue(f,s);else{var l=o.default.get(),u=l.pk_org,b=(l.orgcode,l.orgname);l.cur_pk_orgName;e.search.setSearchValByField(f,"pk_org",{value:u,display:b})}}if(n.button){var v=n.button;(0,a.onImport)(y,e),e.button.setButtons(v),e.button.setPopContent("delete",t["10161550-000001"])}}}))):console.log("未加载到多语资源")}})};var r=n(1),o=u(n(39)),i=u(n(311)),a=n(66),s=n(97),l=n(6);function u(e){return e&&e.__esModule?e:{default:e}}r.base.NCButton,r.base.NCFromControl,r.base.NCPopconfirm,r.base.NCIcon,r.viewModel.setGlobalStorage;var c=r.viewModel.getGlobalStorage,p=(r.viewModel.removeGlobalStorage,"101650searchcache"),f="101650search",d="101650designlist",h="101650",y=void 0;function m(e,t,n,u,c,p){var f={data:{areaType:"form",rows:[{values:{activerefnum:c.activerefnum,billmaker:c.billmaker,billmaker_name:c.billmaker_name,billmaker_type:c.billmaker_type,billtype:c.billtype,createdate:c.createdate,creator:c.creator,dr:c.dr,emendEnum:c.emendEnum,fatherpk:c.fatherpk,isSubmitTORejecter:c.isSubmitTORejecter,modifier:c.modifier,modifydate:c.modifydate,node_name:c.node_name,node_name2:c.node_name2,node_name3:c.node_name3,node_name4:c.node_name4,node_name5:c.node_name5,node_name6:c.node_name6,node_selectdatename:c.node_selectdatename,node_type:c.node_type,pk_billtypeid:c.pk_billtypeid,pk_group:c.pk_group,pk_org:c.pk_org,pk_wf_def:c.pk_wf_def,priority:c.priority,processdefid:c.processdefid,startaction:c.startaction,subflowIds:c.subflowIds,supervisor:c.supervisor,templetFilename:c.templetFilename,ts:c.ts,usageorg:c.usageorg,validity:c.validity,version:c.version,workflow_type:c.workflow_type}}]}},d=o.default.get(),h=d.billType,m=d.billPK,b=d.flowPackageId,v=d.isLightApp,g=d.metaclassid,w=d.pk_org,k=d.orgcode,_=(d.orgname,d.openNode),T=d.flowType,x=d.billTypeName,E=d.isShowDis,O=d.pageIndex,S=d.pageSize,P=d.sourceType,M=d.isOrgType,j=c.pk_wf_def.value,C=c.version.value,I=c.node_name.value,N=c.workflow_type.value,A=(0,a.getflowNodeType)(N),R=[e["10161550-000042"],e["10161550-000043"]];switch(n){case"onExport":case"onExportLocal":var D=[],B={pk_wf_def:j,billtype:h,pk_billtypeid:m,version:C,workflow_type:N,node_name:I,node_name2:c.node_name2.value,node_name3:c.node_name3.value,node_name4:c.node_name4.value,node_name5:c.node_name5.value,node_name6:c.node_name6.value};D.push(JSON.stringify(B));var L={selectData:D,isbatch:"N",flowType:T};(0,r.formDownload)({params:L,data:f,url:"/nccloud/riawf/pf/approveFlowMngExport.do",enctype:2});break;case"edit":if(!(0,l.isChrome)(R))return;var z=t.getSearchParam("c");h=c.billtype.value,m=c.pk_billtypeid.value,M=(0,a.getisOrgType)(z);var U="";U=c.pk_billtypeid.display&&""!=c.pk_billtypeid.display?c.pk_billtypeid.display:c.billtype.display&&""!=c.billtype.display?c.billtype.display:"",x=(0,a.charToUnicode)(U),t.linkTo("/uap/wfm/flowEditor/flowMaker/index.html?pk_wf_def="+j+"&state=edit&flowType="+A+"&billType="+h+"&billPK="+m+"&flowPackageId="+b+"&isLightApp="+v+"&metaclassid="+g+"&pk_org="+w+"&openNode="+_+"&orgcode="+k+"&isOrgType="+M+"&billTypeName="+x+"&isShowDis="+E+"&pageIndex="+O+"&pageSize="+S+"&sourceType="+P+"&edittype=db",{pagecode:"101650list"});break;case"delete":(0,r.ajax)({url:"/nccloud/riawf/pf/approveFlowMngDelete.do",type:"post",data:f,async:!0,success:function(n){var o=n.success,i=n.data;o&&"error"===i.result&&(0,r.toast)({content:i.value,color:"danger"}),o&&"success"===i.result&&("fromSearch"===P?(0,s.searchBtnClick)(t,{queryType:"simple"},"simple",e,e["10161550-000003"],j,!0):(0,a.onRefresh)(t,E,e["10161550-000003"],h,w,m,O,S,"refresh",j))},error:function(e){alert(e.message)}});break;case"onUse":var F=[],q=t.table.getAllTableData("101650designlist");if(q.rows.length>0)for(var V=0,W=0;W<q.rows.length;W++)F[V]=q.rows[W],delete F[V].values.orgcount,delete F[V].values.pk_orgs,F[V].values.templetFilename=F[V].values.usageorg,V+=1;q=0==F.length?{}:{areaType:"table",rows:F},f.data.rows[0].values.templetFilename=f.data.rows[0].values.usageorg;var K={onUserWF:f,allData:{allData:q},params:{selectBilltype:h,pk_org:w,isShowDis:E}};(0,r.ajax)({url:"/nccloud/riawf/pf/approveFlowMngOnUse.do",type:"post",data:K,async:!0,success:function(n){var o=n.success,i=n.data;o&&"danger"===i.result&&(0,r.toast)({content:i.value,color:"danger"}),o&&"success"===i.result&&("fromSearch"===P?(0,s.searchBtnClick)(t,{queryType:"simple"},"simple",e,e["10161550-000004"],j,!0):(0,a.onRefresh)(t,E,e["10161550-000004"],h,w,m,O,S,"refresh",j))},error:function(e){alert(e.message)}});break;case"disUse":var H={onUserWF:f,params:{selectBilltype:h,pk_org:w,isShowDis:E}};(0,r.ajax)({url:"/nccloud/riawf/pf/approveFlowMngDisUse.do",type:"post",data:H,async:!0,success:function(n){var o=n.success,i=n.data;o&&"danger"===i.result&&(0,r.toast)({content:i.value,color:"danger"}),o&&"success"===i.result&&("fromSearch"===P?(0,s.searchBtnClick)(t,{queryType:"simple"},"simple",e,e["10161550-000005"],j,!0):(0,a.onRefresh)(t,E,e["10161550-000005"],h,w,m,O,S,"refresh",j))},error:function(e){alert(e.message)}});break;case"onExportTemplate":(0,i.default)({newProps:t,queryParams:{data:{pk_wf_def:j,node_name:I,modelName:y.state.json["10161550-000034"],tips:y.state.json["10161550-000035"]},url:""},call:null});break;case"preview":var $=null;if(!(0,l.isChrome)(R))return;var Y=c.pk_billtypeid.display;$=($=Y&&""!==Y?Y:c.billtype.display)+"_"+c.node_name.value,y.displayPreview(j,T,$)}}},function(e,t,n){var r=n(336);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(4)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".lightapp-component-simpleTable {\n  margin-top: 16px;\n}\n.orgunit {\n  margin-left: 32px;\n  margin-top: -10px;\n}\n.businessunittreeref {\n  position: relative;\n  left: 3px;\n  top: 23px;\n  z-index: 2;\n  color: #ff0000;\n}\n.orgunit .lightapp-component-form {\n  padding: 0 !important;\n}\n.search-approvearea {\n  margin-left: 20px;\n}\n.search-area-contant {\n  min-width: 900px !important;\n}\n.tree-table .table-area {\n  overflow-x: hidden;\n}\n",""])}])}));
//# sourceMappingURL=index.c2a12f94.js.map