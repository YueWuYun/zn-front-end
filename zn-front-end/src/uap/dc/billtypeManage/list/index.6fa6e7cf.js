/*! @ncctag {"date":"2020-5-11 23:34:54"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/dc/billtypeManage/list/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/dc/billtypeManage/list/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,a){return function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=303)}({1:function(t,a){t.exports=e},11:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,o=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n)?e:(r=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:o+n.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},2:function(e,a){e.exports=t},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var r=(l=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),n=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[a].concat(n).concat([r]).join("\n")}var l;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(o[n]=!0)}for(r=0;r<e.length;r++){var l=e[r];"number"==typeof l[0]&&o[l[0]]||(a&&!l[2]?l[2]=a:a&&(l[2]="("+l[2]+") and ("+a+")"),t.push(l))}},t}},303:function(e,t,a){"use strict";var o,r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),l=a(2),s=u(l),i=u(a(9)),d=a(1),c=a(304);function u(e){return e&&e.__esModule?e:{default:e}}a(314);d.base.NCButton,d.base.NCFromControl,d.base.NCBackBtn;var p=d.base.NCDiv,b=(d.base.NCTree,o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.call(a),a.state={isAdd:!1,showHideForm:!1,openNode:"",json:{},inlt:null},a.getBtn(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,o){a&&e.setState({json:t,inlt:o})}})}},{key:"componentDidMount",value:function(){var e=this.props.getUrlParam("systemcode");"sys"===e?this.getData(""):(this.getData(e),this.backList(e))}},{key:"onAdd",value:function(e){var t=void 0;if(!(t=this.props.syncTree.getSelectNode("tree1"))){var a=this.props.getUrlParam("systemcode");if("sys"===a)t=this.props.syncTree.getSelectNode("tree1");else{var o=this.props.syncTree.getSelectNode("tree1");t=null==o?this.props.syncTree.getSyncTreeValue("tree1",a):o}}if(null!==t)if("root"!==t.refpk){e.button.setButtonVisible({save:!0,cancel:!0,edit:!1,editsave:!1,backlist:!1});var r=t.refcode;if(null!=r&&""!=r){this.props.syncTree.setNodeDisable("tree1",!0),this.props.form.setFormStatus("headAddForm","edit"),this.props.form.EmptyAllFormValue("headAddForm");var n=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeComponentQuery.do",method:"POST",data:{devmodule:r},success:function(t){var a=t.success,o=t.data;if(a&&"200"===o.result){for(var r=e.meta.getMeta(),l=r.headAddForm,s=0;s<l.items.length;s++)"component"===l.items[s].attrcode&&(l.items[s].options=o.value);for(var i=r.billtypeSubTable,c=r.billtypeSubTableAdd,u=0;u<i.items.length;u++)"classtype"===i.items[u].attrcode&&(i.items[u].options=o.classtype);for(var p=0;p<c.items.length;p++)"classtype"===c.items[p].attrcode&&(c.items[p].options=o.classtype);for(var b=0;b<r.relatedAppAdd.items.length;b++)"sence"===r.relatedAppAdd.items[b].attrcode&&(r.relatedAppAdd.items[b].options=o.extendsence);for(var f=0;f<r.relatedApp.items.length;f++)"sence"===r.relatedApp.items[f].attrcode&&(r.relatedApp.items[f].options=o.extendsence);e.meta.setMeta(r),n.props.editTable.setTableData("relatedAppAdd",{rows:[]}),n.props.editTable.setTableData("downstreamBillAdd",{rows:[]}),n.props.editTable.setTableData("billtypeSubTableAdd",{rows:[]})}a&&"warning"===o.result&&(n.props.form.setFormStatus("headAddForm","browse"),(0,d.toast)({content:o.exception,color:"warning"}))},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}}),e.button.setButtonVisible({addapp:!0,addsub:!0,adddown:!0}),this.setState({isAdd:!0})}else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"})}else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"});else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"})}},{key:"onEditSave",value:function(e){if(e.form.isCheckNow("headAddForm")){var t=e.form.getAllFormValue("headAddForm"),a=[];e.editTable.filterEmptyRows("billtypeSubTableAdd");var o=e.editTable.getAllData("billtypeSubTableAdd");if(o.rows.length>0)for(var r=0,n=0;n<o.rows.length;n++)3!=o.rows[n].status&&(a[r]=o.rows[n],r+=1);var l=[];e.editTable.filterEmptyRows("downstreamBillAdd");var s=e.editTable.getAllData("downstreamBillAdd");if(s.rows.length>0)for(var i=0,c=0;c<s.rows.length;c++)3!=s.rows[c].status&&(l[i]=s.rows[c],i+=1);var u=[];e.editTable.filterEmptyRows("relatedAppAdd");var p=e.editTable.getAllData("relatedAppAdd");if(p.rows.length>0)for(var b=0,f=0;f<p.rows.length;f++)3!=p.rows[f].status&&(u[b]=p.rows[f],b+=1);if(e.form.getFormItemsValue("headAddForm","isLightBill").value&&0==p.rows.length)(0,d.toast)({content:this.state.json["13050201-000006"],color:"warning"});else{var m={billtypeInfo:{billtypeInfo:t},billtypeSubTable:{billtypeSubTable:o=0==a.length?{}:{areaType:"table",status:"",rows:a}},downstreamBill:{downstreamBill:s=0==l.length?{}:{areaType:"table",status:"",rows:l}},relatedApp:{relatedApp:p=0==u.length?{}:{areaType:"table",status:"",rows:u}},systypecode:"edit"},h=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeSave.do",method:"POST",data:m,success:function(t){var a=t.success,o=t.data;if(a){if("success"==o.result){e.editTable.setStatus("billtypeSubTableAdd","browse"),e.editTable.setStatus("downstreamBillAdd","browse"),e.editTable.setStatus("relatedAppAdd","browse"),e.form.setFormStatus("headAddForm","browse"),e.form.setAllFormValue({headAddForm:o.billtypeInfo.billtypeInfo}),null!=o.billtypeSubTable&&e.editTable.setTableData("billtypeSubTableAdd",o.billtypeSubTable.billtypeSubTableAdd),e.button.setButtonVisible({save:!1,cancel:!1,backlist:!1,edit:!0,editsave:!1}),e.button.setButtonVisible({addapp:!1,addsub:!1,adddown:!1});var r=e.meta.getMeta();r.billtypeSubTableAdd.items[3].visible=!1,r.downstreamBillAdd.items[3].visible=!1,r.relatedAppAdd.items[7].visible=!1,e.meta.setMeta(r),(0,d.toast)({content:o.message,color:o.result})}if("success"!=o.result){var n=h.state.json["13050201-000007"];o.message&&(n=o.message),o.exception&&(n+=o.exception),(0,d.toast)({content:n,color:"danger"})}}},error:function(e){(0,d.toast)({content:h.state.json["13050201-000008"],color:"warning"})}})}}}},{key:"onSave",value:function(){var e=this.props.syncTree.getSelectNode("tree1"),t=this.props.form.getAllFormValue("headAddForm");this.props.editTable.filterEmptyRows("relatedAppAdd");var a=this.props.editTable.getAllData("relatedAppAdd");this.props.form.setFormItemsValue("headAddForm",{isLightBill:{value:!0}});var o=this.props.form.getFormItemsValue("headAddForm","isLightBill");this.props.form.getFormItemsValue("headAddForm","pk_billtypecode"),this.props.form.getFormItemsValue("headAddForm","billtypename");if(this.props.form.isCheckNow("headAddForm"))if(o.value&&0==a.rows.length)(0,d.toast)({content:this.state.json["13050201-000006"],color:"warning"});else{if(null===e){var r=this.props.getUrlParam("systemcode");e="sys"===r?this.props.syncTree.getSelectNode("tree1"):this.props.syncTree.getSyncTreeValue("tree1",r)}if(e){this.props.editTable.filterEmptyRows("billtypeSubTableAdd");var n=this.props.editTable.getAllData("billtypeSubTableAdd");this.props.editTable.filterEmptyRows("downstreamBillAdd");var l={billtypeInfo:{billtypeInfo:t},billtypeSubTable:{billtypeSubTable:n},downstreamBill:{downstreamBill:this.props.editTable.getAllData("downstreamBillAdd")},relatedApp:{relatedAppAdd:a},systypecode:e.values.systypecode},s=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeSave.do",method:"POST",data:l,success:function(e){e.success;var t=e.data;if("success"==t.result){s.props.syncTree.setNodeDisable("tree1",!1),s.props.editTable.setStatus("billtypeSubTableAdd","browse"),s.props.editTable.setStatus("downstreamBillAdd","browse"),s.props.editTable.setStatus("relatedAppAdd","browse"),s.props.form.setFormStatus("headAddForm","browse"),s.props.form.setAllFormValue({headAddForm:t.billtypeInfo.billtypeInfo}),null!=t.billtypeSubTable&&s.props.editTable.setTableData("billtypeSubTableAdd",t.billtypeSubTable.billtypeSubTable),s.props.button.setButtonVisible({save:!1,cancel:!1,edit:!0,editsave:!1}),s.props.button.setButtonVisible({addapp:!1,addsub:!1,adddown:!1});var a=s.props.meta.getMeta();a.billtypeSubTableAdd.items[3].visible=!1,a.downstreamBillAdd.items[3].visible=!1,a.relatedAppAdd.items[7].visible=!1,s.props.meta.setMeta(a),(0,d.toast)({color:"success"})}if("success"!=t.result){var o=s.state.json["13050201-000007"];t.message&&(o=t.message),t.exception&&(o+=t.exception),(0,d.toast)({content:o,color:"danger"})}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})}else(0,d.toast)({content:this.state.json["13050201-000029"],color:"warning"})}}},{key:"onCancel",value:function(){var e=this;(0,d.promptBox)({color:"warning",title:this.state.json["13050201-000009"],content:this.state.json["13050201-000010"],noFooter:!1,noCancelBtn:!1,hasCloseBtn:!1,beSureBtnClick:function(){e.props.editTable.cancelEdit("billtypeSubTableAdd"),e.props.editTable.cancelEdit("downstreamBillAdd"),e.props.editTable.cancelEdit("relatedAppAdd"),e.props.form.cancel("headAddForm"),e.insertBackList()},closeByClickBackDrop:!1})}},{key:"onModeify",value:function(){this.setState({isAdd:!1}),this.props.syncTree.setNodeDisable("tree1",!1),this.props.editTable.setStatus("billtypeSubTable","edit"),this.props.editTable.setStatus("downstreamBill","edit")}},{key:"searchTree",value:function(){this.queryTreeData("")}},{key:"headButtonClick",value:function(e,t,a){switch(t){case"add":this.onAdd(e);break;case"save":this.onSave();break;case"cancel":this.onCancel();break;case"backlist":this.insertBackList();break;case"edit":this.onEdit();break;case"editsave":this.onEditSave(e)}}},{key:"render",value:function(){var e=this.props,t=e.table,a=e.button,o=(e.search,e.form),r=e.editTable,n=e.syncTree,l=e.modal,i=e.BillHeadInfo,u=n.createSyncTree,b=t.createSimpleTable,f=(a.createButton,r.createEditTable),m=o.createForm,h=d.base.NCTabs,y=h.NCTabPane,v=l.createModal,g=i.createBillHeadInfo,T=this.props.DragWidthCom,A=s.default.createElement("div",{className:"tree-area"},u({treeId:"tree1",needSearch:!0,needEdit:!1,onSelectEve:this.onSelectEve.bind(this),selectedForInit:!1,searchType:"filtration"})),w=s.default.createElement("div",{className:"table-area billtype-manager-container"},s.default.createElement("div",{className:this.state.isAdd?"hideThisDom":null},b("billtypeManage",{onAfterEvent:c.afterEvent.bind(this),handlePageInfoChange:c.pageInfoClick,onRowClick:this.onRowClick.bind(this),onRowDoubleClick:this.onRowDoubleClick.bind(this),height:560}),s.default.createElement(h,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},s.default.createElement(y,{tab:this.state.json["13050201-000020"],key:"1"},f("relatedApp",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(y,{tab:this.state.json["13050201-000021"],key:"2"},f("billtypeSubTable",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(y,{tab:this.state.json["13050201-000022"],key:"3"},f("downstreamBill",{onAfterEvent:c.afterEvent.bind(this)})))),s.default.createElement("div",{className:this.state.isAdd?null:"hideThisDom"},m("headAddForm",{onAfterEvent:c.afterEvent.bind(this)}),s.default.createElement(h,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},s.default.createElement(y,{tab:this.state.json["13050201-000020"],key:"1"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"addapp",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("relatedAppAdd",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(y,{tab:this.state.json["13050201-000021"],key:"2"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"addsub",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("billtypeSubTableAdd",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(y,{tab:this.state.json["13050201-000022"],key:"3"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"adddown",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("downstreamBillAdd",{onAfterEvent:c.afterEvent.bind(this)})))));return s.default.createElement("div",{className:"nc-bill-tree-table"},v("modal"),s.default.createElement(p,{areaCode:p.config.HEADER},s.default.createElement("div",{className:"header"},g({title:this.state.json["13050201-000023"],initShowBackBtn:!1}),s.default.createElement("div",{className:" btn-group"},s.default.createElement("div",{className:this.state.isAdd?"hideThisDom":"title"},this.props.button.createButtonApp({area:"head_add",buttonLimit:4,onButtonClick:this.headButtonClick.bind(this),popContainer:document.querySelector(".btn-group")})),s.default.createElement("div",{className:this.state.isAdd?"title":"hideThisDom"},this.props.button.createButtonApp({area:"head_edit",buttonLimit:4,onButtonClick:this.headButtonClick.bind(this),popContainer:document.querySelector(".btn-group")}))))),s.default.createElement("div",{className:"tree-table"},s.default.createElement(T,{leftDom:A,rightDom:w,defLeftWid:"20%"})))}}]),t}(l.Component),r=function(){var e=this;this.getData=function(t){var a=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeMngQuery.do",type:"post",success:function(e){var o=e.success,r=e.data;if(o&&r&&(a.props.syncTree.setSyncTreeData("tree1",r.rows),""!=t)){var n=a.props.syncTree.getSyncTreeValue("tree1",t);null!=n&&null!=n.pid&&(a.props.syncTree.openNodeByPk("tree1",n.pid),a.props.syncTree.setNodeSelected("tree1",t))}}})},this.backList=function(t){var a=e,o={systemcode:t};(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:o,success:function(e){var t=e.success,o=e.data;if(t&&"success"==o.result){var r=o.value.billtypeManage;a.props.table.setAllTableData("billtypeManage",r)}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})},this.onSelectEve=function(t,a,o){if("root"!==a.refpk){var r=a.values.systypecode,n=e;e.setState({openNode:a.key});var l={systemcode:r};(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:l,success:function(e){var t=e.success,a=e.data;if(a&&"success"==a.result){var o=a.value.billtypeManage;n.props.table.setAllTableData("billtypeManage",o)}else n.props.table.setAllTableData("billtypeManage",{rows:[]});t&&(n.props.editTable.setTableData("relatedApp",{rows:[]}),n.props.editTable.setTableData("downstreamBill",{rows:[]}),n.props.editTable.setTableData("billtypeSubTable",{rows:[]}))},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}}),e.setState({isAdd:!1})}},this.showHide=function(){e.setState({showHide:!e.state.showHide})},this.onSelectedChange=function(){},this.onEdit=function(){e.props.button.setButtonVisible({save:!1,editsave:!0,cancel:!0,edit:!1}),e.props.button.setButtonVisible({addapp:!0,addsub:!0,adddown:!0});var t=e.props.meta.getMeta();t.billtypeSubTableAdd.items[3].visible=!0,t.downstreamBillAdd.items[3].visible=!0,t.relatedAppAdd.items[7].visible=!0,e.props.meta.setMeta(t),e.props.editTable.setStatus("billtypeSubTableAdd","edit"),e.props.editTable.setStatus("downstreamBillAdd","edit"),e.props.editTable.setStatus("relatedAppAdd","edit"),e.props.form.setFormStatus("headAddForm","edit")},this.insertBackList=function(){e.setState({isAdd:!1}),e.props.syncTree.setNodeDisable("tree1",!1);var t=e.props.getUrlParam("systemcode"),a=void 0;if("sys"===t)a=e.props.syncTree.getSelectNode("tree1");else{var o=e.props.syncTree.getSelectNode("tree1");a=null==o?e.props.syncTree.getSyncTreeValue("tree1",t):o}var r={systemcode:t=a.values.systypecode},n=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:r,success:function(e){var t=e.success,a=e.data;if(t&&"success"==a.result){var o=a.value.billtypeManage;n.props.table.setAllTableData("billtypeManage",o)}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})},this.onRowClick=function(t,a,o,r){var n=o.pk_billtypeid.value,l=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfoSubTable.do",type:"post",data:n,success:function(e){e.success;var t=e.data,a=t.billtypeSubTable.billtypeSubTable,o=t.downstreamBill.downstreamBill,r=t.relatedApp.relatedApp;a?l.props.editTable.setTableData("billtypeSubTable",a):l.props.editTable.setTableData("billtypeSubTable",{rows:[]}),o?l.props.editTable.setTableData("downstreamBill",o):l.props.editTable.setTableData("downstreamBill",{rows:[]}),r?l.props.editTable.setTableData("relatedApp",r):l.props.editTable.setTableData("relatedApp",{rows:[]})}}),e.setState({isAdd:!1})},this.onRowDoubleClick=function(e,t,a,o){a.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:e.pk_billtypeid.value,pk_billtypecode:e.pk_billtypecode.value,systemcode:e.systemcode.value,status:"browse",pagecode:"13050201001"})},this.getBtn=function(){var t=e;(0,d.ajax)({url:"/nccloud/platform/appregister/queryallbtns.do",data:{appcode:"13050201",pagecode:"13050201001"},success:function(e){t.props.button.setButtons(e.data)}})}},o);b=(0,d.createPage)({initTemplate:c.initTemplate})(b),i.default.render(s.default.createElement(b,null),document.querySelector("#app"))},304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var o=a(305),r=a(312);t.searchBtnClick=o.searchBtnClick,t.pageInfoClick=o.pageInfoClick,t.initTemplate=r.initTemplate,t.afterEvent=o.afterEvent,t.buttonClick=o.buttonClick,t.headerButtonClick=o.headerButtonClick,t.clickSearchBtn=o.clickSearchBtn},305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.pageInfoClick=t.searchBtnClick=void 0;var o=d(a(306)),r=d(a(307)),n=d(a(308)),l=d(a(309)),s=d(a(310)),i=d(a(311));function d(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=o.default,t.pageInfoClick=r.default,t.afterEvent=n.default,t.buttonClick=l.default,t.headerButtonClick=s.default,t.clickSearchBtn=i.default},306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.table.getTablePageInfo("financeListTable").size};var o=a(1);o.base.NCButton,o.base.NCMessage},307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getTablePageInfo("purchaseOrderListTable"),a=e.search.getAllSearchData("purchaseOrderSearchArea");a.page=t.page,a.size=t.size,a.sort={direction:"desc"};t.page,t.size};a(1)},308:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,n){e.editTable.getAllData("relatedAppAdd");if("sence"==a&&3==r){var l=e.editTable.getValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode");e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!1),e.editTable.setValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode",{value:"",display:""}),null!=l.value&&""!=l.value&&(0,o.toast)({content:this.state.json["13050201-000000"],color:"success"})}if("sence"==a&&1==r){var s=e.editTable.getValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode");e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!1),e.editTable.setValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode",{value:"",display:""}),null!=s.value&&""!=s.value&&(0,o.toast)({content:this.state.json["13050201-000000"],color:"success"})}"sence"==a&&4==r&&e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!0);"sence"==a&&1!=r&&3!=r&&4!=r&&e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!0);"component"==a&&null!=r&&null!=r.value&&null!=r.value.key&&""==r.value.key&&e.form.setFormItemsValue("headAddForm",{component:{value:"",display:null}});if("billstyle"==a&&null!=r&&null!=r.value&&""!=r.value){var i=parseInt(r.value);i>=100||i<10?((0,o.toast)({content:this.state.json["13050201-000001"],color:"warning"}),e.form.setFormItemsValue("headAddForm",{billstyle:{value:null,display:null}})):e.form.setFormItemsValue("headAddForm",{billstyle:{value:i,display:i}})}return!0};var o=a(1);o.base.NCButton,o.base.NCFromControl},309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){switch(t){case"addapp":if(e.form.setFormItemsValue("headAddForm",{isLightBill:{value:!0}}),!e.form.getFormItemsValue("headAddForm","isLightBill").value){(0,o.toast)({content:this.state.json["13050201-000002"],color:"warning"});break}e.editTable.addRow("relatedAppAdd");break;case"addsub":e.editTable.addRow("billtypeSubTableAdd");break;case"adddown":e.editTable.addRow("downstreamBillAdd");break;case"addSubTableEdit":e.editTable.addRow("billtypeSubTable");break;case"addDownBillEdit":e.editTable.addRow("downstreamBill");break;case"delSubTable":e.editTable.delRow("billtypeSubTableAdd",e.editTable.index)}};var o=a(1)},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"add":e.onChangeShow();break;case"save":e.form.getAllFormValue("head");break;case"edit":e.form.setFormStatus("head","edit"),e.form.setFormStatus("purchaseOrderCardForm2","edit"),e.editTable.edit("purchaseOrderCardTable");break;case"cancel":e.modal.show("modal",{title:this.state.json["13050201-000009"],content:this.state.json["13050201-000010"],beSureBtnClick:function(){e.form.cancel("head"),e.form.cancel("purchaseOrderCardForm2"),e.editTable.cancelEdit("purchaseOrderCardTable")}});break;case"del":e.modal.show("modal",{title:this.state.json["13050201-000013"],content:this.state.json["13050201-000014"],beSureBtnClick:function(){}})}}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.search.getAllSearchData("searchArea")};a(1)},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var o,r=a(313),n=(o=r)&&o.__esModule?o:{default:o};t.initTemplate=n.default},313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,o){a&&e.createUIDom({pagecode:"13050201001",appcode:"13050201"},(function(a){if(a){if(a.template){var o=a.template;o=function(e,t,a){var o={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,o,n){var l;return l=["deleteapp"],e.button.createOprationButton(l,{area:"deleteapp",buttonLimit:3,onButtonClick:function(e,l){return r(a,e,l,t,o,n)}})}};t.relatedAppAdd.items.push(o);var n={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,o,n){var l;return l=["deletesub"],e.button.createOprationButton(l,{area:"deletesub",buttonLimit:3,onButtonClick:function(e,l){return r(a,e,l,t,o,n)}})}};t.billtypeSubTableAdd.items.push(n);var l={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,o,n){var l;return l=["deletedown"],e.button.createOprationButton(l,{area:"deletedown",buttonLimit:3,onButtonClick:function(e,l){return r(a,e,l,t,o,n)}})}};t.downstreamBillAdd.items.push(l);var s={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,o,n){var l;return l=["modify","delete","info"],e.button.createOprationButton(l,{area:"list",buttonLimit:3,onButtonClick:function(e,l){return r(a,e,l,t,o,n)}})}};return t.billtypeManage.items.push(s),t.billtypeManage.showindex=!0,e.meta.setMeta(t),t}(e,o,t),e.meta.setMeta(o)}if(a.button){var n=a.button;e.button.setButtons(n),e.button.setPopContent("delete",t["13050201-000029"]),e.button.setPopContent("deleteapp",t["13050201-000030"]),e.button.setPopContent("deletesub",t["13050201-000030"]),e.button.setPopContent("deletedown",t["13050201-000030"])}}}))}})};var o=a(1);o.base.NCButton,o.base.NCFromControl,o.base.NCPopconfirm,o.base.NCIcon;function r(e,t,a,r,n,l){switch(a){case"modify":t.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:n.pk_billtypeid.value,pk_billtypecode:n.pk_billtypecode.value,systemcode:n.systemcode.value,status:"edit",pagecode:"13050201001"});break;case"delete":var s=n.pk_billtypeid.value;(0,o.ajax)({url:"/nccloud/riart/billtype/billtypeDelete.do",type:"post",data:s,success:function(a){var r=a.success,n=a.data;r&&"success"===n.result&&(t.table.deleteTableRowsByIndex("billtypeManage",l),t.editTable.setTableData("relatedApp",{rows:[]}),t.editTable.setTableData("billtypeSubTable",{rows:[]}),t.editTable.setTableData("downstreamBill",{rows:[]}),(0,o.toast)({content:e["13050201-000025"],color:"success"})),r&&"danger"===n.result&&t.modal.show("modal",{title:e["13050201-000026"],content:n.exception,beSureBtnClick:function(){}})},error:function(e){alert(e.message)}});break;case"info":t.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:n.pk_billtypeid.value,pk_billtypecode:n.pk_billtypecode.value,systemcode:n.systemcode.value,status:"browse",pagecode:"13050201001"});break;case"deletedown":t.editTable.delRow("downstreamBillAdd",l);break;case"deletesub":t.editTable.delRow("billtypeSubTableAdd",l);break;case"deleteapp":t.editTable.delRow("relatedAppAdd",l)}}},314:function(e,t,a){var o=a(315);"string"==typeof o&&(o=[[e.i,o,""]]);var r={transform:void 0};a(4)(o,r);o.locals&&(e.exports=o.locals)},315:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".hideThisDom {\n  display: none;\n}\n.headerBtn {\n  position: absolute;\n  right: 0;\n  top: -36px;\n  z-index: 5;\n}\n.headerBtn button {\n  margin: 5px;\n}\n.billtype-manager-container .u-tabs-tabpane {\n  position: relative;\n  overflow: visible !important;\n}\n",""])},4:function(e,t,a){var o,r,n={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),i=null,d=0,c=[],u=a(11);function p(e,t){for(var a=0;a<e.length;a++){var o=e[a],r=n[o.id];if(r){r.refs++;for(var l=0;l<r.parts.length;l++)r.parts[l](o.parts[l]);for(;l<o.parts.length;l++)r.parts.push(v(o.parts[l],t))}else{var s=[];for(l=0;l<o.parts.length;l++)s.push(v(o.parts[l],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function b(e,t){for(var a=[],o={},r=0;r<e.length;r++){var n=e[r],l=t.base?n[0]+t.base:n[0],s={css:n[1],media:n[2],sourceMap:n[3]};o[l]?o[l].parts.push(s):a.push(o[l]={id:l,parts:[s]})}return a}function f(e,t){var a=s(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===e.insertAt)o?o.nextSibling?a.insertBefore(t,o.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),f(e,t),t}function y(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function v(e,t){var a,o,r,n;if(t.transform&&e.css){if(!(n=t.transform(e.css)))return function(){};e.css=n}if(t.singleton){var l=d++;a=i||(i=h(t)),o=A.bind(null,a,l,!1),r=A.bind(null,a,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),f(e,t),t}(t),o=S.bind(null,a,t),r=function(){m(a),a.href&&URL.revokeObjectURL(a.href)}):(a=h(t),o=w.bind(null,a),r=function(){m(a)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=b(e,t);return p(a,t),function(e){for(var o=[],r=0;r<a.length;r++){var l=a[r];(s=n[l.id]).refs--,o.push(s)}e&&p(b(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var i=0;i<s.parts.length;i++)s.parts[i]();delete n[s.id]}}}};var g,T=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function A(e,t,a,o){var r=a?"":o.css;if(e.styleSheet)e.styleSheet.cssText=T(t,r);else{var n=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(n,l[t]):e.appendChild(n)}}function w(e,t){var a=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function S(e,t,a){var o=a.css,r=a.sourceMap,n=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||n)&&(o=u(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var l=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(l),s&&URL.revokeObjectURL(s)}},9:function(e,t){e.exports=a}})}));
//# sourceMappingURL=index.6fa6e7cf.js.map