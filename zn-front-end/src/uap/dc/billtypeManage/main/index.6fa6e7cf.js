/*! @ncctag {"date":"2020-5-11 23:34:54"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uap/dc/billtypeManage/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uap/dc/billtypeManage/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,a){return function(e){var t={};function a(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(l,o,function(t){return e[t]}.bind(null,o));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=477)}({1:function(t,a){t.exports=e},11:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,l=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n)?e:(o=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:l+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},2:function(e,a){e.exports=t},290:function(e,t,a){"use strict";var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),o=a(2),n=d(o),r=d(a(9)),s=a(1),i=a(291);function d(e){return e&&e.__esModule?e:{default:e}}a(301);s.base.NCBackBtn;var c=s.base.NCDiv,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCardData=function(e,t){var l=a,o={pk_billtypeid:e,systemcode:t};(0,s.ajax)({url:"/nccloud/riart/billtype/billtypeCardInfo.do",type:"post",data:o,success:function(e){var t=e.success,o=e.data;if(t&&null!=o&&"noData"===o.result)(0,s.toast)({content:a.state.json["13050201-000018"],color:"warning"});else if(t&&null!=o){var n=o.billtypeSubTable.billtypeSubTable,r=o.downstreamBill.downstreamBill,i=o.relatedApp.relatedApp,d=o.billtypeInfo.billtypeInfo;if(l.props.form.setAllFormValue({billtypeInfo:d}),null==n?l.props.editTable.setTableData("billtypeSubTable",{rows:[]}):l.props.editTable.setTableData("billtypeSubTable",n),null==r?l.props.editTable.setTableData("downstreamBill",{rows:[]}):l.props.editTable.setTableData("downstreamBill",r),null==i||null==i.rows||0==i.rows.length)l.props.editTable.setTableData("relatedApp",{rows:[]});else{l.props.editTable.setTableData("relatedApp",i);for(var c=0;c<i.rows.length;c++)"1"===i.rows[c].values.sence.value||"3"===i.rows[c].values.sence.value||l.props.editTable.setEditableByKey("relatedApp",i.rows[c].rowid,"pagecode",!0)}}}})},a.getData=function(e,t){var l=a;(0,s.ajax)({url:"/nccloud/riart/billtype/billtypeMngQuery.do",type:"post",success:function(a){var o=a.success,n=a.data;if(o){if(l.props.syncTree.setSyncTreeData("tree1",n.rows),""!=e){var r=l.props.syncTree.getSyncTreeValue("tree1",e);null!=r&&null!=r.pid&&(l.props.syncTree.openNodeByPk("tree1",r.pid),l.props.syncTree.setNodeSelected("tree1",e))}"edit"==t&&l.props.syncTree.setNodeDisable("tree1",!0)}}})},a.componentDidMount=function(){a.getBtn();var e=a.props.getUrlParam("pk_billtypeid"),t=a.props.getUrlParam("systemcode"),l=a.props.getUrlParam("status");a.getData(t,l),a.getCardData(e,t),"browse"==l?(a.props.button.setButtonVisible({cardsave:!1,cardcancel:!1,cardedit:!0,cardbacklist:!1}),a.props.button.setButtonVisible({addDownBill:!1,addSubTable:!1,addRelatedApp:!1}),a.props.button.setButtonVisible({deleteRelatedApp:!1,deleteDownBill:!1,deleteSubTable:!1}),a.props.form.setFormStatus("billtypeInfo","browse"),a.props.editTable.setStatus("billtypeSubTable","browse"),a.props.editTable.setStatus("downstreamBill","browse"),a.props.editTable.setStatus("relatedApp","browse")):setTimeout((function(){a.props.form.setFormStatus("billtypeInfo","edit"),a.props.editTable.setStatus("billtypeSubTable","edit"),a.props.editTable.setStatus("downstreamBill","edit"),a.props.editTable.setStatus("relatedApp","edit"),a.props.button.setButtonVisible({cardsave:!0,cardcancel:!0,cardedit:!1,cardbacklist:!1})}),0)},a.showHide=function(){a.setState({showHide:!a.state.showHide})},a.onSelectedChange=function(){},a.getBtn=function(){var e=a;(0,s.ajax)({url:"/nccloud/platform/appregister/queryallbtns.do",data:{appcode:"13050201",pagecode:"13050201001"},success:function(t){e.props.button.setButtons(t.data)}})},a.onSelectEve=function(e,t,l){if("root"!==t.refpk){var o=t.values.systypecode;a.props.linkTo("/uap/dc/billtypeManage/list/index.html",{systemcode:o,pagecode:"13050201001"})}},a.onBack=function(){var e=a.props.form.getFormItemsValue("billtypeInfo","systemcode");a.props.linkTo("/uap/dc/billtypeManage/list/index.html",{systemcode:e.value,pagecode:"13050201001"})},a.formId="billtypeInfo",a.state={showHide:!1,json:{},inlt:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,l){a&&e.setState({json:t,inlt:l})}})}},{key:"render",value:function(){var e=this.props,t=e.cardTable,a=e.form,l=e.modal,o=(e.cardPagination,this.props),r=o.table,d=o.button,u=o.search,p=o.editTable,b=o.syncTree,f=o.BillHeadInfo,m=b.createSyncTree,y=(this.props.button.getButtons(),p.createEditTable),h=a.createForm,v=(r.createSimpleTable,d.createButton,u.NCCreateSearch,this.state),T=(v.activeKey,v.showSearch,v.orderdateVal,t.createCardTable,f.createBillHeadInfo),g=s.base.NCTabs,w=g.NCTabPane,A=l.createModal,B=this.props.DragWidthCom,S=n.default.createElement("div",{className:"tree-card bill-manager-tree"},m({treeId:"tree1",needSearch:!0,needEdit:!1,onSelectEve:this.onSelectEve.bind(this),selectedForInit:!1,searchType:"filtration",showLine:!0})),k=n.default.createElement("div",{className:"table-area billtype-manager-container"},h(this.formId,{onAfterEvent:i.afterEvent.bind(this)}),n.default.createElement("div",{className:"tableBox",style:{padding:"20px"}},n.default.createElement(g,{style:{overflow:"visible"},navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},n.default.createElement(w,{tab:this.state.json["13050201-000020"],key:"1"},n.default.createElement("div",{className:"headerBtn"},this.props.button.createButtonApp({area:"addRelatedApp",buttonLimit:4,onButtonClick:i.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),y("relatedApp",{onAfterEvent:i.afterEvent.bind(this)})),n.default.createElement(w,{tab:this.state.json["13050201-000021"],key:"2"},n.default.createElement("div",{className:"headerBtn"},this.props.button.createButtonApp({area:"addSubTable",buttonLimit:4,onButtonClick:i.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),y("billtypeSubTable",{onAfterEvent:i.afterEvent.bind(this)})),n.default.createElement(w,{tab:this.state.json["13050201-000022"],key:"3"},n.default.createElement("div",{className:"headerBtn"},this.props.button.createButtonApp({area:"addDownBill",buttonLimit:4,onButtonClick:i.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),y("downstreamBill",{onAfterEvent:i.afterEvent.bind(this)})))));return n.default.createElement("div",{className:"nc-bill-tree-card"},A("modal"),n.default.createElement(c,{areaCode:c.config.HEADER},n.default.createElement("div",{className:"header"},n.default.createElement("div",{className:"title"},T({title:this.state.json["13050201-000023"],initShowBackBtn:!0,backBtnClick:this.onBack.bind(this)})),n.default.createElement("div",{className:"btn-group"},this.props.button.createButtonApp({area:"card",buttonLimit:4,onButtonClick:i.headerButtonClick.bind(this),popContainer:document.querySelector(".btn-group")})))),n.default.createElement("div",{className:"tree-card"},n.default.createElement(B,{leftDom:S,rightDom:k,defLeftWid:"20%"})))}}]),t}(o.Component);u=(0,s.createPage)({initTemplate:i.initTemplate})(u),r.default.render(n.default.createElement(u,null),document.querySelector("#app"))},291:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var l=a(292),o=a(299);t.searchBtnClick=l.searchBtnClick,t.pageInfoClick=l.pageInfoClick,t.initTemplate=o.initTemplate,t.afterEvent=l.afterEvent,t.buttonClick=l.buttonClick,t.headerButtonClick=l.headerButtonClick,t.clickSearchBtn=l.clickSearchBtn},292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.pageInfoClick=t.searchBtnClick=void 0;var l=d(a(293)),o=d(a(294)),n=d(a(295)),r=d(a(296)),s=d(a(297)),i=d(a(298));function d(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=l.default,t.pageInfoClick=o.default,t.afterEvent=n.default,t.buttonClick=r.default,t.headerButtonClick=s.default,t.clickSearchBtn=i.default},293:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.table.getTablePageInfo("financeListTable").size};a(1)},294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getTablePageInfo("purchaseOrderListTable"),a=e.search.getAllSearchData("purchaseOrderSearchArea");a.page=t.page,a.size=t.size,a.sort={direction:"desc"};t.page,t.size};a(1)},295:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,n){var r=e.editTable.getAllData("relatedApp");0!=r.rows.length||"isLightBill"!=a||o||e.button.setDisabled({addRelatedApp:!0});r.rows.length>0&&"isLightBill"==a&&o&&e.button.setDisabled({addRelatedApp:!0});"isLightBill"==a&&o&&e.button.setDisabled({addRelatedApp:!1});if("sence"==a&&3==o)e.editTable.getValByKeyAndRowId("relatedApp",n[0].rowid,"pagecode");if("sence"==a&&1==o)e.editTable.getValByKeyAndRowId("relatedApp",n[0].rowid,"pagecode");"sence"==a&&4==o&&e.editTable.setEditableByKey("relatedApp",n[0].rowid,"pagecode",!0);"sence"==a&&1!=o&&3!=o&&4!=o&&e.editTable.setEditableByKey("relatedApp",n[0].rowid,"pagecode",!0);"component"==a&&null!=o&&null!=o.value&&null!=o.value.key&&""==o.value.key&&e.form.setFormItemsValue("billtypeInfo",{component:{value:"",display:null}});if("billstyle"==a&&null!=o&&null!=o.value&&""!=o.value){var s=parseInt(o.value);s>=100||s<10?((0,l.toast)({content:this.state.json["13050201-000001"],color:"warning"}),e.form.setFormItemsValue("billtypeInfo",{billstyle:{value:null,display:null}})):e.form.setFormItemsValue("billtypeInfo",{billstyle:{value:s,display:s}})}};var l=a(1)},296:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"addRelatedApp":if(!e.form.getFormItemsValue("billtypeInfo","isLightBill").value){(0,l.toast)({content:this.state.json["13050201-000002"],color:"warning"});break}e.editTable.addRow("relatedApp");break;case"addDownBill":e.editTable.addRow("downstreamBill");break;case"addSubTable":e.editTable.addRow("billtypeSubTable")}};var l=a(1)},297:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"cardbacklist":var a=e.form.getFormItemsValue("billtypeInfo","systemcode");e.linkTo("/uap/dc/billtypeManage/list/index.html",{systemcode:a.value,pagecode:"13050201001"});break;case"cardsave":if(!e.form.isCheckNow("billtypeInfo"))return;this.props.form.getFormItemsValue("billtypeInfo","pk_billtypecode"),this.props.form.getFormItemsValue("billtypeInfo","billtypename");var o=e.form.getAllFormValue("billtypeInfo"),n=[];e.editTable.filterEmptyRows("billtypeSubTable");var r=e.editTable.getAllData("billtypeSubTable");if(r.rows.length>0)for(var s=0,i=0;i<r.rows.length;i++)3!=r.rows[i].status&&(n[s]=r.rows[i],s+=1);var d=[];e.editTable.filterEmptyRows("downstreamBill");var c=e.editTable.getAllData("downstreamBill");if(c.rows.length>0)for(var u=0,p=0;p<c.rows.length;p++)3!=c.rows[p].status&&(d[u]=c.rows[p],u+=1);var b=[];e.editTable.filterEmptyRows("relatedApp");var f=e.editTable.getAllData("relatedApp");if(f.rows.length>0)for(var m=0,y=0;y<f.rows.length;y++)3!=f.rows[y].status&&(b[m]=f.rows[y],m+=1);if(e.form.getFormItemsValue("billtypeInfo","isLightBill").value&&0==f.rows.length)return void(0,l.toast)({content:this.state.json["13050201-000006"],color:"warning"});var h={billtypeInfo:{billtypeInfo:o},billtypeSubTable:{billtypeSubTable:r=0==n.length?{}:{areaType:"table",status:"",rows:n}},downstreamBill:{downstreamBill:c=0==d.length?{}:{areaType:"table",status:"",rows:d}},relatedApp:{relatedApp:f=0==b.length?{}:{areaType:"table",status:"",rows:b}},systypecode:"edit"},v=this;(0,l.ajax)({url:"/nccloud/riart/billtype/billtypeSave.do",method:"POST",data:h,success:function(t){var a=t.success,o=t.data;if(a){if("success"==o.result){e.button.setDisabled({backlist:!1,edit:!1,save:!0,cancel:!0,addDownBill:!0,addRelatedApp:!0,addSubTable:!0}),e.syncTree.setNodeDisable("tree1",!1),e.editTable.setStatus("billtypeSubTable","browse"),e.editTable.setStatus("downstreamBill","browse"),e.editTable.setStatus("relatedApp","browse"),e.form.setFormStatus("billtypeInfo","browse"),e.form.setAllFormValue({billtypeInfo:o.billtypeInfo.billtypeInfo}),null!=o.billtypeSubTable&&e.editTable.setTableData("billtypeSubTable",o.billtypeSubTable.billtypeSubTable);var n=e.meta.getMeta();n.billtypeSubTable.items[3].visible=!1,n.downstreamBill.items[3].visible=!1,n.relatedApp.items[7].visible=!1,e.meta.setMeta(n),e.button.setButtonVisible({cardsave:!1,cardcancel:!1,cardedit:!0,cardbacklist:!1}),e.syncTree.setNodeDisable("tree1",!1),e.setUrlParam({status:"browse"}),(0,l.toast)({content:o.message,color:o.result})}if("success"!=o.result){var r=v.state.json["13050201-000007"];o.message&&(r=o.message),o.exception&&(r+=o.exception),(0,l.toast)({content:r,color:"danger"})}}},error:function(e){(0,l.toast)({content:v.state.json["13050201-000008"],color:"warning"})}});break;case"cardedit":e.button.setDisabled({edit:!0,save:!1,cancel:!1,addDownBill:!1,addRelatedApp:!1,addSubTable:!1}),e.form.setFormStatus("billtypeInfo","edit"),e.editTable.setStatus("billtypeSubTable","edit"),e.editTable.setStatus("downstreamBill","edit"),e.editTable.setStatus("relatedApp","edit"),e.button.setButtonVisible({cardsave:!0,cardcancel:!0,cardedit:!1,cardbacklist:!1}),e.button.setButtonVisible({addDownBill:!0,addSubTable:!0,addRelatedApp:!0}),e.button.setButtonVisible({deleteDownBill:!0,deleteSubTable:!0,deleteRelatedApp:!0});var T=e.meta.getMeta();T.billtypeSubTable.items[3].visible=!0,T.downstreamBill.items[3].visible=!0,T.relatedApp.items[7].visible=!0,e.meta.setMeta(T),e.syncTree.setNodeDisable("tree1",!0);for(var g=e.editTable.getAllData("relatedApp"),w=0;w<g.rows.length;w++)"1"===g.rows[w].values.sence.value||"3"===g.rows[w].values.sence.value?e.editTable.setEditableByKey("relatedApp",g.rows[w].rowid,"pagecode",!1):e.editTable.setEditableByKey("relatedApp",g.rows[w].rowid,"pagecode",!0);break;case"cardcancel":(0,l.promptBox)({color:"warning",title:this.state.json["13050201-000009"],content:this.state.json["13050201-000010"],noFooter:!1,noCancelBtn:!1,beSureBtnName:this.state.json["13050201-000011"],cancelBtnName:this.state.json["13050201-000012"],hasCloseBtn:!1,beSureBtnClick:function(){e.button.setDisabled({edit:!1,save:!0,cancel:!0,addDownBill:!0,addSubTable:!0}),e.form.cancel("billtypeInfo"),setTimeout((function(){e.editTable.cancelEdit("billtypeSubTable"),e.editTable.cancelEdit("downstreamBill"),e.editTable.cancelEdit("relatedApp")}),0),e.form.setFormStatus("billtypeInfo","browse");var t=e.meta.getMeta();t.billtypeSubTable.items[3].visible=!1,t.downstreamBill.items[3].visible=!1,t.relatedApp.items[7].visible=!1,e.meta.setMeta(t),e.editTable.setStatus("relatedApp","browse"),e.editTable.setStatus("downstreamBill","browse"),e.editTable.setStatus("billtypeSubTable","browse"),e.button.setButtonVisible({cardsave:!1,cardcancel:!1,cardedit:!0,cardbacklist:!1}),e.button.setButtonVisible({addDownBill:!1,addSubTable:!1,addRelatedApp:!1}),e.syncTree.setNodeDisable("tree1",!1),e.setUrlParam({status:"browse"})},closeByClickBackDrop:!1});break;case"del":e.modal.show("modal",{title:this.state.json["13050201-000013"],content:this.state.json["13050201-000014"],beSureBtnClick:function(){}})}};var l=a(1)},298:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.search.getAllSearchData("searchArea")};a(1)},299:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var l,o=a(300),n=(l=o)&&l.__esModule?l:{default:l};t.initTemplate=n.default},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",l=e[3];if(!l)return a;if(t&&"function"==typeof btoa){var o=(r=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),n=l.sources.map((function(e){return"/*# sourceURL="+l.sourceRoot+e+" */"}));return[a].concat(n).concat([o]).join("\n")}var r;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var l={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(l[n]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&l[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),t.push(r))}},t}},300:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,n){a&&e.createUIDom({pagecode:"13050201_card",appcode:"13050201"},(function(a){if(a){if(a.template){var n=a.template;n=function(e,t,a){var n=e.getUrlParam("systemcode"),r=e.getUrlParam("pk_billtypecode"),s=e.getUrlParam("status"),i={devmodule:n,pk_billtypecode:r};(0,l.ajax)({url:"/nccloud/riart/billtype/billtypeComponentQuery.do",method:"POST",data:i,success:function(a){var l=a.success,o=a.data;if("edit"===s&&setTimeout((function(){e.editTable.setStatus("billtypeSubTable","edit"),e.editTable.setStatus("downstreamBill","edit"),e.editTable.setStatus("relatedApp","edit"),e.button.setButtonVisible({cardsave:!0,cardcancel:!0,cardedit:!1,cardbacklist:!1})}),0),l&&"200"===o.result){for(var n=t.billtypeInfo,r=0;r<n.items.length;r++)if("component"===n.items[r].attrcode){n.items[r].options=o.value;break}for(var i=t.billtypeSubTable,d=0;d<i.items.length;d++)if("classtype"===i.items[d].attrcode){i.items[d].options=o.classtype;break}for(var c=t.relatedApp,u=0;u<c.items.length;u++)if("sence"===c.items[u].attrcode){c.items[u].options=o.extendsence;break}e.meta.setMeta(t)}},error:function(e){toast({content:e.message,color:"danger"})}}),t.billtypeSubTable.showindex=!1;var d={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,a,l){var n;return n=["deleteRelatedApp"],e.button.createOprationButton(n,{area:"deleteRelatedApp",buttonLimit:3,onButtonClick:function(e,n){return o(e,n,t,a,l)}})}},c={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,a,l){var n;return n=["deleteDownBill"],e.button.createOprationButton(n,{area:"deleteDownBill",buttonLimit:3,onButtonClick:function(e,n){return o(e,n,t,a,l)}})}},u={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,a,l){var n;return n=["deleteSubTable"],e.button.createOprationButton(n,{area:"deleteSubTable",buttonLimit:3,onButtonClick:function(e,n){return o(e,n,t,a,l)}})}};t.relatedApp.items.push(d),t.downstreamBill.items.push(c),t.billtypeSubTable.items.push(u),"browse"===e.getUrlParam("status")&&(t.billtypeSubTable.items[3].visible=!1,t.downstreamBill.items[3].visible=!1,t.relatedApp.items[7].visible=!1);return e.meta.setMeta(t),t}(e,n,t),e.meta.setMeta(n)}if(a.button){var r=a.button;e.button.setButtons(r),e.button.setPopContent("deleteRelatedApp",t["13050201-000030"]),e.button.setPopContent("deleteDownBill",t["13050201-000030"]),e.button.setPopContent("deleteSubTable",t["13050201-000030"])}}}))}})};var l=a(1);function o(e,t,a,l,o){switch(t){case"deleteRelatedApp":e.editTable.deleteTableRowsByRowId("relatedApp",l.rowid);break;case"deleteSubTable":e.editTable.delRow("billtypeSubTable",o);break;case"deleteDownBill":e.editTable.delRow("downstreamBill",o)}}},301:function(e,t,a){var l=a(302);"string"==typeof l&&(l=[[e.i,l,""]]);var o={transform:void 0};a(4)(l,o);l.locals&&(e.exports=l.locals)},302:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".headerBtn {\n  position: absolute;\n  right: 0;\n  top: -36px;\n  z-index: 5;\n}\n.headerBtn button {\n  margin: 5px;\n}\n.u-tabs .u-tabs-content .u-tabs-tabpane {\n  overflow: visible;\n}\n.billtype-manager-container .u-tabs-tabpane {\n  position: relative;\n}\n.billtype-manager-container .u-tabs-tabpane {\n  overflow: visible;\n}\n.bill-manager-tree .syncTreeCom {\n  padding: 15px 0 20px 15px;\n  min-width: 20%;\n  height: 100%;\n  overflow: hidden;\n}\n",""])},303:function(e,t,a){"use strict";var l,o,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(2),s=u(r),i=u(a(9)),d=a(1),c=a(304);function u(e){return e&&e.__esModule?e:{default:e}}a(314);d.base.NCButton,d.base.NCFromControl,d.base.NCBackBtn;var p=d.base.NCDiv,b=(d.base.NCTree,l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.call(a),a.state={isAdd:!1,showHideForm:!1,openNode:"",json:{},inlt:null},a.getBtn(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,l){a&&e.setState({json:t,inlt:l})}})}},{key:"componentDidMount",value:function(){var e=this.props.getUrlParam("systemcode");"sys"===e?this.getData(""):(this.getData(e),this.backList(e))}},{key:"onAdd",value:function(e){var t=void 0;if(!(t=this.props.syncTree.getSelectNode("tree1"))){var a=this.props.getUrlParam("systemcode");if("sys"===a)t=this.props.syncTree.getSelectNode("tree1");else{var l=this.props.syncTree.getSelectNode("tree1");t=null==l?this.props.syncTree.getSyncTreeValue("tree1",a):l}}if(null!==t)if("root"!==t.refpk){e.button.setButtonVisible({save:!0,cancel:!0,edit:!1,editsave:!1,backlist:!1});var o=t.refcode;if(null!=o&&""!=o){this.props.syncTree.setNodeDisable("tree1",!0),this.props.form.setFormStatus("headAddForm","edit"),this.props.form.EmptyAllFormValue("headAddForm");var n=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeComponentQuery.do",method:"POST",data:{devmodule:o},success:function(t){var a=t.success,l=t.data;if(a&&"200"===l.result){for(var o=e.meta.getMeta(),r=o.headAddForm,s=0;s<r.items.length;s++)"component"===r.items[s].attrcode&&(r.items[s].options=l.value);for(var i=o.billtypeSubTable,c=o.billtypeSubTableAdd,u=0;u<i.items.length;u++)"classtype"===i.items[u].attrcode&&(i.items[u].options=l.classtype);for(var p=0;p<c.items.length;p++)"classtype"===c.items[p].attrcode&&(c.items[p].options=l.classtype);for(var b=0;b<o.relatedAppAdd.items.length;b++)"sence"===o.relatedAppAdd.items[b].attrcode&&(o.relatedAppAdd.items[b].options=l.extendsence);for(var f=0;f<o.relatedApp.items.length;f++)"sence"===o.relatedApp.items[f].attrcode&&(o.relatedApp.items[f].options=l.extendsence);e.meta.setMeta(o),n.props.editTable.setTableData("relatedAppAdd",{rows:[]}),n.props.editTable.setTableData("downstreamBillAdd",{rows:[]}),n.props.editTable.setTableData("billtypeSubTableAdd",{rows:[]})}a&&"warning"===l.result&&(n.props.form.setFormStatus("headAddForm","browse"),(0,d.toast)({content:l.exception,color:"warning"}))},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}}),e.button.setButtonVisible({addapp:!0,addsub:!0,adddown:!0}),this.setState({isAdd:!0})}else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"})}else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"});else(0,d.toast)({content:this.state.json["13050201-000028"],color:"warning"})}},{key:"onEditSave",value:function(e){if(e.form.isCheckNow("headAddForm")){var t=e.form.getAllFormValue("headAddForm"),a=[];e.editTable.filterEmptyRows("billtypeSubTableAdd");var l=e.editTable.getAllData("billtypeSubTableAdd");if(l.rows.length>0)for(var o=0,n=0;n<l.rows.length;n++)3!=l.rows[n].status&&(a[o]=l.rows[n],o+=1);var r=[];e.editTable.filterEmptyRows("downstreamBillAdd");var s=e.editTable.getAllData("downstreamBillAdd");if(s.rows.length>0)for(var i=0,c=0;c<s.rows.length;c++)3!=s.rows[c].status&&(r[i]=s.rows[c],i+=1);var u=[];e.editTable.filterEmptyRows("relatedAppAdd");var p=e.editTable.getAllData("relatedAppAdd");if(p.rows.length>0)for(var b=0,f=0;f<p.rows.length;f++)3!=p.rows[f].status&&(u[b]=p.rows[f],b+=1);if(e.form.getFormItemsValue("headAddForm","isLightBill").value&&0==p.rows.length)(0,d.toast)({content:this.state.json["13050201-000006"],color:"warning"});else{var m={billtypeInfo:{billtypeInfo:t},billtypeSubTable:{billtypeSubTable:l=0==a.length?{}:{areaType:"table",status:"",rows:a}},downstreamBill:{downstreamBill:s=0==r.length?{}:{areaType:"table",status:"",rows:r}},relatedApp:{relatedApp:p=0==u.length?{}:{areaType:"table",status:"",rows:u}},systypecode:"edit"},y=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeSave.do",method:"POST",data:m,success:function(t){var a=t.success,l=t.data;if(a){if("success"==l.result){e.editTable.setStatus("billtypeSubTableAdd","browse"),e.editTable.setStatus("downstreamBillAdd","browse"),e.editTable.setStatus("relatedAppAdd","browse"),e.form.setFormStatus("headAddForm","browse"),e.form.setAllFormValue({headAddForm:l.billtypeInfo.billtypeInfo}),null!=l.billtypeSubTable&&e.editTable.setTableData("billtypeSubTableAdd",l.billtypeSubTable.billtypeSubTableAdd),e.button.setButtonVisible({save:!1,cancel:!1,backlist:!1,edit:!0,editsave:!1}),e.button.setButtonVisible({addapp:!1,addsub:!1,adddown:!1});var o=e.meta.getMeta();o.billtypeSubTableAdd.items[3].visible=!1,o.downstreamBillAdd.items[3].visible=!1,o.relatedAppAdd.items[7].visible=!1,e.meta.setMeta(o),(0,d.toast)({content:l.message,color:l.result})}if("success"!=l.result){var n=y.state.json["13050201-000007"];l.message&&(n=l.message),l.exception&&(n+=l.exception),(0,d.toast)({content:n,color:"danger"})}}},error:function(e){(0,d.toast)({content:y.state.json["13050201-000008"],color:"warning"})}})}}}},{key:"onSave",value:function(){var e=this.props.syncTree.getSelectNode("tree1"),t=this.props.form.getAllFormValue("headAddForm");this.props.editTable.filterEmptyRows("relatedAppAdd");var a=this.props.editTable.getAllData("relatedAppAdd");this.props.form.setFormItemsValue("headAddForm",{isLightBill:{value:!0}});var l=this.props.form.getFormItemsValue("headAddForm","isLightBill");this.props.form.getFormItemsValue("headAddForm","pk_billtypecode"),this.props.form.getFormItemsValue("headAddForm","billtypename");if(this.props.form.isCheckNow("headAddForm"))if(l.value&&0==a.rows.length)(0,d.toast)({content:this.state.json["13050201-000006"],color:"warning"});else{if(null===e){var o=this.props.getUrlParam("systemcode");e="sys"===o?this.props.syncTree.getSelectNode("tree1"):this.props.syncTree.getSyncTreeValue("tree1",o)}if(e){this.props.editTable.filterEmptyRows("billtypeSubTableAdd");var n=this.props.editTable.getAllData("billtypeSubTableAdd");this.props.editTable.filterEmptyRows("downstreamBillAdd");var r={billtypeInfo:{billtypeInfo:t},billtypeSubTable:{billtypeSubTable:n},downstreamBill:{downstreamBill:this.props.editTable.getAllData("downstreamBillAdd")},relatedApp:{relatedAppAdd:a},systypecode:e.values.systypecode},s=this;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeSave.do",method:"POST",data:r,success:function(e){e.success;var t=e.data;if("success"==t.result){s.props.syncTree.setNodeDisable("tree1",!1),s.props.editTable.setStatus("billtypeSubTableAdd","browse"),s.props.editTable.setStatus("downstreamBillAdd","browse"),s.props.editTable.setStatus("relatedAppAdd","browse"),s.props.form.setFormStatus("headAddForm","browse"),s.props.form.setAllFormValue({headAddForm:t.billtypeInfo.billtypeInfo}),null!=t.billtypeSubTable&&s.props.editTable.setTableData("billtypeSubTableAdd",t.billtypeSubTable.billtypeSubTable),s.props.button.setButtonVisible({save:!1,cancel:!1,edit:!0,editsave:!1}),s.props.button.setButtonVisible({addapp:!1,addsub:!1,adddown:!1});var a=s.props.meta.getMeta();a.billtypeSubTableAdd.items[3].visible=!1,a.downstreamBillAdd.items[3].visible=!1,a.relatedAppAdd.items[7].visible=!1,s.props.meta.setMeta(a),(0,d.toast)({color:"success"})}if("success"!=t.result){var l=s.state.json["13050201-000007"];t.message&&(l=t.message),t.exception&&(l+=t.exception),(0,d.toast)({content:l,color:"danger"})}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})}else(0,d.toast)({content:this.state.json["13050201-000029"],color:"warning"})}}},{key:"onCancel",value:function(){var e=this;(0,d.promptBox)({color:"warning",title:this.state.json["13050201-000009"],content:this.state.json["13050201-000010"],noFooter:!1,noCancelBtn:!1,hasCloseBtn:!1,beSureBtnClick:function(){e.props.editTable.cancelEdit("billtypeSubTableAdd"),e.props.editTable.cancelEdit("downstreamBillAdd"),e.props.editTable.cancelEdit("relatedAppAdd"),e.props.form.cancel("headAddForm"),e.insertBackList()},closeByClickBackDrop:!1})}},{key:"onModeify",value:function(){this.setState({isAdd:!1}),this.props.syncTree.setNodeDisable("tree1",!1),this.props.editTable.setStatus("billtypeSubTable","edit"),this.props.editTable.setStatus("downstreamBill","edit")}},{key:"searchTree",value:function(){this.queryTreeData("")}},{key:"headButtonClick",value:function(e,t,a){switch(t){case"add":this.onAdd(e);break;case"save":this.onSave();break;case"cancel":this.onCancel();break;case"backlist":this.insertBackList();break;case"edit":this.onEdit();break;case"editsave":this.onEditSave(e)}}},{key:"render",value:function(){var e=this.props,t=e.table,a=e.button,l=(e.search,e.form),o=e.editTable,n=e.syncTree,r=e.modal,i=e.BillHeadInfo,u=n.createSyncTree,b=t.createSimpleTable,f=(a.createButton,o.createEditTable),m=l.createForm,y=d.base.NCTabs,h=y.NCTabPane,v=r.createModal,T=i.createBillHeadInfo,g=this.props.DragWidthCom,w=s.default.createElement("div",{className:"tree-area"},u({treeId:"tree1",needSearch:!0,needEdit:!1,onSelectEve:this.onSelectEve.bind(this),selectedForInit:!1,searchType:"filtration"})),A=s.default.createElement("div",{className:"table-area billtype-manager-container"},s.default.createElement("div",{className:this.state.isAdd?"hideThisDom":null},b("billtypeManage",{onAfterEvent:c.afterEvent.bind(this),handlePageInfoChange:c.pageInfoClick,onRowClick:this.onRowClick.bind(this),onRowDoubleClick:this.onRowDoubleClick.bind(this),height:560}),s.default.createElement(y,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},s.default.createElement(h,{tab:this.state.json["13050201-000020"],key:"1"},f("relatedApp",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(h,{tab:this.state.json["13050201-000021"],key:"2"},f("billtypeSubTable",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(h,{tab:this.state.json["13050201-000022"],key:"3"},f("downstreamBill",{onAfterEvent:c.afterEvent.bind(this)})))),s.default.createElement("div",{className:this.state.isAdd?null:"hideThisDom"},m("headAddForm",{onAfterEvent:c.afterEvent.bind(this)}),s.default.createElement(y,{navtype:"turn",contenttype:"moveleft",defaultActiveKey:"1"},s.default.createElement(h,{tab:this.state.json["13050201-000020"],key:"1"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"addapp",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("relatedAppAdd",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(h,{tab:this.state.json["13050201-000021"],key:"2"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"addsub",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("billtypeSubTableAdd",{onAfterEvent:c.afterEvent.bind(this)})),s.default.createElement(h,{tab:this.state.json["13050201-000022"],key:"3"},s.default.createElement("div",{class:"headerBtn"},this.props.button.createButtonApp({area:"adddown",buttonLimit:4,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".headerBtn")})),f("downstreamBillAdd",{onAfterEvent:c.afterEvent.bind(this)})))));return s.default.createElement("div",{className:"nc-bill-tree-table"},v("modal"),s.default.createElement(p,{areaCode:p.config.HEADER},s.default.createElement("div",{className:"header"},T({title:this.state.json["13050201-000023"],initShowBackBtn:!1}),s.default.createElement("div",{className:" btn-group"},s.default.createElement("div",{className:this.state.isAdd?"hideThisDom":"title"},this.props.button.createButtonApp({area:"head_add",buttonLimit:4,onButtonClick:this.headButtonClick.bind(this),popContainer:document.querySelector(".btn-group")})),s.default.createElement("div",{className:this.state.isAdd?"title":"hideThisDom"},this.props.button.createButtonApp({area:"head_edit",buttonLimit:4,onButtonClick:this.headButtonClick.bind(this),popContainer:document.querySelector(".btn-group")}))))),s.default.createElement("div",{className:"tree-table"},s.default.createElement(g,{leftDom:w,rightDom:A,defLeftWid:"20%"})))}}]),t}(r.Component),o=function(){var e=this;this.getData=function(t){var a=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeMngQuery.do",type:"post",success:function(e){var l=e.success,o=e.data;if(l&&o&&(a.props.syncTree.setSyncTreeData("tree1",o.rows),""!=t)){var n=a.props.syncTree.getSyncTreeValue("tree1",t);null!=n&&null!=n.pid&&(a.props.syncTree.openNodeByPk("tree1",n.pid),a.props.syncTree.setNodeSelected("tree1",t))}}})},this.backList=function(t){var a=e,l={systemcode:t};(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:l,success:function(e){var t=e.success,l=e.data;if(t&&"success"==l.result){var o=l.value.billtypeManage;a.props.table.setAllTableData("billtypeManage",o)}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})},this.onSelectEve=function(t,a,l){if("root"!==a.refpk){var o=a.values.systypecode,n=e;e.setState({openNode:a.key});var r={systemcode:o};(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:r,success:function(e){var t=e.success,a=e.data;if(a&&"success"==a.result){var l=a.value.billtypeManage;n.props.table.setAllTableData("billtypeManage",l)}else n.props.table.setAllTableData("billtypeManage",{rows:[]});t&&(n.props.editTable.setTableData("relatedApp",{rows:[]}),n.props.editTable.setTableData("downstreamBill",{rows:[]}),n.props.editTable.setTableData("billtypeSubTable",{rows:[]}))},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}}),e.setState({isAdd:!1})}},this.showHide=function(){e.setState({showHide:!e.state.showHide})},this.onSelectedChange=function(){},this.onEdit=function(){e.props.button.setButtonVisible({save:!1,editsave:!0,cancel:!0,edit:!1}),e.props.button.setButtonVisible({addapp:!0,addsub:!0,adddown:!0});var t=e.props.meta.getMeta();t.billtypeSubTableAdd.items[3].visible=!0,t.downstreamBillAdd.items[3].visible=!0,t.relatedAppAdd.items[7].visible=!0,e.props.meta.setMeta(t),e.props.editTable.setStatus("billtypeSubTableAdd","edit"),e.props.editTable.setStatus("downstreamBillAdd","edit"),e.props.editTable.setStatus("relatedAppAdd","edit"),e.props.form.setFormStatus("headAddForm","edit")},this.insertBackList=function(){e.setState({isAdd:!1}),e.props.syncTree.setNodeDisable("tree1",!1);var t=e.props.getUrlParam("systemcode"),a=void 0;if("sys"===t)a=e.props.syncTree.getSelectNode("tree1");else{var l=e.props.syncTree.getSelectNode("tree1");a=null==l?e.props.syncTree.getSyncTreeValue("tree1",t):l}var o={systemcode:t=a.values.systypecode},n=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfo.do",data:o,success:function(e){var t=e.success,a=e.data;if(t&&"success"==a.result){var l=a.value.billtypeManage;n.props.table.setAllTableData("billtypeManage",l)}},error:function(e){(0,d.toast)({content:e.message,color:"danger"})}})},this.onRowClick=function(t,a,l,o){var n=l.pk_billtypeid.value,r=e;(0,d.ajax)({url:"/nccloud/riart/billtype/billtypeInfoSubTable.do",type:"post",data:n,success:function(e){e.success;var t=e.data,a=t.billtypeSubTable.billtypeSubTable,l=t.downstreamBill.downstreamBill,o=t.relatedApp.relatedApp;a?r.props.editTable.setTableData("billtypeSubTable",a):r.props.editTable.setTableData("billtypeSubTable",{rows:[]}),l?r.props.editTable.setTableData("downstreamBill",l):r.props.editTable.setTableData("downstreamBill",{rows:[]}),o?r.props.editTable.setTableData("relatedApp",o):r.props.editTable.setTableData("relatedApp",{rows:[]})}}),e.setState({isAdd:!1})},this.onRowDoubleClick=function(e,t,a,l){a.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:e.pk_billtypeid.value,pk_billtypecode:e.pk_billtypecode.value,systemcode:e.systemcode.value,status:"browse",pagecode:"13050201001"})},this.getBtn=function(){var t=e;(0,d.ajax)({url:"/nccloud/platform/appregister/queryallbtns.do",data:{appcode:"13050201",pagecode:"13050201001"},success:function(e){t.props.button.setButtons(e.data)}})}},l);b=(0,d.createPage)({initTemplate:c.initTemplate})(b),i.default.render(s.default.createElement(b,null),document.querySelector("#app"))},304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var l=a(305),o=a(312);t.searchBtnClick=l.searchBtnClick,t.pageInfoClick=l.pageInfoClick,t.initTemplate=o.initTemplate,t.afterEvent=l.afterEvent,t.buttonClick=l.buttonClick,t.headerButtonClick=l.headerButtonClick,t.clickSearchBtn=l.clickSearchBtn},305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clickSearchBtn=t.headerButtonClick=t.buttonClick=t.afterEvent=t.pageInfoClick=t.searchBtnClick=void 0;var l=d(a(306)),o=d(a(307)),n=d(a(308)),r=d(a(309)),s=d(a(310)),i=d(a(311));function d(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=l.default,t.pageInfoClick=o.default,t.afterEvent=n.default,t.buttonClick=r.default,t.headerButtonClick=s.default,t.clickSearchBtn=i.default},306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.table.getTablePageInfo("financeListTable").size};var l=a(1);l.base.NCButton,l.base.NCMessage},307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getTablePageInfo("purchaseOrderListTable"),a=e.search.getAllSearchData("purchaseOrderSearchArea");a.page=t.page,a.size=t.size,a.sort={direction:"desc"};t.page,t.size};a(1)},308:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,n){e.editTable.getAllData("relatedAppAdd");if("sence"==a&&3==o){var r=e.editTable.getValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode");e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!1),e.editTable.setValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode",{value:"",display:""}),null!=r.value&&""!=r.value&&(0,l.toast)({content:this.state.json["13050201-000000"],color:"success"})}if("sence"==a&&1==o){var s=e.editTable.getValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode");e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!1),e.editTable.setValByKeyAndRowId("relatedAppAdd",n[0].rowid,"pagecode",{value:"",display:""}),null!=s.value&&""!=s.value&&(0,l.toast)({content:this.state.json["13050201-000000"],color:"success"})}"sence"==a&&4==o&&e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!0);"sence"==a&&1!=o&&3!=o&&4!=o&&e.editTable.setEditableByKey("relatedAppAdd",n[0].rowid,"pagecode",!0);"component"==a&&null!=o&&null!=o.value&&null!=o.value.key&&""==o.value.key&&e.form.setFormItemsValue("headAddForm",{component:{value:"",display:null}});if("billstyle"==a&&null!=o&&null!=o.value&&""!=o.value){var i=parseInt(o.value);i>=100||i<10?((0,l.toast)({content:this.state.json["13050201-000001"],color:"warning"}),e.form.setFormItemsValue("headAddForm",{billstyle:{value:null,display:null}})):e.form.setFormItemsValue("headAddForm",{billstyle:{value:i,display:i}})}return!0};var l=a(1);l.base.NCButton,l.base.NCFromControl},309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){switch(t){case"addapp":if(e.form.setFormItemsValue("headAddForm",{isLightBill:{value:!0}}),!e.form.getFormItemsValue("headAddForm","isLightBill").value){(0,l.toast)({content:this.state.json["13050201-000002"],color:"warning"});break}e.editTable.addRow("relatedAppAdd");break;case"addsub":e.editTable.addRow("billtypeSubTableAdd");break;case"adddown":e.editTable.addRow("downstreamBillAdd");break;case"addSubTableEdit":e.editTable.addRow("billtypeSubTable");break;case"addDownBillEdit":e.editTable.addRow("downstreamBill");break;case"delSubTable":e.editTable.delRow("billtypeSubTableAdd",e.editTable.index)}};var l=a(1)},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"add":e.onChangeShow();break;case"save":e.form.getAllFormValue("head");break;case"edit":e.form.setFormStatus("head","edit"),e.form.setFormStatus("purchaseOrderCardForm2","edit"),e.editTable.edit("purchaseOrderCardTable");break;case"cancel":e.modal.show("modal",{title:this.state.json["13050201-000009"],content:this.state.json["13050201-000010"],beSureBtnClick:function(){e.form.cancel("head"),e.form.cancel("purchaseOrderCardForm2"),e.editTable.cancelEdit("purchaseOrderCardTable")}});break;case"del":e.modal.show("modal",{title:this.state.json["13050201-000013"],content:this.state.json["13050201-000014"],beSureBtnClick:function(){}})}}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.props.search.getAllSearchData("searchArea")};a(1)},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var l,o=a(313),n=(l=o)&&l.__esModule?l:{default:l};t.initTemplate=n.default},313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.MultiInit.getMultiLang({moduleId:"1022-13050201",domainName:"uap",callback:function(t,a,l){a&&e.createUIDom({pagecode:"13050201001",appcode:"13050201"},(function(a){if(a){if(a.template){var l=a.template;l=function(e,t,a){var l={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,l,n){var r;return r=["deleteapp"],e.button.createOprationButton(r,{area:"deleteapp",buttonLimit:3,onButtonClick:function(e,r){return o(a,e,r,t,l,n)}})}};t.relatedAppAdd.items.push(l);var n={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,l,n){var r;return r=["deletesub"],e.button.createOprationButton(r,{area:"deletesub",buttonLimit:3,onButtonClick:function(e,r){return o(a,e,r,t,l,n)}})}};t.billtypeSubTableAdd.items.push(n);var r={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,l,n){var r;return r=["deletedown"],e.button.createOprationButton(r,{area:"deletedown",buttonLimit:3,onButtonClick:function(e,r){return o(a,e,r,t,l,n)}})}};t.downstreamBillAdd.items.push(r);var s={label:a["13050201-000017"],attrcode:"opr",itemtype:"customer",visible:!0,render:function(t,l,n){var r;return r=["modify","delete","info"],e.button.createOprationButton(r,{area:"list",buttonLimit:3,onButtonClick:function(e,r){return o(a,e,r,t,l,n)}})}};return t.billtypeManage.items.push(s),t.billtypeManage.showindex=!0,e.meta.setMeta(t),t}(e,l,t),e.meta.setMeta(l)}if(a.button){var n=a.button;e.button.setButtons(n),e.button.setPopContent("delete",t["13050201-000029"]),e.button.setPopContent("deleteapp",t["13050201-000030"]),e.button.setPopContent("deletesub",t["13050201-000030"]),e.button.setPopContent("deletedown",t["13050201-000030"])}}}))}})};var l=a(1);l.base.NCButton,l.base.NCFromControl,l.base.NCPopconfirm,l.base.NCIcon;function o(e,t,a,o,n,r){switch(a){case"modify":t.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:n.pk_billtypeid.value,pk_billtypecode:n.pk_billtypecode.value,systemcode:n.systemcode.value,status:"edit",pagecode:"13050201001"});break;case"delete":var s=n.pk_billtypeid.value;(0,l.ajax)({url:"/nccloud/riart/billtype/billtypeDelete.do",type:"post",data:s,success:function(a){var o=a.success,n=a.data;o&&"success"===n.result&&(t.table.deleteTableRowsByIndex("billtypeManage",r),t.editTable.setTableData("relatedApp",{rows:[]}),t.editTable.setTableData("billtypeSubTable",{rows:[]}),t.editTable.setTableData("downstreamBill",{rows:[]}),(0,l.toast)({content:e["13050201-000025"],color:"success"})),o&&"danger"===n.result&&t.modal.show("modal",{title:e["13050201-000026"],content:n.exception,beSureBtnClick:function(){}})},error:function(e){alert(e.message)}});break;case"info":t.linkTo("/uap/dc/billtypeManage/card/index.html",{pk_billtypeid:n.pk_billtypeid.value,pk_billtypecode:n.pk_billtypecode.value,systemcode:n.systemcode.value,status:"browse",pagecode:"13050201001"});break;case"deletedown":t.editTable.delRow("downstreamBillAdd",r);break;case"deletesub":t.editTable.delRow("billtypeSubTableAdd",r);break;case"deleteapp":t.editTable.delRow("relatedAppAdd",r)}}},314:function(e,t,a){var l=a(315);"string"==typeof l&&(l=[[e.i,l,""]]);var o={transform:void 0};a(4)(l,o);l.locals&&(e.exports=l.locals)},315:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".hideThisDom {\n  display: none;\n}\n.headerBtn {\n  position: absolute;\n  right: 0;\n  top: -36px;\n  z-index: 5;\n}\n.headerBtn button {\n  margin: 5px;\n}\n.billtype-manager-container .u-tabs-tabpane {\n  position: relative;\n  overflow: visible !important;\n}\n",""])},4:function(e,t,a){var l,o,n={},r=(l=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=l.apply(this,arguments)),o}),s=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),i=null,d=0,c=[],u=a(11);function p(e,t){for(var a=0;a<e.length;a++){var l=e[a],o=n[l.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](l.parts[r]);for(;r<l.parts.length;r++)o.parts.push(v(l.parts[r],t))}else{var s=[];for(r=0;r<l.parts.length;r++)s.push(v(l.parts[r],t));n[l.id]={id:l.id,refs:1,parts:s}}}}function b(e,t){for(var a=[],l={},o=0;o<e.length;o++){var n=e[o],r=t.base?n[0]+t.base:n[0],s={css:n[1],media:n[2],sourceMap:n[3]};l[r]?l[r].parts.push(s):a.push(l[r]={id:r,parts:[s]})}return a}function f(e,t){var a=s(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var l=c[c.length-1];if("top"===e.insertAt)l?l.nextSibling?a.insertBefore(t,l.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function y(e){var t=document.createElement("style");return e.attrs.type="text/css",h(t,e.attrs),f(e,t),t}function h(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function v(e,t){var a,l,o,n;if(t.transform&&e.css){if(!(n=t.transform(e.css)))return function(){};e.css=n}if(t.singleton){var r=d++;a=i||(i=y(t)),l=w.bind(null,a,r,!1),o=w.bind(null,a,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",h(t,e.attrs),f(e,t),t}(t),l=B.bind(null,a,t),o=function(){m(a),a.href&&URL.revokeObjectURL(a.href)}):(a=y(t),l=A.bind(null,a),o=function(){m(a)});return l(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;l(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=b(e,t);return p(a,t),function(e){for(var l=[],o=0;o<a.length;o++){var r=a[o];(s=n[r.id]).refs--,l.push(s)}e&&p(b(e,t),t);for(o=0;o<l.length;o++){var s;if(0===(s=l[o]).refs){for(var i=0;i<s.parts.length;i++)s.parts[i]();delete n[s.id]}}}};var T,g=(T=[],function(e,t){return T[e]=t,T.filter(Boolean).join("\n")});function w(e,t,a,l){var o=a?"":l.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var n=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n)}}function A(e,t){var a=t.css,l=t.media;if(l&&e.setAttribute("media",l),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function B(e,t,a){var l=a.css,o=a.sourceMap,n=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||n)&&(l=u(l)),o&&(l+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([l],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}},477:function(e,t,a){"use strict";var l,o,n,r=a(1),s=a(478),i=(l=s)&&l.__esModule?l:{default:l};o=i.default,n="app",(0,r.RenderRouter)(o,n)},478:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,o=a(1),n=a(303),r=(l=n)&&l.__esModule?l:{default:l};var s=(0,o.asyncComponent)((function(){return Promise.resolve().then(a.t.bind(null,290,7))})),i=[{path:"/",component:r.default,exact:!0},{path:"/list",component:r.default},{path:"/card",component:s}];t.default=i},9:function(e,t){e.exports=a}})}));
//# sourceMappingURL=index.6fa6e7cf.js.map