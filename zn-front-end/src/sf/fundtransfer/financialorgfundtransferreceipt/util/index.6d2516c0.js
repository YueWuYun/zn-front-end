/*! @ncctag {"provider":"test","date":"2020-5-11 22:26:01"} */
!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a(require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["nc-lightapp-front"],a):"object"==typeof exports?exports["sf/fundtransfer/financialorgfundtransferreceipt/util/index"]=a(require("nc-lightapp-front")):e["sf/fundtransfer/financialorgfundtransferreceipt/util/index"]=a(e["nc-lightapp-front"])}(window,(function(e){return function(e){var a={};function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)t.d(r,n,function(a){return e[a]}.bind(null,n));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="../../../../",t(t.s=48)}({0:function(a,t){a.exports=e},1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.go2CardCheck=a.tbbWarnDialog=a.showTBBMsg=a.getTBBMsg=a.saveCommit=a.frozenBtnCtrl=a.showErrBtn=a.createCardWebSocket=a.createListWebSocket=a.setRate2NewRow=a.getCacheRateValue=a.bodyRateEditOnAfterEdit=a.addDefReferFilter=a.elecSignCardPrint=a.elecSignListPrint=a.createSimpleBillData=a.buildLightBodyAfterEditData=a.loadMultiLang=a.getMultiLangRes=a.appendMultiLangRes=a.saveMultiLangRes=a.getPropCache=a.setPropCache=a.showPagination=a.setDefOrg2AdvanceSrchArea=a.setDefOrg2ListSrchArea=a.setDefOrg2Form=a.hasDefaultOrg=a.isLinkScene=void 0;var r=t(0),n=t(5);function o(e){return function(){var a=e.apply(this,arguments);return new Promise((function(e,t){return function r(n,o){try{var i=a[n](o),l=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}var i,l,c=a.isLinkScene=function(e){var a=e.getUrlParam(n.URL_PARAM.SCENE);return!(!!!e.getUrlParam(n.URL_PARAM.TBB_LINK)&&a!=n.SCENE.LINK&&a!=n.SCENE.FIP)},u=a.hasDefaultOrg=function(e){return e&&e.context&&e.context&&e.context.pk_org},d=function(e,a,t){if(!(e&&e.search&&a&&t))return!1;try{var r=e.search.getSearchValByField(a,t);return!(!r||!r.value||!r.value.firstvalue&&!r.value.secondvalue)}catch(e){return!0}},s=(a.setDefOrg2Form=function(e,a,t){if(e&&a&&u(t)){var r=t.context,n=r.pk_org,o=r.org_Name,i=r.pk_org_v,l=r.org_v_Name;e.form.setFormItemsValue(a,{pk_org:{value:n,display:o},pk_org_v:{value:i,display:l}})}},a.setDefOrg2ListSrchArea=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&a&&u(t)&&!c(e)&&!d(e,a,r)){var n=t.context,o=n.pk_org,i=n.org_Name,l={display:i,value:o};e.search.setSearchValByField(a,r,l)}},a.setDefOrg2AdvanceSrchArea=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&a&&u(t)&&t.template&&!c(e)){var n=t.template,o=t.context,i=o.pk_org,l=o.org_Name;n[a].items.map((function(e){e.attrcode==r&&(e.initialvalue={display:l,value:i})}))}},a.showPagination=function(e,a,t){e&&a&&t&&!t.template&&(t.template[a].pagination=!c(e))},function(e){return e+"_extObj"}),f=(a.setPropCache=function(e,a,t,r){if(e&&a&&t){var n=s(a),o=e.ViewModel.getData(n);o||(o={}),o[t]=r,e.ViewModel.setData(n,o)}},a.getPropCache=function(e,a,t){if(!e||!a||!t)return null;var r=s(a),n=e.ViewModel.getData(r);return n&&n.hasOwnProperty(t)?n[t]:null},a.saveMultiLangRes=function(e,a){if(e&&a){e.ViewModel.setData("multiLang",a)}}),v=(a.appendMultiLangRes=function(e,a){if(e&&a){var t=v(e);t?Object.assign(t,a):f(e,a)}},a.getMultiLangRes=function(e){if(e){return e.ViewModel.getData("multiLang")}}),g=a.loadMultiLang=function(e,a){var t=v(e);return t&&t[a]||""},p=function(e,a){var t={},r=e.form.getAllFormValue(a);return r.areacode=a,t[a]=r,t},h=function(e,a){var t={rows:e.cardTable.getChangedRows(a),areaType:"table",areacode:a},r={};return r[a]=t,r},y=function(e,a,t,r,n,o,i,l){var c={head:p(e,t),pageid:a};return l?c.body=h(e,r):c.bodys=h(e,r),{areacode:r,attrcode:n,card:c,changedrows:o,index:i}},b=(a.buildLightBodyAfterEditData=function(e,a,t,r,n,o,i){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];try{if(!(e&&a&&t&&r&&n&&o))throw new Error("参数缺失！");var c=y(e,a,t,r,n,o,i,l),u=c.card,d=u.body,s=u.bodys;if(l&&1==d[r].rows.length||!l&&1==s[r].rows.length)return c;var f=[],v=o[0].rowid;if(!(d=l?d[r]:s[r]))throw new Error("未获取到指定的表体["+r+"]!");var g=d,p=g.rows,h=!0,b=!1,C=void 0;try{for(var _,m=p[Symbol.iterator]();!(h=(_=m.next()).done);h=!0){var D=_.value,k=D.rowid;if(k&&k==v){f.push(D);break}}}catch(e){b=!0,C=e}finally{try{!h&&m.return&&m.return()}finally{if(b)throw C}}if(0==f.length)throw new Error("未找到修改的行!");return d.rows=f,c}catch(e){throw e}},function(e){if(!e||0==e.length)return null;var a=!0,t=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var i=n.value;if(i&&i.values&&0!=Object.keys(i.values).length){var l=i.values,c=Object.keys(l),u=!0,d=!1,s=void 0;try{for(var f,v=c[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value,p=l[g];p&&0!=Object.keys(p).length&&p.value||delete l[g]}}catch(e){d=!0,s=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw s}}}}}catch(e){t=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(t)throw r}}}),C=function(e,a,t,r,n){var o=e.createMasterChildDataSimple(a,t,r),i=o.head,l=o.body;return n&&(b(i[t].rows),b(l[r].rows)),o},_=function(e,a,t,r,n){var o=e.createExtCardDataSimple(a,t,r),i=o.head,l=o.bodys;if(n){b(i[t].rows);var c=!0,u=!1,d=void 0;try{for(var s,f=r[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){var v=s.value;b(l[v].rows)}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}return o},m=a.createSimpleBillData=function(e,a,t,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&a&&t&&r))return null;var o=!!Array.isArray(r)&&r.length>1,i=Array.isArray(r)?r:[r];return o?_(e,a,t,i,n):C(e,a,t,i[0],n)},D=(a.elecSignListPrint=function(e,a){var t=a.url,n=a.offical,o=void 0!==n&&n,i=a.appCode,l=a.nodeKey,c=a.tableCode,u=a.field_id,d=a.field_billno,s=void 0===d?"vbillno":d,f=a.getOrgFunc,v=a.validateFunc;if(!(t&&i&&c&&u&&s))throw new Error("参数缺失！");var p=e.table.getCheckedRows(c);if(null!=p&&0!=p.length){var h=[],y=[],b=!0,C=!1,_=void 0;try{for(var m,D=p[Symbol.iterator]();!(b=(m=D.next()).done);b=!0){var w=m.value,A=w&&w.data&&w.data.values&&w.data.values[u]&&w.data.values[u].value;if(A){var S=w&&w.data&&w.data.values&&w.data.values[s]&&w.data.values[s].value,R=w&&w.data&&w.data.values&&w.data.values.pk_org&&w.data.values.pk_org.value,L=w.index;f&&"function"==typeof f&&(R=f(w));var B=!0;if(v&&"function"==typeof v){var x=v(w);x&&(y.push(P(e,x,S,L)),B=!1)}B&&h.push({id:A,vbillno:S,pk_org:R,index:L})}}}catch(e){C=!0,_=e}finally{try{!b&&D.return&&D.return()}finally{if(C)throw _}}k(e,{url:t,offical:o,appCode:i,nodeKey:l,detail:h,errMessArr:y})}else(0,r.toast)({color:"warning",content:g(e,"3601-000010")})},a.elecSignCardPrint=function(e,a){var t=a.url,r=a.offical,n=void 0!==r&&r,o=a.appCode,i=a.nodeKey,l=a.headCode,c=a.field_id,u=a.field_billno,d=void 0===u?"vbillno":u,s=a.getOrgFunc,f=a.validateFunc;if(!(t&&o&&l&&c&&d))throw new Error("参数缺失！");var v=e.form.getFormItemsValue(l,c).value,g=e.form.getFormItemsValue(l,d).value,p=e.form.getFormItemsValue(l,"pk_org").value;s&&"function"==typeof s&&(p=s());var h=[],y=!0;if(f&&"function"==typeof f){var b=f();b&&(h.push(P(e,b,g,0)),y=!1)}k(e,{url:t,offical:n,appCode:o,nodeKey:i,detail:y?[{id:v,vbillno:g,pk_org:p}]:null,errMessArr:h})},function(e,a){a&&0!=a.length&&(1==a.length?(0,r.toast)({duration:"infinity",color:"danger",content:a[0],hasCloseBtn:!0}):(0,r.toast)({duration:"infinity",color:"danger",TextArr:[g(e,"3601-000000"),g(e,"3601-000001"),g(e,"3601-000021")],groupOperation:!0,groupOperationMsg:a}))}),k=function(e,a){var t=a.url,o=a.offical,i=a.appCode,l=a.nodeKey,c=a.detail,u=a.errMessArr,d=void 0===u?[]:u;if(!(d&&d.length>0)||c&&0!=c.length){var s={offical:o,detail:c};(0,r.ajax)({url:n.COMMON_URL.ELECSIGNPRINTCHECK,data:s,success:function(a){var n=a.data,c=n.passPKs,u=n.passInfos,s=n.unPassInfos;if(d.length>0||s&&s.length>0){var f=!0,v=!1,g=void 0;try{for(var p,h=s[Symbol.iterator]();!(f=(p=h.next()).done);f=!0){var y=p.value,b=y.vbillno,C=y.mess,_=y.index,m=P(e,C,b,_);d.push(m)}}catch(e){v=!0,g=e}finally{try{!f&&h.return&&h.return()}finally{if(v)throw g}}D(e,d)}if(c&&c.length>0&&u&&u.length>0){var k={offical:o,detail:u};(0,r.print)("pdf",t,{nodekey:l,appcode:i,oids:c,userjson:JSON.stringify(k)})}}})}else D(e,d)},P=function(e,a,t,r){return g(e,"3601-000008")+t+g(e,"3601-000009")+a||""},w=(a.addDefReferFilter=function(e,a){var t=a.headCode,r=a.areaCode,n=a.meta,o=a.orgField,i=a.getOrgFunc;if(r&&n&&(t||o||i)){var l=Array.isArray(r)?r:[r],c=!0,u=!1,d=void 0;try{for(var s,f=l[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){n[s.value].items.map((function(a){(a.attrcode.startsWith("vdef")||a.attrcode.startsWith("vuserdef"))&&(a.queryCondition=function(){return{pk_org:i&&"function"==typeof i?i():(e.form.getFormItemsValue(t,o)||{}).value}})}))}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}},a.bodyRateEditOnAfterEdit=function(e){var a=e.props,t=e.bodyCodes,o=e.rateInfo,i=e.datasource,l=e.olcRates,c=e.glcRates,u=e.gllcRates;if(a&&o&&i&&t){!function(e){var a=e.rateInfo,t=e.datasource;if(a&&t){r.cardCache.setDefData(n.cache.rateinfo,t,a);r.cardCache.getDefData(n.cache.rateinfo,t)}}({rateInfo:o,datasource:i}),Array.isArray(t)||(t=[t]);var d=o.olcRateEditable,s=o.glcRateEditable,f=o.gllcRateEditable,v=!0,g=!1,p=void 0;try{for(var h,y=t[Symbol.iterator]();!(v=(h=y.next()).done);v=!0){var b=h.value;l&&(Array.isArray(l)||(l=[l]),a.cardTable.setColEditableByKey(b,l,!d)),c&&(Array.isArray(c)||(c=[c]),a.cardTable.setColEditableByKey(b,c,!s)),u&&(Array.isArray(u)||(u=[u]),a.cardTable.setColEditableByKey(b,u,!f))}}catch(e){g=!0,p=e}finally{try{!v&&y.return&&y.return()}finally{if(g)throw p}}}},a.getCacheRateValue=function(e){var a=e.datasource;if(a){var t=r.cardCache.getDefData(n.cache.rateinfo,a);return t?{olcRate:t.olcRate,glcRate:t.glcRate,gllcRate:t.gllcRate}:null}}),A=(a.setRate2NewRow=function(e){var a=e.olcRates,t=e.glcRates,r=e.gllcRates,n=e.datasource,o=e.row;if(n){var i=w({datasource:n});if(i){var l=i.olcRate,c=i.glcRate,u=i.gllcRate;if(a){Array.isArray(a)||(a=[a]);var d=!0,s=!1,f=void 0;try{for(var v,g=a[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){o[v.value]={value:l}}}catch(e){s=!0,f=e}finally{try{!d&&g.return&&g.return()}finally{if(s)throw f}}}if(t){Array.isArray(t)||(t=[t]);var p=!0,h=!1,y=void 0;try{for(var b,C=t[Symbol.iterator]();!(p=(b=C.next()).done);p=!0){o[b.value]={value:c}}}catch(e){h=!0,y=e}finally{try{!p&&C.return&&C.return()}finally{if(h)throw y}}}if(r){Array.isArray(r)||(r=[r]);var _=!0,m=!1,D=void 0;try{for(var k,P=r[Symbol.iterator]();!(_=(k=P.next()).done);_=!0){o[k.value]={value:u}}}catch(e){m=!0,D=e}finally{try{!_&&P.return&&P.return()}finally{if(m)throw D}}}}}},a.createListWebSocket=function(e,a){var t=a.tableAreaCode,r=a.tablePkName,n=a.billtype,o=a.dataSource,i=a.serverLocation;if(e&&t&&r&&n){var l=e.socket,c={tableAreaCode:t,billpkname:r,billtype:n,dataSource:o};return i&&(c.serverLocation=i),React.createElement("div",null,l.connectMesg(c))}},a.createCardWebSocket=function(e,a){var t=a.headBtnAreaCode,r=a.formAreaCode,n=a.billpkname,o=a.billtype,i=a.dataSource,l=a.serverLocation;if(e&&t&&r&&n&&o){var c=e.socket,u={headBtnAreaCode:t,formAreaCode:r,billtype:o,billpkname:n,dataSource:i};return l&&(u.serverLocation=l),React.createElement("div",null,c.connectMesg(u))}},a.showErrBtn=function(e,a){var t=a.headBtnCode,r=a.headAreaCode,o=a.fieldPK;a.datasource;if(e&&t&&r){var i=e.getUrlParam(n.URL_PARAM.STATE),l="0";try{l=e.form.getFormItemsValue(r,n.sagaField.status).value}catch(e){l="0"}var c="1"===l&&"browse"==i;e.button.toggleErrorStatus(t,{isError:c}),c&&A(e,{headAreaCode:r,fieldPK:o})}},function(e,a){var t=a.headAreaCode,r=a.fieldPK;if(t&&r){var o=e.getUrlParam("status"),i=e.form.getFormItemsValue(t,n.sagaField.gtxid),l=e.form.getFormItemsValue(t,r);"browse"==o&&i&&i.value&&l&&l.value&&e.socket.showToast({gtxid:i.value,billpk:l.value})}}),S=(a.frozenBtnCtrl=function(e,a){var t=a.btnCodes;if(e&&t){var r=Array.isArray(t)?t:[t];if("browse"==e.getUrlParam(n.URL_PARAM.STATE)){var o="1";try{o=e.form.getFormItemsValue(headAreaCode,n.sagaField.frozen).value}catch(e){o="1"}e.button.setButtonDisabled(r,"1"==o)}}},function(e,a){var t=a.pageCode,r=a.headCode,n=a.bodyCodeArr,o=a.saveFunc,i={},l={};if(0==n.length)i={pageid:t,model:{areacode:r,rows:e.form.getAllFormValue(r).rows,areaType:"form"}},l[r]="form";else{i=n.length>1?e.createExtCardData(t,r,n):e.createMasterChildData(t,r,n[0]);var c=!0,u=!1,d=void 0;try{for(var s,f=n[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){l[s.value]="cardTable"}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}}e.validateToSave(i,o,l,"")}),R=(i=o(regeneratorRuntime.mark((function e(a,t){var r,n=t.pageCode,o=t.headCode,i=t.bodyCodeArr,l=t.saveValidate,c=t.processSaveData;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.form.isCheckNow(o)){e.next=2;break}return e.abrupt("return",null);case 2:if(!(i&&i.length>0)||a.cardTable.checkTableRequired()){e.next=4;break}return e.abrupt("return",null);case 4:if(!l||"function"!=typeof l){e.next=7;break}if(l()){e.next=7;break}return e.abrupt("return",null);case 7:if(r=m(a,n,o,i),!c||"function"!=typeof c){e.next=12;break}return e.next=11,c(r);case 11:r=e.sent;case 12:return e.abrupt("return",{data:JSON.stringify(r),pageCode:n});case 13:case"end":return e.stop()}}),e,this)}))),function(e,a){return i.apply(this,arguments)}),L=(a.saveCommit=(l=o(regeneratorRuntime.mark((function e(a,t){var n,o,i=t.pageCode,l=t.headCode,c=t.bodyCode,u=t.url,d=t.assign,s=t.showAssignFunc,f=t.updateViewFunc,v=t.saveValidate,g=t.processSaveData,p=t.extParam;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&l&&u&&s&&f){e.next=2;break}return e.abrupt("return");case 2:return p||(p={}),n=(t=c)?Array.isArray(t)?t:[t]:[],e.next=6,R(a,{pageCode:i,headCode:l,bodyCodeArr:n,saveValidate:v,processSaveData:g});case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return");case 9:d&&(p.content=JSON.stringify(d)),o.extParam=p,S(a,{pageCode:i,headCode:l,bodyCodeArr:n,saveFunc:function(){(0,r.ajax)({url:u,data:o,success:function(e){var a=e.data.workflow;a&&"approveflow"==a||"workflow"==a?s(e):f(e)}})}});case 12:case"end":return e.stop()}var t}),e,this)}))),function(e,a){return l.apply(this,arguments)}),a.getTBBMsg=function(e){var a=e.row,t=e.msgfield;t||(t="ntbinfo");var r=(a&&a.values&&a.values[t]||{}).value;return r&&(a.values[t]={value:null,display:null}),r});a.showTBBMsg=function(e){var a=e.head,t=e.headCode,n=e.msgfield;if(!(a&&t&&a[t]&&a[t].rows&&0!=a[t].rows.length))return!1;var o=!1,i=a[t].rows[0],l=L({row:i,msgfield:n});return l&&((0,r.toast)({color:"warning",content:l}),o=!0),o},a.tbbWarnDialog=function(e,a){var t=a.ntbinfos,n=a.onConfirm;if(t&&0!=t.length){var o=[],i=t.length>1,l=1,c=i?[g(e,"3601-000019")+"["+t.length+"]"+g(e,"3601-000020")]:[],u=!0,d=!1,s=void 0;try{for(var f,v=t[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var p=f.value;if(null!=p){var h=p.pk,y=p.msg,b=p.vbillno;if(h&&b){o.push(h);var C="";i&&(C=l+". "+g(e,"3601-000018")+"["+b+"] "),c.push(React.createElement("li",null,C+y)),l++}}}}catch(e){d=!0,s=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw s}}0!=c.length&&(0,r.promptBox)({color:"warning",title:g(e,"3601-000017"),content:React.createElement("ul",null,c),beSureBtnClick:function(){n(o)}})}},a.go2CardCheck=function(e){var a=e.props,t=e.url,n=e.pk,o=e.ts,i=e.fieldPK,l=e.actionCode,c=e.permissionCode,u=e.checkSaga,d=void 0===u||u,s=e.checkTS,f=void 0===s||s,v=e.go2CardFunc;v&&"function"==typeof v&&(a&&t&&n&&o&&i||v(),(0,r.ajax)({url:t,data:{pk:n,ts:o,actionCode:l,permissionCode:c,fieldPK:i,checkSaga:d,checkTS:f},success:function(e){v()}}))}},12:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.rewriteTransferSrcBids=a.deleteCacheDataForList=a.getNextId=a.getCurrentLastId=a.getDefData=a.setDefData=a.hasListCache=a.addCacheData=a.getCacheDataByPk=a.deleteCacheData=a.updateCacheData=a.changeUrlParam=void 0;var r=t(28);a.changeUrlParam=r.changeUrlParam,a.updateCacheData=r.updateCacheData,a.deleteCacheData=r.deleteCacheData,a.getCacheDataByPk=r.getCacheDataByPk,a.addCacheData=r.addCacheData,a.hasListCache=r.hasListCache,a.setDefData=r.setDefData,a.getDefData=r.getDefData,a.getCurrentLastId=r.getCurrentLastId,a.getNextId=r.getNextId,a.deleteCacheDataForList=r.deleteCacheDataForList,a.rewriteTransferSrcBids=r.rewriteTransferSrcBids},23:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.app_code="36320AADR",a.dataSource="sf.fundtransfer.fundtransferreceipt.dataSource",a.searchKey="searchKey_36320AADR",a.dataSourceLink="sf.fundtransfer.fundtransferreceipt.dataSourceLink",a.pk_fundtransferreceipt="pk_fundtransferreceipt",a.vbillno="vbillno",a.base_url="/nccloud/sf/fundtransferreceipt/",a.islink="islink",a.module_id="3632",a.receiptPk="pk_fundtransferreceipt",a.receiptBillType="36KA",a.printParameter={prinType:"pdf",actionUrl:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptprint.do",billtype:"36KA",funcode:"36320AADR",nodekey:"NCCPRINT"},a.elecsignPrintParameter={actionUrl:"/nccloud/sf/fundtransferreceipt/elecSignPrint.do",printnodekey_offical:"NCCPRINTOFF",printnodekey_inoffical:"NCCPRINTINOFF"},a.list_page_code="36320AADR_L01",a.list_search_code="36320AADR_list_search",a.oid="1001Z61000000001SSMT",a.grid_code="36320AADR_list_table",a.group_needcommit=0,a.group_approving=1,a.group_needSubmit=2,a.group_all=3,a.card_page_id="36320AADR_C01",a.card_from_id="form_fundtransferreceipt_head"},28:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.rewriteTransferSrcBids=a.deleteCacheDataForList=a.getNextId=a.getCurrentLastId=a.getDefData=a.setDefData=a.hasListCache=a.addCacheData=a.getCacheDataByPk=a.deleteCacheData=a.updateCacheData=a.changeUrlParam=void 0;var r=t(0);a.changeUrlParam=function(e,a){e.setUrlParam(a)},a.updateCacheData=function(e,a,t,n,o,i,l){r.cardCache.addCache;var c=r.cardCache.updateCache;r.cardCache.getCacheById,c(a,t,n,o,i)},a.deleteCacheData=function(e,a,t,n){var o=r.cardCache.deleteCacheById;r.cardCache.getNextId,o(a,t,n)},a.getCacheDataByPk=function(e,a,t){return(0,r.cardCache.getCacheById)(t,a)},a.addCacheData=function(e,a,t,n,o,i,l){(0,r.cardCache.addCache)(t,n,o,i,l)},a.hasListCache=function(e,a){return e.table.hasCacheData(a)},a.setDefData=function(e,a,t){(0,r.cardCache.setDefData)(a,e,t)},a.getDefData=function(e,a){return(0,r.cardCache.getDefData)(a,e)},a.getCurrentLastId=function(e){return(0,r.cardCache.getCurrentLastId)(e)},a.getNextId=function(e,a,t){return(0,r.cardCache.getNextId)(a,t)},a.deleteCacheDataForList=function(e,a,t){e.table.deleteCacheId(a,t)},a.rewriteTransferSrcBids=function(e,a,t){if(t){var r=[];t.forEach((function(e){r.push(e.values[a].value)})),e.transferTable.setSavedTransferTableDataPk(r)}}},48:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.elecSignPrint=a.VoucherLinkBill=a.loadSearchCache=a.getCahceValue=a.go2card=void 0;var r,n=t(0),o=t(12),i=t(1),l=t(23),c=t(61),u=(r=c)&&r.__esModule?r:{default:r},d=t(5);a.go2card=function(e,a,t,r){n.cardCache.setDefData(d.cache.iserrtoast,l.dataSource,!0),a||((a={}).status="browse"),a.pagecode=l.card_page_id,e.pushTo("/card",a),r&&"function"==typeof r&&r(e)},a.getCahceValue=function(e,a,t){var r={},o=n.cardCache.getDefData("groupCount",l.dataSource);o&&(r.groupCount=o);var i=n.cardCache.getDefData("activeKey",l.dataSource);i&&(r.activeKey=i,r.defaultSelectGrup=i),Object.keys(r).length>0&&a(r),t&&"function"==typeof t&&t(e)},a.loadSearchCache=function(e){var a=n.cardCache.getDefData("searchData",l.dataSource);a&&e.search.setSearchValue(l.list_search_code,a)},a.VoucherLinkBill=function(e,a,t){var r,i=this;if((r=n.cacheTools.get("checkedData"))&&r.length>0){var c={operatingLogVO:r,pageCode:l.list_page_code};(0,n.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptVoucherLinked.do",data:c,success:function(a){var t=a.success,r=a.data;if(t)if(r){var n=r[l.grid_code].rows;if(1==n.length){var c=n[0];(0,o.setDefData)(l.grid_code,l.dataSourceLink,r[l.grid_code]),e.table.setAllTableData(l.grid_code,r[l.grid_code]),e.pushTo("/card",{status:"browse",id:c.values.pk_fundtransferreceipt&&c.values.pk_fundtransferreceipt.value})}else e.table.setAllTableData(l.grid_code,r[l.grid_code])}else e.table.setAllTableData(l.grid_code,{rows:[]});u.default.call(i,e)}})}},a.elecSignPrint=function(e,a,t){t?(0,i.elecSignCardPrint)(e,{url:l.elecsignPrintParameter.actionUrl,offical:a,appCode:l.app_code,nodeKey:a?l.elecsignPrintParameter.printnodekey_offical:l.elecsignPrintParameter.printnodekey_inoffical,headCode:l.card_from_id,field_id:l.pk_fundtransferreceipt,field_billno:l.vbillno,getOrgFunc:function(){var a=e.form.getFormItemsValue(l.card_from_id,"pk_org_t").value;return a||null}}):(0,i.elecSignListPrint)(e,{url:l.elecsignPrintParameter.actionUrl,offical:a,appCode:l.app_code,nodeKey:a?l.elecsignPrintParameter.printnodekey_offical:l.elecsignPrintParameter.printnodekey_inoffical,tableCode:l.grid_code,field_id:l.pk_fundtransferreceipt,field_billno:l.vbillno,getOrgFunc:function(e){var a=e&&e.data&&e.data.values&&e.data.values.pk_org_t&&e.data.values.pk_org_t.value;return a||null}})}},5:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.URL_PARAM={ID:"id",STATE:"status",SCENE:"scene",TBB_LINK:"pk_ntbparadimvo",LINK_ID:"linkId",PK_SRC:"pk_src"},a.sagaField={frozen:"saga_frozen",gtxid:"saga_gtxid",btxid:"saga_btxid",status:"saga_status"},a.sagaFrozenEnum={frozen:1,unfrozen:0},a.sagaStateEnum={success:0,fail:1},a.SCENE={DEFAULT:"defaultsce",APPROVE:"approvesce",LINK:"linksce",FIP:"fip",OTHER:"othersce"},a.LINKTYPE={NORMAL:"NORMAL",BILL_REVIEW:"BILL_REVIEW"},a.LINK_PARAM={ARAP:{FLAG:"flag",FLAG_VALUE:"ftsLinkArap"}},a.MODULE_INFO={TMPUB:"tmpub",TMPUB_NUM:"3601"},a.COMMON_URL={ELECSIGNPRINTCHECK:"/nccloud/tmpub/pub/elecsignprintcheck.do"},a.cache={rateinfo:"rateinfo",iserrtoast:"iserrtoast"},a.SPLIT_TBBCTRLTYPE="_ctrltype_",a.tbbwarntype={flexibility:"0",inflexibility:"1",warning:"2"}},61:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){e.button.setButtonVisible(["Preview"],!1),e.button.setButtonDisabled(["Refresh","Bookkeeping","UnBookkeeping","File","PayInside","RecInside","Receivables","Payments","Voucher","Plan","Print","Output","ReturnBill","Print","Output","Official","Inofficial"],!0);var a=void 0;e.table&&(a=e.table.getCheckedRows(r.grid_code));if(a&&0!=a.length){if(1==a.length){var t=void 0,n=void 0,o=void 0,i=void 0,l=void 0,c=void 0;a.forEach((function(e){t=e.data.values.istally&&e.data.values.istally.value,n=e.data.values.isvoucher&&e.data.values.isvoucher.value,o=e.data.values.pk_org&&e.data.values.pk_org.value,i=e.data.values.pk_org_p&&e.data.values.pk_org_p.value,l=e.data.values.pk_org_r&&e.data.values.pk_org_r.value,c=e.data.values.busitype&&e.data.values.busitype.value})),e.button.setButtonDisabled(["File","Plan","Refresh","Print","Output","Official","Inofficial"],!1),o==i?(2==c&&e.button.setButtonDisabled(["RecInside"],!1),e.button.setButtonDisabled(["Payments"],!1)):o==l&&(2==c&&e.button.setButtonDisabled(["PayInside"],!1),e.button.setButtonDisabled(["Receivables"],!1)),t?n?e.button.setButtonDisabled(["Voucher"],!1):e.button.setButtonDisabled(["UnBookkeeping"],!1):e.button.setButtonDisabled(["Bookkeeping"],!1)}else if(a.length>1){e.button.setButtonDisabled(["Refresh","Print","Output","Official","Inofficial"],!1);var u=0,d=0,s=void 0;for(s=0;s<a.length;s++)a[s].data.values.istally.value&&!a[s].data.values.isvoucher.value&&u++,a[s].data.values.isvoucher.value&&d++;u>0?u>d&&e.button.setButtonDisabled(["UnBookkeeping"],!1):e.button.setButtonDisabled(["Bookkeeping"],!1)}}else e.button.setButtonDisabled(["Refresh"],!1)};var r=t(23)}})}));
//# sourceMappingURL=index.6d2516c0.js.map