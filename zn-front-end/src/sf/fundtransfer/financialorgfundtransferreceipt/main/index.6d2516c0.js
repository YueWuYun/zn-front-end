/*! @ncctag {"provider":"test","date":"2020-5-11 22:26:01"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom"),require("axios")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom","axios"],t):"object"==typeof exports?exports["sf/fundtransfer/financialorgfundtransferreceipt/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom"),require("axios")):e["sf/fundtransfer/financialorgfundtransferreceipt/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM,e.axios)}(window,(function(e,t,a,r){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=184)}({0:function(t,a){t.exports=e},1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.go2CardCheck=t.tbbWarnDialog=t.showTBBMsg=t.getTBBMsg=t.saveCommit=t.frozenBtnCtrl=t.showErrBtn=t.createCardWebSocket=t.createListWebSocket=t.setRate2NewRow=t.getCacheRateValue=t.bodyRateEditOnAfterEdit=t.addDefReferFilter=t.elecSignCardPrint=t.elecSignListPrint=t.createSimpleBillData=t.buildLightBodyAfterEditData=t.loadMultiLang=t.getMultiLangRes=t.appendMultiLangRes=t.saveMultiLangRes=t.getPropCache=t.setPropCache=t.showPagination=t.setDefOrg2AdvanceSrchArea=t.setDefOrg2ListSrchArea=t.setDefOrg2Form=t.hasDefaultOrg=t.isLinkScene=void 0;var r=a(0),n=a(5);function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function r(n,o){try{var i=t[n](o),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}var i,l,s=t.isLinkScene=function(e){var t=e.getUrlParam(n.URL_PARAM.SCENE);return!(!!!e.getUrlParam(n.URL_PARAM.TBB_LINK)&&t!=n.SCENE.LINK&&t!=n.SCENE.FIP)},c=t.hasDefaultOrg=function(e){return e&&e.context&&e.context&&e.context.pk_org},u=function(e,t,a){if(!(e&&e.search&&t&&a))return!1;try{var r=e.search.getSearchValByField(t,a);return!(!r||!r.value||!r.value.firstvalue&&!r.value.secondvalue)}catch(e){return!0}},d=(t.setDefOrg2Form=function(e,t,a){if(e&&t&&c(a)){var r=a.context,n=r.pk_org,o=r.org_Name,i=r.pk_org_v,l=r.org_v_Name;e.form.setFormItemsValue(t,{pk_org:{value:n,display:o},pk_org_v:{value:i,display:l}})}},t.setDefOrg2ListSrchArea=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&t&&c(a)&&!s(e)&&!u(e,t,r)){var n=a.context,o=n.pk_org,i=n.org_Name,l={display:i,value:o};e.search.setSearchValByField(t,r,l)}},t.setDefOrg2AdvanceSrchArea=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pk_org";if(e&&e.search&&t&&c(a)&&a.template&&!s(e)){var n=a.template,o=a.context,i=o.pk_org,l=o.org_Name;n[t].items.map((function(e){e.attrcode==r&&(e.initialvalue={display:l,value:i})}))}},t.showPagination=function(e,t,a){e&&t&&a&&!a.template&&(a.template[t].pagination=!s(e))},function(e){return e+"_extObj"}),f=(t.setPropCache=function(e,t,a,r){if(e&&t&&a){var n=d(t),o=e.ViewModel.getData(n);o||(o={}),o[a]=r,e.ViewModel.setData(n,o)}},t.getPropCache=function(e,t,a){if(!e||!t||!a)return null;var r=d(t),n=e.ViewModel.getData(r);return n&&n.hasOwnProperty(a)?n[a]:null},t.saveMultiLangRes=function(e,t){if(e&&t){e.ViewModel.setData("multiLang",t)}}),p=(t.appendMultiLangRes=function(e,t){if(e&&t){var a=p(e);a?Object.assign(a,t):f(e,t)}},t.getMultiLangRes=function(e){if(e){return e.ViewModel.getData("multiLang")}}),h=t.loadMultiLang=function(e,t){var a=p(e);return a&&a[t]||""},v=function(e,t){var a={},r=e.form.getAllFormValue(t);return r.areacode=t,a[t]=r,a},g=function(e,t){var a={rows:e.cardTable.getChangedRows(t),areaType:"table",areacode:t},r={};return r[t]=a,r},b=function(e,t,a,r,n,o,i,l){var s={head:v(e,a),pageid:t};return l?s.body=g(e,r):s.bodys=g(e,r),{areacode:r,attrcode:n,card:s,changedrows:o,index:i}},m=(t.buildLightBodyAfterEditData=function(e,t,a,r,n,o,i){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];try{if(!(e&&t&&a&&r&&n&&o))throw new Error("参数缺失！");var s=b(e,t,a,r,n,o,i,l),c=s.card,u=c.body,d=c.bodys;if(l&&1==u[r].rows.length||!l&&1==d[r].rows.length)return s;var f=[],p=o[0].rowid;if(!(u=l?u[r]:d[r]))throw new Error("未获取到指定的表体["+r+"]!");var h=u,v=h.rows,g=!0,m=!1,y=void 0;try{for(var _,k=v[Symbol.iterator]();!(g=(_=k.next()).done);g=!0){var w=_.value,C=w.rowid;if(C&&C==p){f.push(w);break}}}catch(e){m=!0,y=e}finally{try{!g&&k.return&&k.return()}finally{if(m)throw y}}if(0==f.length)throw new Error("未找到修改的行!");return u.rows=f,s}catch(e){throw e}},function(e){if(!e||0==e.length)return null;var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;if(i&&i.values&&0!=Object.keys(i.values).length){var l=i.values,s=Object.keys(l),c=!0,u=!1,d=void 0;try{for(var f,p=s[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value,v=l[h];v&&0!=Object.keys(v).length&&v.value||delete l[h]}}catch(e){u=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw d}}}}}catch(e){a=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw r}}}),y=function(e,t,a,r,n){var o=e.createMasterChildDataSimple(t,a,r),i=o.head,l=o.body;return n&&(m(i[a].rows),m(l[r].rows)),o},_=function(e,t,a,r,n){var o=e.createExtCardDataSimple(t,a,r),i=o.head,l=o.bodys;if(n){m(i[a].rows);var s=!0,c=!1,u=void 0;try{for(var d,f=r[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;m(l[p].rows)}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}return o},k=t.createSimpleBillData=function(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&a&&r))return null;var o=!!Array.isArray(r)&&r.length>1,i=Array.isArray(r)?r:[r];return o?_(e,t,a,i,n):y(e,t,a,i[0],n)},w=(t.elecSignListPrint=function(e,t){var a=t.url,n=t.offical,o=void 0!==n&&n,i=t.appCode,l=t.nodeKey,s=t.tableCode,c=t.field_id,u=t.field_billno,d=void 0===u?"vbillno":u,f=t.getOrgFunc,p=t.validateFunc;if(!(a&&i&&s&&c&&d))throw new Error("参数缺失！");var v=e.table.getCheckedRows(s);if(null!=v&&0!=v.length){var g=[],b=[],m=!0,y=!1,_=void 0;try{for(var k,w=v[Symbol.iterator]();!(m=(k=w.next()).done);m=!0){var A=k.value,I=A&&A.data&&A.data.values&&A.data.values[c]&&A.data.values[c].value;if(I){var S=A&&A.data&&A.data.values&&A.data.values[d]&&A.data.values[d].value,B=A&&A.data&&A.data.values&&A.data.values.pk_org&&A.data.values.pk_org.value,P=A.index;f&&"function"==typeof f&&(B=f(A));var M=!0;if(p&&"function"==typeof p){var O=p(A);O&&(b.push(D(e,O,S,P)),M=!1)}M&&g.push({id:I,vbillno:S,pk_org:B,index:P})}}}catch(e){y=!0,_=e}finally{try{!m&&w.return&&w.return()}finally{if(y)throw _}}C(e,{url:a,offical:o,appCode:i,nodeKey:l,detail:g,errMessArr:b})}else(0,r.toast)({color:"warning",content:h(e,"3601-000010")})},t.elecSignCardPrint=function(e,t){var a=t.url,r=t.offical,n=void 0!==r&&r,o=t.appCode,i=t.nodeKey,l=t.headCode,s=t.field_id,c=t.field_billno,u=void 0===c?"vbillno":c,d=t.getOrgFunc,f=t.validateFunc;if(!(a&&o&&l&&s&&u))throw new Error("参数缺失！");var p=e.form.getFormItemsValue(l,s).value,h=e.form.getFormItemsValue(l,u).value,v=e.form.getFormItemsValue(l,"pk_org").value;d&&"function"==typeof d&&(v=d());var g=[],b=!0;if(f&&"function"==typeof f){var m=f();m&&(g.push(D(e,m,h,0)),b=!1)}C(e,{url:a,offical:n,appCode:o,nodeKey:i,detail:b?[{id:p,vbillno:h,pk_org:v}]:null,errMessArr:g})},function(e,t){t&&0!=t.length&&(1==t.length?(0,r.toast)({duration:"infinity",color:"danger",content:t[0],hasCloseBtn:!0}):(0,r.toast)({duration:"infinity",color:"danger",TextArr:[h(e,"3601-000000"),h(e,"3601-000001"),h(e,"3601-000021")],groupOperation:!0,groupOperationMsg:t}))}),C=function(e,t){var a=t.url,o=t.offical,i=t.appCode,l=t.nodeKey,s=t.detail,c=t.errMessArr,u=void 0===c?[]:c;if(!(u&&u.length>0)||s&&0!=s.length){var d={offical:o,detail:s};(0,r.ajax)({url:n.COMMON_URL.ELECSIGNPRINTCHECK,data:d,success:function(t){var n=t.data,s=n.passPKs,c=n.passInfos,d=n.unPassInfos;if(u.length>0||d&&d.length>0){var f=!0,p=!1,h=void 0;try{for(var v,g=d[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value,m=b.vbillno,y=b.mess,_=b.index,k=D(e,y,m,_);u.push(k)}}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}w(e,u)}if(s&&s.length>0&&c&&c.length>0){var C={offical:o,detail:c};(0,r.print)("pdf",a,{nodekey:l,appcode:i,oids:s,userjson:JSON.stringify(C)})}}})}else w(e,u)},D=function(e,t,a,r){return h(e,"3601-000008")+a+h(e,"3601-000009")+t||""},A=(t.addDefReferFilter=function(e,t){var a=t.headCode,r=t.areaCode,n=t.meta,o=t.orgField,i=t.getOrgFunc;if(r&&n&&(a||o||i)){var l=Array.isArray(r)?r:[r],s=!0,c=!1,u=void 0;try{for(var d,f=l[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){n[d.value].items.map((function(t){(t.attrcode.startsWith("vdef")||t.attrcode.startsWith("vuserdef"))&&(t.queryCondition=function(){return{pk_org:i&&"function"==typeof i?i():(e.form.getFormItemsValue(a,o)||{}).value}})}))}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}},t.bodyRateEditOnAfterEdit=function(e){var t=e.props,a=e.bodyCodes,o=e.rateInfo,i=e.datasource,l=e.olcRates,s=e.glcRates,c=e.gllcRates;if(t&&o&&i&&a){!function(e){var t=e.rateInfo,a=e.datasource;if(t&&a){r.cardCache.setDefData(n.cache.rateinfo,a,t);r.cardCache.getDefData(n.cache.rateinfo,a)}}({rateInfo:o,datasource:i}),Array.isArray(a)||(a=[a]);var u=o.olcRateEditable,d=o.glcRateEditable,f=o.gllcRateEditable,p=!0,h=!1,v=void 0;try{for(var g,b=a[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var m=g.value;l&&(Array.isArray(l)||(l=[l]),t.cardTable.setColEditableByKey(m,l,!u)),s&&(Array.isArray(s)||(s=[s]),t.cardTable.setColEditableByKey(m,s,!d)),c&&(Array.isArray(c)||(c=[c]),t.cardTable.setColEditableByKey(m,c,!f))}}catch(e){h=!0,v=e}finally{try{!p&&b.return&&b.return()}finally{if(h)throw v}}}},t.getCacheRateValue=function(e){var t=e.datasource;if(t){var a=r.cardCache.getDefData(n.cache.rateinfo,t);return a?{olcRate:a.olcRate,glcRate:a.glcRate,gllcRate:a.gllcRate}:null}}),I=(t.setRate2NewRow=function(e){var t=e.olcRates,a=e.glcRates,r=e.gllcRates,n=e.datasource,o=e.row;if(n){var i=A({datasource:n});if(i){var l=i.olcRate,s=i.glcRate,c=i.gllcRate;if(t){Array.isArray(t)||(t=[t]);var u=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){o[p.value]={value:l}}}catch(e){d=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw f}}}if(a){Array.isArray(a)||(a=[a]);var v=!0,g=!1,b=void 0;try{for(var m,y=a[Symbol.iterator]();!(v=(m=y.next()).done);v=!0){o[m.value]={value:s}}}catch(e){g=!0,b=e}finally{try{!v&&y.return&&y.return()}finally{if(g)throw b}}}if(r){Array.isArray(r)||(r=[r]);var _=!0,k=!1,w=void 0;try{for(var C,D=r[Symbol.iterator]();!(_=(C=D.next()).done);_=!0){o[C.value]={value:c}}}catch(e){k=!0,w=e}finally{try{!_&&D.return&&D.return()}finally{if(k)throw w}}}}}},t.createListWebSocket=function(e,t){var a=t.tableAreaCode,r=t.tablePkName,n=t.billtype,o=t.dataSource,i=t.serverLocation;if(e&&a&&r&&n){var l=e.socket,s={tableAreaCode:a,billpkname:r,billtype:n,dataSource:o};return i&&(s.serverLocation=i),React.createElement("div",null,l.connectMesg(s))}},t.createCardWebSocket=function(e,t){var a=t.headBtnAreaCode,r=t.formAreaCode,n=t.billpkname,o=t.billtype,i=t.dataSource,l=t.serverLocation;if(e&&a&&r&&n&&o){var s=e.socket,c={headBtnAreaCode:a,formAreaCode:r,billtype:o,billpkname:n,dataSource:i};return l&&(c.serverLocation=l),React.createElement("div",null,s.connectMesg(c))}},t.showErrBtn=function(e,t){var a=t.headBtnCode,r=t.headAreaCode,o=t.fieldPK;t.datasource;if(e&&a&&r){var i=e.getUrlParam(n.URL_PARAM.STATE),l="0";try{l=e.form.getFormItemsValue(r,n.sagaField.status).value}catch(e){l="0"}var s="1"===l&&"browse"==i;e.button.toggleErrorStatus(a,{isError:s}),s&&I(e,{headAreaCode:r,fieldPK:o})}},function(e,t){var a=t.headAreaCode,r=t.fieldPK;if(a&&r){var o=e.getUrlParam("status"),i=e.form.getFormItemsValue(a,n.sagaField.gtxid),l=e.form.getFormItemsValue(a,r);"browse"==o&&i&&i.value&&l&&l.value&&e.socket.showToast({gtxid:i.value,billpk:l.value})}}),S=(t.frozenBtnCtrl=function(e,t){var a=t.btnCodes;if(e&&a){var r=Array.isArray(a)?a:[a];if("browse"==e.getUrlParam(n.URL_PARAM.STATE)){var o="1";try{o=e.form.getFormItemsValue(headAreaCode,n.sagaField.frozen).value}catch(e){o="1"}e.button.setButtonDisabled(r,"1"==o)}}},function(e,t){var a=t.pageCode,r=t.headCode,n=t.bodyCodeArr,o=t.saveFunc,i={},l={};if(0==n.length)i={pageid:a,model:{areacode:r,rows:e.form.getAllFormValue(r).rows,areaType:"form"}},l[r]="form";else{i=n.length>1?e.createExtCardData(a,r,n):e.createMasterChildData(a,r,n[0]);var s=!0,c=!1,u=void 0;try{for(var d,f=n[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){l[d.value]="cardTable"}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}e.validateToSave(i,o,l,"")}),B=(i=o(regeneratorRuntime.mark((function e(t,a){var r,n=a.pageCode,o=a.headCode,i=a.bodyCodeArr,l=a.saveValidate,s=a.processSaveData;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.isCheckNow(o)){e.next=2;break}return e.abrupt("return",null);case 2:if(!(i&&i.length>0)||t.cardTable.checkTableRequired()){e.next=4;break}return e.abrupt("return",null);case 4:if(!l||"function"!=typeof l){e.next=7;break}if(l()){e.next=7;break}return e.abrupt("return",null);case 7:if(r=k(t,n,o,i),!s||"function"!=typeof s){e.next=12;break}return e.next=11,s(r);case 11:r=e.sent;case 12:return e.abrupt("return",{data:JSON.stringify(r),pageCode:n});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)}),P=(t.saveCommit=(l=o(regeneratorRuntime.mark((function e(t,a){var n,o,i=a.pageCode,l=a.headCode,s=a.bodyCode,c=a.url,u=a.assign,d=a.showAssignFunc,f=a.updateViewFunc,p=a.saveValidate,h=a.processSaveData,v=a.extParam;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&l&&c&&d&&f){e.next=2;break}return e.abrupt("return");case 2:return v||(v={}),n=(a=s)?Array.isArray(a)?a:[a]:[],e.next=6,B(t,{pageCode:i,headCode:l,bodyCodeArr:n,saveValidate:p,processSaveData:h});case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return");case 9:u&&(v.content=JSON.stringify(u)),o.extParam=v,S(t,{pageCode:i,headCode:l,bodyCodeArr:n,saveFunc:function(){(0,r.ajax)({url:c,data:o,success:function(e){var t=e.data.workflow;t&&"approveflow"==t||"workflow"==t?d(e):f(e)}})}});case 12:case"end":return e.stop()}var a}),e,this)}))),function(e,t){return l.apply(this,arguments)}),t.getTBBMsg=function(e){var t=e.row,a=e.msgfield;a||(a="ntbinfo");var r=(t&&t.values&&t.values[a]||{}).value;return r&&(t.values[a]={value:null,display:null}),r});t.showTBBMsg=function(e){var t=e.head,a=e.headCode,n=e.msgfield;if(!(t&&a&&t[a]&&t[a].rows&&0!=t[a].rows.length))return!1;var o=!1,i=t[a].rows[0],l=P({row:i,msgfield:n});return l&&((0,r.toast)({color:"warning",content:l}),o=!0),o},t.tbbWarnDialog=function(e,t){var a=t.ntbinfos,n=t.onConfirm;if(a&&0!=a.length){var o=[],i=a.length>1,l=1,s=i?[h(e,"3601-000019")+"["+a.length+"]"+h(e,"3601-000020")]:[],c=!0,u=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(null!=v){var g=v.pk,b=v.msg,m=v.vbillno;if(g&&m){o.push(g);var y="";i&&(y=l+". "+h(e,"3601-000018")+"["+m+"] "),s.push(React.createElement("li",null,y+b)),l++}}}}catch(e){u=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw d}}0!=s.length&&(0,r.promptBox)({color:"warning",title:h(e,"3601-000017"),content:React.createElement("ul",null,s),beSureBtnClick:function(){n(o)}})}},t.go2CardCheck=function(e){var t=e.props,a=e.url,n=e.pk,o=e.ts,i=e.fieldPK,l=e.actionCode,s=e.permissionCode,c=e.checkSaga,u=void 0===c||c,d=e.checkTS,f=void 0===d||d,p=e.go2CardFunc;p&&"function"==typeof p&&(t&&a&&n&&o&&i||p(),(0,r.ajax)({url:a,data:{pk:n,ts:o,actionCode:l,permissionCode:s,fieldPK:i,checkSaga:u,checkTS:f},success:function(e){p()}}))}},113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(2),o=f(n),i=(f(a(4)),a(0)),l=a(88),s=a(17),c=f(a(25)),u=a(1),d=a(23);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}i.base.NCFormControl,i.base.NCAnchor,i.base.NCScrollLink,i.base.NCScrollElement;var h=i.base.NCAffix,v=(i.base.NCBackBtn,i.base.NCDiv),g=i.high.NCUploader,b=i.high.PrintOutput,m=i.high.Inspection,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentDidMount=function(){if("browse"===a.props.getUrlParam("status")){var e={pks:[a.props.getUrlParam("id")],pageid:"36320AADR_C01"};(0,i.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptquerycard.do",data:e,success:function(e){if(e.data){if(e.data.head.form_fundtransferreceipt_head.rows[0].values.saga_status){var t=e.data.head.form_fundtransferreceipt_head.rows[0].values.saga_status;a.props.button.toggleErrorStatus("card_head",{isError:"1"===t.value})}a.props.form.setAllFormValue(p({},a.formId,e.data.head[a.formId])),a.setState({billno:e.data.head[a.formId].rows[0].values.vbillno.value}),a.backvbillno=e.data.head[a.formId].rows[0].values.vbillno.value}else a.props.form.setAllFormValue(p({},a.formId,{rows:[]}));a.toggleShow()}})}},a.refresh=function(e){var t=a.props.getUrlParam("status");a.props.getUrlParam("id");if("edit"===t||"browse"===t){var r={pks:[a.props.getUrlParam("id")],pageid:d.card_page_id};(0,i.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptquerycard.do",data:r,success:function(t){t.data?t.data.head&&(a.props.form.setAllFormValue(p({},a.formId,t.data.head[a.formId])),a.backvbillno=t.data.head[a.formId].rows[0].values.vbillno.value,e&&(0,i.toast)({color:"success",content:(0,u.loadMultiLang)(a.props,"36320AADR-000049")})):a.props.form.setAllFormValue(p({},a.formId,{rows:[]})),a.toggleShow()}})}},a.toggleShow=function(){l.buttonVisible.call(a,a.props),a.props.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:!0,showBillCode:!0,billCode:a.state.billno})},a.getButtonNames=function(e){return"cancelBtn"===e||"savesubmitBtn"===e||"saveBtn"===e||"cardCopyBtn"===e||"cardAddBtn"===e||"cardSubmitBtn"===e||"cardUnsubmitBtn"===e||"cardEditBtn"===e||"cardDeleteBtn"===e||"cardSettleBtn"===e||"cardUnsettleBtn"===e?"main-button":"secondary - button"},a.getTableHead=function(e){var t=a.props.button.createButton;return o.default.createElement("div",{className:"head"},o.default.createElement("div",{className:"search"}),o.default.createElement("div",{className:"icons"},a.props.cardTable.createBrowseIcons(a.tableId,{iconArr:["close","open","max"],maxDestAreaId:"finance-reva-revecontract-card"}),e.map((function(e){if("add"==e.btncode)return t(e.btncode,{name:e.btnname,onButtonClick:l.buttonClick.bind(a),buttonColor:a.getButtonNames(e.btncode)})}))))},a.onHideUploader=function(){a.setState({showUploader:!1})},a.link2ListPage=function(){a.props.pushTo("/list",{})},a.formId="form_fundtransferreceipt_head",a.searchId="36320AADR_list_search",a.moduleId="2052",a.tableId="36320AADR_list_table",a.pageId="36320AADR_C01",a.backvbillno="",a.state={billId:"",billno:"",showUploader:!1,target:null,showplan:!1,sourceDataplan:null,outputData:"",accModalShow:!1,currentpk:"",showOriginal:!1,showOriginalData:[],showNtbDetail:!1,ntbdata:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"cancel",value:function(){this.setState({show:!1})}},{key:"affirm",value:function(e){this.setState({show:!1})}},{key:"componentWillMount",value:function(){var e=this;(0,i.getMultiLang)({moduleId:[d.module_id,d.app_code],domainName:"sf",callback:function(t){(0,u.saveMultiLangRes)(e.props,t),l.initTemplate.call(e,e.props)}})}},{key:"beforeUpload",value:function(e,t,a,r){var n="image/jpeg"===a.type;n||alert(this.state.json["36320AADR-000018"]);var o=a.size/1024/1024<2;return o||alert(this.state.json["36320AADR-000019"]),n&&o}},{key:"render",value:function(){var e=this,t=this.props,a=t.cardTable,r=t.form,n=t.button,i=t.modal,f=t.cardPagination,p=this.props.button.getButtons(),y=(this.props.MutiInit.getIntl(this.moduleId),r.createForm),_=f.createCardPagination,k=a.createCardTable,w=(n.createButton,n.createErrorFlag),C=(i.createModal,this.state),D=C.showUploader,A=(C.target,C.billno),I=C.billId,S=this.state,B=S.accModalShow,P=S.currentpk,M=S.showNtbDetail,O=S.ntbdata,R=this.props.BillHeadInfo.createBillHeadInfo;return o.default.createElement("div",{className:"nc-bill-card"},(0,u.createCardWebSocket)(this.props,{headBtnAreaCode:"card_head",formAreaCode:d.card_from_id,billpkname:d.receiptPk,billtype:d.receiptBillType,dataSource:d.dataSource}),o.default.createElement(h,null,o.default.createElement(v,{areaCode:v.config.HEADER,className:"nc-bill-header-area"},o.default.createElement("div",{className:"header-title-search-area"},R({title:(0,u.loadMultiLang)(this.props,"36320AADR-000021"),billCode:this.state.billno,backBtnClick:function(){e.link2ListPage()}})),o.default.createElement("div",{className:"header-button-area"},w({headBtnAreaCode:"card_head"}),this.props.button.createButtonApp({area:"card_head",buttonLimit:20,onButtonClick:l.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")})),o.default.createElement("div",{className:"header-cardPagination-area",style:{float:"right"}},_({handlePageInfoChange:l.pageInfoClick.bind(this),dataSource:d.dataSource})))),o.default.createElement("div",{className:"nc-bill-form-area"},y(this.formId,{onAfterEvent:l.afterEvent.bind(this)})),o.default.createElement("div",{className:"nc-bill-table-area"},this.getTableHead(p),k(this.tableId,{tableHead:this.getTableHead.bind(this,p),modelSave:this.saveBill,onAfterEvent:l.afterEvent.bind(this),showCheck:!0,showIndex:!0})),o.default.createElement("div",{className:"nc-faith-demo-div2"},D&&o.default.createElement(g,{billId:I,billNo:A,onHide:this.onHideUploader})),o.default.createElement("div",null,B&&o.default.createElement(s.InnerAccoutDialog,{id:"dialog",showModal:B,accpk:P,closeModal:function(){e.setState({accModalShow:!1,currentpk:""})}})),o.default.createElement("div",null,o.default.createElement(c.default,{showmodal:this.state.showOriginal,showOriginalData:this.state.showOriginalData,onSureClick:function(t){e.setState({showOriginal:!1})},onCloseClick:function(){e.setState({showOriginal:!1})}})),o.default.createElement("div",null,o.default.createElement(m,{show:M,sourceData:O,cancel:function(){e.setState({showNtbDetail:!1})},affirm:function(){e.setState({showNtbDetail:!1})}})),o.default.createElement("div",null,o.default.createElement(b,{ref:"printOutput",url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptprint.do",data:this.state.outputData,callback:this.onSubmit})))}}]),t}(n.Component);y=(0,i.createPage)({initTemplate:l.initTemplate,mutiLangCode:"2052"})(y),t.default=y},114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,u=e.form.getFormItemsValue(this.formId,"pk_fundtransferreceipt").value,d=e.form.getFormItemsValue(this.formId,"vbillno").value;new Array;switch(t){case"Print":case"Preview":if(!u)return void(0,r.toast)({color:"warning",content:(0,i.loadMultiLang)(e,"36320AADR-000002")});(0,r.print)(n.printParameter.prinType,n.printParameter.actionUrl,{funcode:n.printParameter.funcode,nodekey:n.printParameter.nodekey,oids:[u]});break;case"Output":if(!u)return void(0,r.toast)({color:"warning",content:(0,i.loadMultiLang)(e,"36320AADR-000002")});(0,r.output)({url:n.printParameter.actionUrl,data:{oids:[u],funcode:n.printParameter.funcode,nodekey:n.printParameter.nodekey,outputType:"output"}});break;case"Official":(0,l.elecSignPrint)(e,!0,!0);break;case"Inofficial":(0,l.elecSignPrint)(e,!1,!0);break;case"PayInside":var f=[],p=void 0,h=void 0;this.props.form.getFormItemsValue(this.formId,"pk_org")&&this.props.form.getFormItemsValue(this.formId,"pk_org").value&&(p=this.props.form.getFormItemsValue(this.formId,"pk_org").value),this.props.form.getFormItemsValue(this.formId,"pk_accid_r")&&this.props.form.getFormItemsValue(this.formId,"pk_accid_r").value&&(h=this.props.form.getFormItemsValue(this.formId,"pk_accid_r").value);var v={pk_org:p,pk_account:h};f.push(v),this.setState({showOriginalData:f,showOriginal:!0});break;case"RecInside":var g=[],b=void 0,m=void 0;this.props.form.getFormItemsValue(this.formId,"pk_org")&&this.props.form.getFormItemsValue(this.formId,"pk_org").value&&(b=this.props.form.getFormItemsValue(this.formId,"pk_org").value),this.props.form.getFormItemsValue(this.formId,"pk_accid_p")&&this.props.form.getFormItemsValue(this.formId,"pk_accid_p").value&&(m=this.props.form.getFormItemsValue(this.formId,"pk_accid_p").value);var y={pk_org:b,pk_account:m};g.push(y),this.setState({showOriginalData:g,showOriginal:!0});break;case"Payments":var _=[],k=void 0,w=void 0;this.props.form.getFormItemsValue(this.formId,"pk_org")&&this.props.form.getFormItemsValue(this.formId,"pk_org").value&&(k=this.props.form.getFormItemsValue(this.formId,"pk_org").value),this.props.form.getFormItemsValue(this.formId,"pk_bankacc_p")&&this.props.form.getFormItemsValue(this.formId,"pk_bankacc_p").value&&(w=this.props.form.getFormItemsValue(this.formId,"pk_bankacc_p").value);var C={pk_org:k,pk_account:w};_.push(C),this.setState({showOriginalData:_,showOriginal:!0});break;case"Receivables":var D=[],A=void 0,I=void 0;this.props.form.getFormItemsValue(this.formId,"pk_org")&&this.props.form.getFormItemsValue(this.formId,"pk_org").value&&(A=this.props.form.getFormItemsValue(this.formId,"pk_org").value),this.props.form.getFormItemsValue(this.formId,"pk_bankacc_r")&&this.props.form.getFormItemsValue(this.formId,"pk_bankacc_r").value&&(I=this.props.form.getFormItemsValue(this.formId,"pk_bankacc_r").value);var S={pk_org:A,pk_account:I};D.push(S),this.setState({showOriginalData:D,showOriginal:!0});break;case"Plan":var B={pk:u,pageid:n.card_page_id};(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptplan.do",data:B,success:function(e){if(e.success){if(e.data&&e.data.hint)return void(0,r.toast)({color:"warning",content:e.data.hint});a.setState({showNtbDetail:!0,ntbdata:e.data})}}});break;case"Voucher":var P=this.props.form.getFormItemsValue(n.card_from_id,"pk_group").value,M=this.props.form.getFormItemsValue(n.card_from_id,"pk_org").value,O=this.props.form.getFormItemsValue(n.card_from_id,"vbillno").value,R=this.props.form.getFormItemsValue(n.card_from_id,"pk_billtype").value;(0,o.linkVoucherApp)(this.props,u,P,M,R,O);break;case"Bookkeeping":(0,s.cardOperator)(e,n.card_page_id,n.card_from_id,[],"pk_fundtransferreceipt",n.base_url+"fundtransferreceipttally.do",(0,i.loadMultiLang)(e,"36320AADR-000004"),n.dataSource,c.bind(this),!0,{btncode:"Bookkeeping",pagecode:n.card_page_id});break;case"UnBookkeeping":(0,s.cardOperator)(e,n.card_page_id,n.card_from_id,[],"pk_fundtransferreceipt",n.base_url+"fundtransferreceiptUntally.do",(0,i.loadMultiLang)(e,"36320AADR-000005"),n.dataSource,c.bind(this),!0,{btncode:"Bookkeeping",pagecode:n.card_page_id});break;case"Certification":(0,s.cardOperator)(e,n.card_page_id,n.card_from_id,[],"pk_fundtransferreceipt",n.base_url+"fundtransferreceiptvoucher.do",(0,i.loadMultiLang)(e,"36320AADR-000006"),n.dataSource,c.bind(this),!0,{btncode:"Bookkeeping",pagecode:n.card_page_id});break;case"UnCertification":(0,s.cardOperator)(e,n.card_page_id,n.card_from_id,[],"pk_fundtransferreceipt",n.base_url+"fundtransferreceiptunvoucher.do",(0,i.loadMultiLang)(e,"36320AADR-000005"),n.dataSource,c.bind(this),!0,{btncode:"Bookkeeping",pagecode:n.card_page_id});break;case"File":this.setState({billId:u,billno:d,showUploader:!this.state.showUploader,target:null});break;case"Refresh":this.refresh(!0)}};var r=a(0),n=a(23),o=a(13),i=a(1),l=a(48),s=a(3),c=(r.base.NCMessage,function(e){this.refresh(!1)})},115:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:c},(function(a){if(a){if(a.template){var r=a.template;!function(e,t){var a=e.getUrlParam("status");t.form_fundtransferreceipt_head.status=a}(e,r),e.meta.setMeta(r)}if(a.button){var n=a.button;e.button.setButtons(n),i.buttonVisible.call(t,e),(0,l.getDefData)(s.dataSource,s.islink)&&e.button.setButtonVisible(["Bookkeeping","UnBookkeeping","Certification","UnCertification","Refresh"],!1)}}}))};var r,n=a(0),o=a(89),i=((r=o)&&r.__esModule,a(88)),l=a(12),s=a(23);n.base.NCPopconfirm,n.base.NCMessage;var c="36320AADR_C01"},116:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,n,o){};a(0)},117:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,o="form_fundtransferreceipt_head",i=[];if(t){i.push(t);var l={pks:i,pageid:"36320AADR_C01"};(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptquerycard.do",data:l,success:function(r){r.data?(a.props.form.setAllFormValue(n({},o,r.data.head[o])),e.setUrlParam(t),a.setState({billno:r.data.head[o].rows[0].values.vbillno.value})):a.props.form.setAllFormValue(n({},o,{rows:[]})),a.toggleShow()}})}};var r=a(0);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},118:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideAllBtn=void 0,t.default=function(e){e.button.setButtonVisible(["Bookkeeping","UnBookkeeping","Certification","UnCertification","Payments","RecInside","Receivables","PayInside","Voucher","Preview"],!1);var t=!0===e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.istally.value,a=!0===e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.isvoucher.value,i=e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.pk_org.value,l=e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.pk_org_p.value,s=e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.pk_org_r.value,c=e.form.getAllFormValue("form_fundtransferreceipt_head").rows[0].values.busitype.value;i==l?(2==c&&e.button.setButtonVisible(["RecInside"],!0),e.button.setButtonVisible(["Payments"],!0)):i==s&&(2==c&&e.button.setButtonVisible(["PayInside"],!0),e.button.setButtonVisible(["Receivables"],!0));(0,n.getDefData)(r.dataSource,r.islink)||(t?a?(e.button.setButtonVisible(["UnCertification"],!0),e.button.setButtonVisible(["Voucher"],!0)):e.button.setButtonVisible(["Certification","UnBookkeeping"],!0):e.button.setButtonVisible(["Bookkeeping"],!0));(0,o.showErrBtn)(e,{headBtnCode:"card_head",headAreaCode:r.card_from_id,fieldPK:r.receiptPk,datasource:r.dataSource})};var r=a(23),n=a(12),o=a(1);a(5);t.hideAllBtn=function(e){var t=e.button;t.setButtonVisible;(0,t.setButtonDisabled)(["Bookkeeping","UnBookkeeping","Certification","UnCertification"],!0)}},119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(2),l=g(i),s=(g(a(4)),a(0)),c=a(71),u=a(17),d=g(a(25)),f=a(48),p=a(23),h=a(12),v=a(1);function g(e){return e&&e.__esModule?e:{default:e}}s.base.NCTabsControl;var b=s.high.NCUploader,m=s.high.PrintOutput,y=s.high.Inspection,_=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.call(a),a.moduleId="3632",a.searchId="36320AADR_list_search",a.tableId="36320AADR_list_table",a.state={billId:"",billno:"",showUploader:!1,target:null,showplan:!1,sourceDataplan:null,outputData:"",accModalShow:!1,currentpk:"",showOriginal:!1,showOriginalData:[],curr_pk_org:null,showNtbDetail:!1,ntbdata:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"cancel",value:function(){this.setState({show:!1})}},{key:"affirm",value:function(e){this.setState({show:!1})}},{key:"componentWillMount",value:function(){var e=this;(0,s.getMultiLang)({moduleId:[p.module_id,p.app_code],domainName:"sf",callback:function(t){(0,v.saveMultiLangRes)(e.props,t),c.initTemplate.call(e,e.props)}})}},{key:"componentDidMount",value:function(){var e=this.props.getUrlParam("scene"),t=this.props.getUrlParam("linkquerytype");"fip"==e?((0,h.setDefData)(p.dataSource,p.islink,!0),(0,f.VoucherLinkBill)(this.props,p.list_page_code,p.grid_code)):t?((0,h.setDefData)(p.dataSource,p.islink,!0),this.ReturnLinkBill(t)):this.props.getUrlParam("pk_ntbparadimvo")?((0,h.setDefData)(p.dataSource,p.islink,!0),this.getNtbLinkBillData()):(0,f.getCahceValue)(this.props,this.updateState.bind(this)),this.restoreData()}},{key:"getState",value:function(e){return this.state[e]}},{key:"updateState",value:function(e){e&&0!=Object.keys(e).length&&this.setState(e)}},{key:"beforeUpload",value:function(e,t,a,r){var n="image/jpeg"===a.type;n||alert(this.state.json["36320AADR-000018"]);var o=a.size/1024/1024<2;return o||alert(this.state.json["36320AADR-000019"]),n&&o}},{key:"render",value:function(){var e=this,t=this.props,a=t.table,r=t.button,n=t.search,o=(this.props.button.getButtons(),this.props.MutiInit.getIntl(this.moduleId),a.createSimpleTable),i=n.NCCreateSearch,f=(r.createButton,r.getButtons,this.state),g=f.showUploader,_=f.target,k=f.billno,w=f.billId,C=this.state,D=C.accModalShow,A=C.currentpk,I=C.showNtbDetail,S=C.ntbdata,B=(0,h.getDefData)(p.dataSource,p.islink);return l.default.createElement("div",{className:"nc-bill-list"},(0,v.createListWebSocket)(this.props,{tableAreaCode:p.grid_code,tablePkName:p.receiptPk,billtype:p.receiptBillType,dataSource:p.dataSource}),l.default.createElement("div",{className:"nc-bill-header-area"},l.default.createElement("div",{className:"header-title-search-area"},(0,s.createPageIcon)(),l.default.createElement("h2",{className:"title-search-detail"},(0,v.loadMultiLang)(this.props,"36320AADR-000021"))),l.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:"list_head",buttonLimit:7,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")}))),!B&&l.default.createElement("div",{className:"nc-bill-search-area"},i(this.searchId,{clickSearchBtn:c.searchBtnClick.bind(this),defaultConditionsNum:2})),l.default.createElement("div",{className:"nc-bill-table-area"},o(this.tableId,{handlePageInfoChange:c.pageInfoClick,tableModelConfirm:c.tableModelConfirm,showCheck:!0,showIndex:!0,pkname:p.pk_fundtransferreceipt,dataSource:p.dataSource,onSelected:c.setButtonUsability.bind(this,this.props),onSelectedAll:c.setButtonUsability.bind(this,this.props),onRowDoubleClick:this.onRowDoubleClick.bind(this),componentInitFinished:c.setButtonUsability.bind(this,this.props)})),l.default.createElement("div",{className:"nc-faith-demo-div2"},g&&l.default.createElement(b,{billId:w,target:_,placement:"bottom",billNo:k,onHide:this.onHideUploader})),l.default.createElement("div",null,l.default.createElement(y,{show:I,sourceData:S,cancel:function(){e.setState({showNtbDetail:!1})},affirm:function(){e.setState({showNtbDetail:!1})}})),l.default.createElement("div",null,l.default.createElement(m,{ref:"printOutput",url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptprint.do",data:this.state.outputData,callback:this.onSubmit})),l.default.createElement("div",null,D&&l.default.createElement(u.InnerAccoutDialog,{id:"dialog",showModal:D,accpk:A,closeModal:function(){e.setState({accModalShow:!1,currentpk:""})}})),l.default.createElement("div",null,l.default.createElement(d.default,{showmodal:this.state.showOriginal,showOriginalData:this.state.showOriginalData,onSureClick:function(t){e.setState({showOriginal:!1})},onCloseClick:function(){e.setState({showOriginal:!1})}})))}}]),t}(i.Component),n=function(){var e=this;this.ReturnLinkBill=function(t){var a=e.props.getUrlParam("srcbillid"),r={pageInfo:e.props.table.getTablePageInfo(e.tableId),linkquerytype:t,pks:[a]};(0,s.ajax)({url:"/nccloud/sf/fundtransferreceiptCenter/linkedquery.do",data:r,success:function(t){var a=t.success,r=t.data;if(a){if(r){var n=r[e.tableId].rows;if(1==n.length){var o=n[0];(0,h.setDefData)(p.grid_code,p.dataSourceLink,r[p.grid_code]),e.props.table.setAllTableData(e.tableId,r[e.tableId]),e.props.pushTo("/card",{status:"browse",scence:"linksce",id:o.values.pk_fundtransferreceipt.value})}else e.props.table.setAllTableData(e.tableId,r[e.tableId])}}else e.props.table.setAllTableData(e.tableId,{rows:[]})}})},this.getNtbLinkBillData=function(){var t=e.props.table.getTablePageInfo(p.grid_code);(0,s.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptntblinkbill.do",data:{pk:e.props.getUrlParam("pk_ntbparadimvo"),pageCode:e.pageId,pageInfo:t},success:function(t){var a=t.success,r=t.data;if(a)if(r.grid){e.props.table.setAllTableData(p.grid_code,r.grid[p.grid_code]);var n=r.grid[p.grid_code].rows;if(1==n.length){(0,h.setDefData)(p.grid_code,p.dataSourceLink,r.grid[p.grid_code]);var o=n[0];e.props.pushTo("/card",{status:"browse",id:o.values.pk_fundtransferreceipt&&o.values.pk_fundtransferreceipt.value})}}else(0,s.toast)({color:"warning",content:(0,v.loadMultiLang)(e.props,"36320AADR-000048")}),e.props.table.setAllTableData(p.grid_code,{rows:[]});else(0,s.toast)({color:"warning",content:(0,v.loadMultiLang)(e.props,"36320AADR-000048")})}})},this.restoreData=function(){var t=(0,h.getDefData)(p.grid_code,p.dataSourceLink);t&&e.props.table.setAllTableData(p.grid_code,t),c.setButtonUsability.call(e,e.props)},this.getButtonNames=function(e){return"printBtn"===e||"addBtn"===e||"copyBtn"===e||"submitBtn"===e?"main-button":"secondary - button"},this.onHideUploader=function(){e.setState({showUploader:!1})},this.onRowDoubleClick=function(e,t,a,r){a.pushTo("/card",{status:"browse",id:e.pk_fundtransferreceipt.value})}},r);_=(0,s.createPage)({mutiLangCode:"3632"})(_),t.default=_},12:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rewriteTransferSrcBids=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var r=a(28);t.changeUrlParam=r.changeUrlParam,t.updateCacheData=r.updateCacheData,t.deleteCacheData=r.deleteCacheData,t.getCacheDataByPk=r.getCacheDataByPk,t.addCacheData=r.addCacheData,t.hasListCache=r.hasListCache,t.setDefData=r.setDefData,t.getDefData=r.getDefData,t.getCurrentLastId=r.getCurrentLastId,t.getNextId=r.getNextId,t.deleteCacheDataForList=r.deleteCacheDataForList,t.rewriteTransferSrcBids=r.rewriteTransferSrcBids},120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;if(t){var l=e.table.getTablePageInfo(this.tableId),s=(e.search.getQueryInfo(o.list_search_code,!1),s);e.meta.getMeta()[this.searchId].oid&&(s=e.meta.getMeta()[this.searchId].oid);var c={querycondition:t,pageInfo:l,pageCode:o.list_page_code,queryAreaCode:this.searchId,oid:s,querytype:"tree"};i(o.searchKey,o.dataSource,c),(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/queryscheme.do",data:c,success:function(e){var t=e.success,i=e.data;t&&(i?((0,r.toast)({color:"success",content:(0,n.loadMultiLang)(a.props,"36320AADR-000050")+i["36320AADR_list_table"].allpks.length+(0,n.loadMultiLang)(a.props,"36320AADR-000051")}),a.props.table.setAllTableData(o.grid_code,i[o.grid_code])):((0,r.toast)({color:"warning",content:(0,n.loadMultiLang)(a.props,"36320AADR-000045")}),a.props.table.setAllTableData(o.grid_code,{rows:[]})))}})}};var r=a(0),n=a(1),o=a(23),i=r.cardCache.setDefData;r.cardCache.getDefData},121:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:v},(function(a){if(a){if(a.template){var r=e.getUrlParam("linkquerytype"),n=e.getUrlParam("scene"),o=e.getUrlParam("pk_ntbparadimvo");(r||"fip"==n||o)&&(0,u.setDefData)(l.dataSource,l.islink,!0);var v=a.template;v=function(e,t,a){t[p].items.find((function(e){return"pk_org_p"==e.attrcode})).isShowUnit=!0,t[p].items.find((function(e){return"pk_org_r"==e.attrcode})).isShowUnit=!0,t[p].items.find((function(e){return"pk_org_t"==e.attrcode})).isShowUnit=!0,t[p].items.map((function(t){t.isShowDisabledData=!0,"pk_org"==t.attrcode&&(t.queryCondition=function(){return{funcode:"36320AADR",TreeRefActionExt:"nccloud.web.tmpub.filter.FinanceOrgPermissionFilter"}}),"pk_bankacc_p"==t.attrcode&&(t.queryCondition=function(){var t=e.search.getSearchValByField("36320AADR_list_search","pk_currtype");t=t?t.value.firstvalue:null;var a=e.search.getSearchValByField("36320AADR_list_search","pk_org_p");return{pk_currtype:t,pk_org:a=a?a.value.firstvalue:null,refnodename:(0,f.loadMultiLang)(e,"36320AADR-000046"),noConditionOrg:"Y",GridRefActionExt:"nccloud.web.sf.allocation.allocateapply.filter.QueryTempCurrtypeFilterBankacc,nccloud.web.sf.allocation.allocateapply.filter.QueryTempPayorgFilterBankacc"}}),"pk_bankacc_r"==t.attrcode&&(t.queryCondition=function(){var t=e.search.getSearchValByField("36320AADR_list_search","pk_currtype");t=t?t.value.firstvalue:null;var a=e.search.getSearchValByField("36320AADR_list_search","pk_org_r");return{pk_currtype:t,pk_org:a=a?a.value.firstvalue:null,refnodename:(0,f.loadMultiLang)(e,"36320AADR-000046"),noConditionOrg:"Y",GridRefActionExt:"nccloud.web.sf.allocation.allocateapply.filter.QueryTempCurrtypeFilterBankacc,nccloud.web.sf.allocation.allocateapply.filter.QueryTempPayorgFilterBankacc"}})})),t[p].items=t[p].items.map((function(e,t){return e.col="3",e})),t[h].pagination=!0,t[h].items=t[h].items.map((function(t,r){return"vbillno"==t.attrcode&&(t.render=function(t,r,n){return React.createElement("a",{style:{cursor:"pointer"},onClick:function(){(0,s.go2card)(e,{pagecode:l.card_page_id,status:"browse",id:r.pk_fundtransferreceipt.value},a.getState.bind(a))}},r&&r.vbillno&&r.vbillno.value)}),t}));e.MutiInit.getIntl("3632");(0,u.getDefData)(l.dataSource,l.islink)||t[h].items.push({attrcode:"opr",label:(0,f.loadMultiLang)(e,"36320AADR-000047"),itemtype:"customer",width:250,fixed:"right",className:"table-opr",visible:!0,render:function(t,r,n){var o=[];return 0==r.istally.value?o=["BookkeepingInner"]:0==r.isvoucher.value?o=["UnBookkeepingInner","Certification"]:1==r.isvoucher.value&&(o=["UnCertification"]),e.button.createErrorButton({record:r,showBack:!1,sucessCallBack:function(){return e.button.createOprationButton(o,{area:"list_inner",buttonLimit:3,onButtonClick:function(e,o){i.default.call(a,e,o,t,r,n)}})}})}});return t}(e,v,t),e.meta.setMeta(v),(0,s.loadSearchCache)(e),(0,u.getDefData)(l.dataSource,l.islink)||((0,d.setDefOrg2AdvanceSrchArea)(e,p,a),(0,d.setDefOrg2ListSrchArea)(e,p,a))}if(a.button){var g=a.button;e.button.setButtons(g),(0,c.setButtonUsability)(e),(0,u.getDefData)(l.dataSource,l.islink)&&e.button.setButtonVisible(["Bookkeeping","UnBookkeeping","Refresh"],!1)}}}))};var r,n=a(0),o=a(90),i=(r=o)&&r.__esModule?r:{default:r},l=a(23),s=a(48),c=a(71),u=a(12),d=a(1),f=a(1);n.base.NCPopconfirm,n.base.NCIcon,n.base.NCTooltip;var p="36320AADR_list_search",h="36320AADR_list_table",v="36320AADR_L01"},122:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(null!=a&&0!=a.length){var o={pks:a,pageid:"36320AADR_list_search"};(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/queryPage.do",data:o,success:function(t){var a=t.success,r=t.data;a&&(r?e.table.setAllTableData(n.grid_code,r[n.grid_code]):e.table.setAllTableData(n.grid_code,{rows:[]}))}})}};var r=a(0),n=(a(1),a(23))},13:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkVoucherApp=t.linkApp=void 0;var r=a(0),n=(a(18),a(5)),o=a(1),i=(t.linkApp=function(e,t,a){(0,r.ajax)({url:"/nccloud/tmpub/pub/qrylinkinfo.do",data:{billTypeOrTransType:t},success:function(t){var r=t.data;if(r){r.url;var o=r.appCode,i=r.linkPageCode;a&&0!=Object.keys(a).length||(a={}),a.scene||(a.scene=n.SCENE.LINK),a.status||(a.status="browse"),a.appcode=o,a.pagecode=i,e.openTo(null,a)}}})},"_LinkVouchar2019");t.linkVoucherApp=function(e,t,a,n,l,s,c){var u={pk_group:a,pk_org:n,relationID:t,pk_billtype:l};c&&c.freedef4&&(u={pk_group:a,pk_org:n,relationID:t,pk_billtype:l,freedef4:c.freedef4}),(0,r.ajax)({url:"/nccloud/tmpub/pub/qrylinkvoucherinfo.do",data:u,success:function(t){var a=t.success,n=t.data;if(a&&n&&n.src&&i==n.src&&n.pklist&&0!=n.pklist.length){var l=n.src,c=n.url,u=n.pklist,d=n.appcode,f=n.pagecode,p=n.srcAppCode,h=n.cachekey;n.des?1==u.length?e.openTo(c,{status:"browse",appcode:d,pagecode:f,id:u[0],n:(0,o.loadMultiLang)(e,"3601-000004"),pagekey:"link",backflag:"noback"}):(r.cacheTools.set(h,u),e.openTo(t.data.url,{status:"browse",appcode:d,pagecode:f,n:(0,o.loadMultiLang)(e,"3601-000004"),scene:d+l})):(r.cacheTools.set(p+l,u),e.openTo(t.data.url,{status:"browse",appcode:d,pagecode:f,scene:p+l}))}else(0,r.toast)({color:"warning",content:(0,o.loadMultiLang)(e,"3601-000002")+s+(0,o.loadMultiLang)(e,"3601-000003")})}})}},14:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,r=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?a+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},17:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerAccoutDialog=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(2),o=s(n),i=(s(a(4)),a(0));a(20);var l=s(a(22));function s(e){return e&&e.__esModule?e:{default:e}}var c=i.base.NCModal,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.tableCode="inneraccbalance",a.init(e),a.state={json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){this.init(e),this.queryAccBalance(this.props.accpk)}},{key:"componentWillMount",value:function(){var e=this;(0,i.getMultiLang)({moduleId:"3601Inner",domainName:"tmpub",callback:function(t,a,r){a&&e.setState({json:t},(function(){e.initTemplate()}))}})}},{key:"render",value:function(){var e=this.props.table.createSimpleTable;return o.default.createElement(c,{fieldid:"inneraccbalance",className:"InnerAccoutModal_class",show:this.show,onHide:this.close,style:{width:"700px"}},o.default.createElement(c.Header,{closeButton:!0},o.default.createElement(c.Title,null,this.state.json["3601Inner-000005"])),o.default.createElement(c.Body,{className:"body-resize-icon"},e&&o.default.createElement("div",null,e(this.tableCode,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0}))))}},{key:"componentDidMount",value:function(){this.queryAccBalance()}},{key:"init",value:function(e){this.pk_accid=e.accpk,this.show=e.showModal,this.close=e.closeModal}},{key:"queryAccBalance",value:function(){var e=this;(0,i.ajax)({url:"/nccloud/tmpub/pub/inneraccbalance.do",async:!0,data:{accid:this.pk_accid},success:function(t){var a=t.data,r={areacode:e.tableCode,rows:[{status:0,rowid:null,values:{name:{display:a.accName,value:a.accName,scale:-1},bookbalance:{display:null,value:a.bookBalance,scale:3},realbalance:{display:null,value:a.realBalance,scale:3},realbalancewithoutover:{display:null,value:a.realBalanceNoOverFraft,scale:3}}}]};e.props.table.setAllTableData(e.tableCode,r)},error:function(t){e.props.table.setAllTableData(e.tableCode,{rows:[]})}})}},{key:"initTemplate",value:function(){var e=l.default.call(this);if(e.template){var t=e.template;t=this.modifierMeta.call(this,t),this.props.meta.setMeta(t)}}},{key:"modifierMeta",value:function(e){return e}}]),t}(n.Component);t.InnerAccoutDialog=(0,i.createPage)({})(u)},18:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODULE_H_FTS="FTS",t.MODULE_L_FTS="fts",t.VoucherDataConst={pagecode:"10170410_1017041001",appcode:"10170410",linkIdentification:"36300TP_LinkVouchar"}},184:function(e,t,a){"use strict";var r,n,o,i=a(0),l=a(185),s=(r=l)&&r.__esModule?r:{default:r};n=s.default,o="app",(0,i.RenderRouter)(n,o)},185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=a(0),o=a(119),i=(r=o)&&r.__esModule?r:{default:r};var l=(0,n.asyncComponent)((function(){return Promise.resolve().then(a.t.bind(null,113,7))})),s=[{path:"/",component:i.default,exact:!0},{path:"/list",component:i.default},{path:"/card",component:l}];t.default=s},19:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{restmoney:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"restmoney",tabRelation:["restmoney"]}},restmoney:{clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",code:"restmoney",items:[{itemtype:"input",visible:!0,label:this.state.json["360701OB-000041"],attrcode:"accountcode",maxlength:"20",metapath:"accountcode"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000042"],attrcode:"accountname",maxlength:"20",metapath:"accountname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000058"],attrcode:"currencyname",maxlength:"20",metapath:"currencyname"},{itemtype:"input",visible:!0,label:this.state.json["360701OB-000043"],attrcode:"accounttype",disabled:!0,metapath:"accounttype"},{itemtype:"input",visible:!1,label:this.state.json["360701OB-000057"],code:"capitaltype",attrcode:"capitaltype",disabled:!0,metapath:"capitaltype"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000044"],attrcode:"currentbalance",maxlength:"28",metapath:"currentbalance"},{itemtype:"number",scale:"8",visible:!0,label:this.state.json["360701OB-000045"],attrcode:"surplusbalance",maxlength:"28",metapath:"surplusbalance"}],moduletype:"table",name:this.state.json["360701OB-000046"],pagination:!1,vometa:""},code:"restmoney",moduletype:"table",name:this.state.json["360701OB-000046"]},code:"360701OB_P01",formrelation:null,name:this.state.json["360701OB-000046"],metapath:"cmp_initdate",clazz:"nc.vo.cmp.settlement.LinkAccountBalanceVO",pagetype:"Nochild"}}},2:function(e,a){e.exports=t},20:function(e,t,a){var r=a(21);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(7)(r,n);r.locals&&(e.exports=r.locals)},21:function(e,t,a){(e.exports=a(6)(!1)).push([e.i,".InnerAccoutModal_class .u-modal-content {\n  max-height: 300px !important;\n}\n",""])},22:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:{gridrelation:{inneraccbalance:{destBrowseAreaCode:null,destEditAreaCode:null,srcAreaCode:"inneraccbalance",tabRelation:["inneraccbalance"]}},inneraccbalance:{clazz:null,code:"inneraccbalance",items:[{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000000"],attrcode:"name",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000001"],attrcode:"bookbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000002"],attrcode:"realbalance",maxlength:"20",metapath:null},{itemtype:"input",visible:!0,label:this.state.json["3601Inner-000003"],attrcode:"realbalancewithoutover",maxlength:"20",metapath:null}],moduletype:"table",name:this.state.json["3601Inner-000005"],pagination:!1,vometa:""},code:"inneraccbalancedialog",moduletype:"table",name:this.state.json["3601Inner-000005"]},code:"inneraccbalancedialog",formrelation:null,name:this.state.json["3601Inner-000005"],metapath:null,clazz:null,pagetype:"Nochild"}}},23:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.app_code="36320AADR",t.dataSource="sf.fundtransfer.fundtransferreceipt.dataSource",t.searchKey="searchKey_36320AADR",t.dataSourceLink="sf.fundtransfer.fundtransferreceipt.dataSourceLink",t.pk_fundtransferreceipt="pk_fundtransferreceipt",t.vbillno="vbillno",t.base_url="/nccloud/sf/fundtransferreceipt/",t.islink="islink",t.module_id="3632",t.receiptPk="pk_fundtransferreceipt",t.receiptBillType="36KA",t.printParameter={prinType:"pdf",actionUrl:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptprint.do",billtype:"36KA",funcode:"36320AADR",nodekey:"NCCPRINT"},t.elecsignPrintParameter={actionUrl:"/nccloud/sf/fundtransferreceipt/elecSignPrint.do",printnodekey_offical:"NCCPRINTOFF",printnodekey_inoffical:"NCCPRINTINOFF"},t.list_page_code="36320AADR_L01",t.list_search_code="36320AADR_list_search",t.oid="1001Z61000000001SSMT",t.grid_code="36320AADR_list_table",t.group_needcommit=0,t.group_approving=1,t.group_needSubmit=2,t.group_all=3,t.card_page_id="36320AADR_C01",t.card_from_id="form_fundtransferreceipt_head"},25:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(2),o=s(n),i=(s(a(4)),a(0)),l=(s(a(29)),a(30));function s(e){return e&&e.__esModule?e:{default:e}}var c=i.base.NCModal,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getLangCode=function(e){var t=a.props.MutiInit.getIntl(a.moduleId);return t&&t.get(a.moduleId+"-"+e)},a.initMultiLang=function(){var e=a.moduleId;(0,i.getMultiLang)({moduleId:e,currentLocale:a.state.currentLocale,domainName:"cmp",callback:a.setMultiLang})},a.setMultiLang=function(e){a.setState({json:e},(function(){l.initTemplate.call(a,a.props)}))},a.getData=function(e){var t={pubsearch:e,pagecode:"360701OB_P01",queryAreaCode:"",oid:"",queryType:"simple"};(0,i.ajax)({url:"/nccloud/cmp/bankaccountbook/initrestmoneypub.do",data:t,success:function(e){var t=e.success,r=e.data;if(t&&null!=r&&r){var n={},o=[];if(r.message)return(0,i.toast)({color:"warning",content:r.message}),void a.props.table.setAllTableData(a.tableId,{rows:[]});var l=r.scale;l||(l="3");var s=r.vos,c={},u={},d=s.accountCode,f=s.accountName,p=s.accountType,h=s.capitalType,v=s.currencyName,g=s.currentBalance,b=s.surplusBalance;u.accountcode={value:d,display:d},u.accountname={value:f,display:f},u.accounttype={value:p,display:p},u.capitaltype={value:h,display:h},u.currencyname={value:v,display:v},u.currentbalance={value:g,display:g,scale:l},u.surplusbalance={value:b,display:b,scale:l},c.values=u,c.status="0",c.rowid=null,o.push(c),n.rows=o,n.areacode=a.tableId,a.props.table.setAllTableData(a.tableId,n)}else a.props.table.setAllTableData(a.tableId,{rows:[]})}})},a.close=function(){a.setState({showOriginalData:[]},(function(){a.props.onCloseClick()}))},a.moduleId="360701OB",a.tableId="restmoney",a.state={currentLocale:"zh-CN",showOriginalData:[],json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){this.initMultiLang()}},{key:"componentDidMount",value:function(){var e=this;this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:this.props.showOriginalData},(function(){e.initData()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.showmodal&&e.showmodal!==this.props.showmodal){this.props.table.setAllTableData(this.tableId,{rows:[]}),this.setState({showOriginalData:e.showOriginalData},(function(){t.initData()}))}}},{key:"initData",value:function(){var e=this.state.showOriginalData;if(Array.isArray(e)){if(!e||0==e.length)return;for(var t=0;t<e.length;t++){var a=e[t];a.pk_account||a.pk_cashaccount||e.splice(t,1)}if(0==e.length)return;this.getData(e)}else{var r=[];if(!e.pk_account&&!e.pk_cashaccount)return;r.push(e),this.getData(r)}}},{key:"render",value:function(){var e=this.props,t=e.table,a=e.button,r=(e.search,e.modal,t.createSimpleTable);a.createButton;return o.default.createElement("div",null,o.default.createElement(c,{fieldid:"accbalance",show:this.props.showmodal,style:{width:"1100px"},size:"lg",onHide:this.close},o.default.createElement(c.Header,{closeButton:"true"},o.default.createElement(c.Title,null,this.state.json["360701OB-000056"])),o.default.createElement(c.Body,{size:"sm",className:"body-resize-icon"},o.default.createElement("div",null,r(this.tableId,{height:"158px",showIndex:!0,cancelCustomRightMenu:!0})))))}}]),t}(n.Component);t.default=(0,i.createPage)({})(u)},28:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rewriteTransferSrcBids=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var r=a(0);t.changeUrlParam=function(e,t){e.setUrlParam(t)},t.updateCacheData=function(e,t,a,n,o,i,l){r.cardCache.addCache;var s=r.cardCache.updateCache;r.cardCache.getCacheById,s(t,a,n,o,i)},t.deleteCacheData=function(e,t,a,n){var o=r.cardCache.deleteCacheById;r.cardCache.getNextId,o(t,a,n)},t.getCacheDataByPk=function(e,t,a){return(0,r.cardCache.getCacheById)(a,t)},t.addCacheData=function(e,t,a,n,o,i,l){(0,r.cardCache.addCache)(a,n,o,i,l)},t.hasListCache=function(e,t){return e.table.hasCacheData(t)},t.setDefData=function(e,t,a){(0,r.cardCache.setDefData)(t,e,a)},t.getDefData=function(e,t){return(0,r.cardCache.getDefData)(t,e)},t.getCurrentLastId=function(e){return(0,r.cardCache.getCurrentLastId)(e)},t.getNextId=function(e,t,a){return(0,r.cardCache.getNextId)(t,a)},t.deleteCacheDataForList=function(e,t,a){e.table.deleteCacheId(t,a)},t.rewriteTransferSrcBids=function(e,t,a){if(a){var r=[];a.forEach((function(e){r.push(e.values[t].value)})),e.transferTable.setSavedTransferTableDataPk(r)}}},29:function(e,t){e.exports=r},3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSearchCondition=t.go2Card=t.cardOperator=t.listSingleOperator=t.showTBBMsg=t.listSingleOperatorNoRecord=t.listMultiOperator=t.CopyLine=t.Open=t.DelLine=t.BatchDelLine=t.InsertLine=t.AddLine=void 0,t.BatchCopy=function(e,t,a,o){var i=e.cardTable.getCheckedRows(t);if(null==i||0==i.length)return(0,r.toast)({color:"warning",content:(0,n.loadMultiLang)(e,"3632-000020")}),!1;var l=[],s=JSON.parse(JSON.stringify(i)),c=!0,u=!1,d=void 0;try{for(var f,p=s[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value;h.data.selected=!1,h.data.values[o]&&h.data.values[o].value&&(h.data.values[o].value=null),h.data.values.rowno&&h.data.values.rowno.value&&(h.data.values.rowno.value=null),l.push(h.data)}}catch(e){u=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw d}}null!=a&&null!=a||(a=e.cardTable.getNumberOfRows(t,!1));return e.cardTable.insertRowsAfterIndex(t,l,a),!0};var r=a(0),n=a(1);t.AddLine=function(e,t,a){e.cardTable.addRow(t),null!=a&&a(e,t)},t.InsertLine=function(e,t,a){e.cardTable.addRow(t,a+1)},t.BatchDelLine=function(e,t){var a=e.cardTable.getCheckedRows(t);if(null==a||0==a.length)return(0,r.toast)({color:"warning",content:(0,n.loadMultiLang)(e,"3632-000019")}),!1;var o=[],i=!0,l=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;o.push(d.index)}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}return e.cardTable.delRowsByIndex(t,o),!0},t.DelLine=function(e,t,a){e.cardTable.delRowsByIndex(t,a)},t.Open=function(e,t,a,r,n){e.cardTable.openModel(t,n,r,a)};t.CopyLine=function(e,t,a){e.cardTable.pasteRow(t,a)};var o=function(e,t,a){e.errContent=e.errContent+t,e.failCount=Number(e.failCount)+1,e.errMsgArr.push(a||"")},i=function(e,t,a){var r=t+"."+a;e.succContent=e.succContent+t,e.succCount=Number(e.succCount)+1,r&&e.errMsgArr.push(r)},l=function(e,t){e.succContent=e.succContent+t,e.succCount=Number(e.succCount)+1},s=(t.listMultiOperator=function(e,t,a,s,c,f,p,h,v,g){var b=e.table.getCheckedRows(a);if(null!=b&&0!=b.length){if(1==b.length){var m={};return m[s]=b[0]&&b[0].data&&b[0].data.values&&b[0].data.values[s],m.ts=b[0]&&b[0].data&&b[0].data.values&&b[0].data.values.ts,void d(e,t,a,c,m,s,b[0].index,f,p,h,v,g)}var y={},_={},k={},w=0,C=void 0,D=void 0,A=void 0;v||(v={});for(;w<b.length;)C=b[w]&&b[w].data&&b[w].data.values&&b[w].data.values[s]&&b[w].data.values[s].value,D=b[w]&&b[w].data&&b[w].data.values&&b[w].data.values.ts&&b[w].data.values.ts.value,A=b[w]&&b[w].data&&b[w].data.values&&b[w].data.values.vbillno&&b[w].data.values.vbillno.value,k[C]=b[w].index,C&&D&&(y[C]=D),C&&A&&(_[C]=A),w++;Object.keys(y).length>0&&(0,r.ajax)({url:c,data:{pkMapRowIndex:k,pkMapTs:y,pkMapVbillno:_,pageCode:t,extParam:v},success:function(t){var s=t.data.data,c=[],d=[],p={errMsgArr:[],succContent:"",errContent:"",succCount:0,failCount:0};if(s&&s.length>0){var v=!0,b=!1,m=void 0;try{for(var y,_=s[Symbol.iterator]();!(v=(y=_.next()).done);v=!0){var k=y.value,w=k.state,C=k.msg,D=k.result,A=k.pk,I=(k.vbillno,k.rowIndex),S=Number(I)+1;if(0==w)if(D){if(D&&D.head&&D.head[a]&&D.head[a].rows&&D.head[a].rows.length>0){var B=D.head[a].rows[0];if(h){var P=u(B);P?i(p,S,P):l(p,S)}else l(p,S);var M={index:I,data:{values:B.values}};c.push(M)}}else l(p,S),e.table.deleteCacheId(a,A),d.push(I);else 1==w&&o(p,S,C)}}catch(e){b=!0,m=e}finally{try{!v&&_.return&&_.return()}finally{if(b)throw m}}c.length>0&&e.table.updateDataByIndexs(a,c),d.length>0&&e.table.deleteTableRowsByIndex(a,d)}var O=t.data,R=O.status,L=(O.msg,p.succContent),T=p.errContent,x=p.succCount,E=p.failCount,j=p.errMsgArr,N=(""==(L=x>0?L+(0,n.loadMultiLang)(e,"3632-000022")+f+(0,n.loadMultiLang)(e,"3632-000012"):"")?"":L+"，")+(E>0?T+(0,n.loadMultiLang)(e,"3632-000022")+f+(0,n.loadMultiLang)(e,"3632-000014"):"");0==R&&0==j.length?(0,r.toast)({color:"success",content:f+(0,n.loadMultiLang)(e,"3632-000023")+x+(0,n.loadMultiLang)(e,"3632-000015")}):0==R&&j.length>0?(0,r.toast)({duration:"infinity",color:"warning",content:N,TextArr:[(0,n.loadMultiLang)(e,"3632-000016"),(0,n.loadMultiLang)(e,"3632-000017"),(0,n.loadMultiLang)(e,"3632-000018")],groupOperation:!0,groupOperationMsg:j}):(1==R||2==R||j.length>0)&&(0,r.toast)({duration:"infinity",color:"danger",content:N,TextArr:[(0,n.loadMultiLang)(e,"3632-000016"),(0,n.loadMultiLang)(e,"3632-000017"),(0,n.loadMultiLang)(e,"3632-000018")],groupOperation:!0,groupOperationMsg:j}),g&&"function"==typeof g&&g(e,s)}})}else(0,r.toast)({color:"warning",content:(0,n.loadMultiLang)(e,"3632-000021")})},t.listSingleOperatorNoRecord=function(e,t,a,o,i,l,s,u,d,f,p,h){var v={};v[i]=l,p||(p={}),(0,r.ajax)({url:o,data:{pkMapTs:v,pageCode:t,extParam:p},success:function(t){var o=t.data,l=!1;if(o){if(o&&o.head&&o.head[a]&&o.head[a].rows&&1==o.head[a].rows.length){f&&(l=c(o.head,a));var d=o.head[a].rows[0],p=[{index:s,data:{values:d.values}}];e.table.updateDataByIndexs(a,p),l||(0,r.toast)({color:"success",content:u+(0,n.loadMultiLang)(e,"3632-000012")})}}else e.table.deleteCacheId(a,i),e.table.deleteTableRowsByIndex(a,s),(0,r.toast)({color:"success",content:u+(0,n.loadMultiLang)(e,"3632-000012")});h&&"function"==typeof h&&h(e,o)}})}),c=t.showTBBMsg=function(e,t){if(!(e&&t&&e[t]&&e[t].rows&&0!=e[t].rows.length))return!1;var a=!1,n=e[t].rows[0],o=u(n);return o&&((0,r.toast)({color:"warning",content:o}),a=!0),a},u=function(e){var t=(e&&e.values&&e.values.ntbinfo||{}).value;return t&&(e.values.ntbinfo={value:null,display:null}),t},d=t.listSingleOperator=function(e,t,a,r,n,o,i,l,c,u,d,f){var p=n[o].value,h=n.ts.value;s(e,t,a,r,p,h,i,l,c,u,d,f)},f=(t.cardOperator=function(e,t,a,o,i,l,s,u,d,h,v){var g=!0;s&&(g=-1!=s.indexOf((0,n.loadMultiLang)(e,"3632-000012")));var b="array"==typeof o?o:Object.keys(o),m={},y=e.form.getFormItemsValue(a,i).value,_=e.form.getFormItemsValue(a,"ts").value;m[y]=_;var k=p(e,y,o);v||(v={}),(0,r.ajax)({url:l,data:{pkMapTs:m,pageCode:t,isRet:!0,extParam:v,pkMapbodyPKMaprowID:k},success:function(t){var o,l,p,v=t.data,m=!1;if(v){var _=v.head,k=v.body,w=v.bodys;if(_||k||w){if(h&&(m=c(_,a)),_&&e.form.setAllFormValue((o={},l=a,p=_[a],l in o?Object.defineProperty(o,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[l]=p,o)),k&&b&&b.length>0){var C=!0,D=!1,A=void 0;try{for(var I,S=b[Symbol.iterator]();!(C=(I=S.next()).done);C=!0){var B=I.value,P=k[B];P&&((P=f(e,B,P))&&(v.body[B]=P))}}catch(e){D=!0,A=e}finally{try{!C&&S.return&&S.return()}finally{if(D)throw A}}}if(w&&b&&b.length>0){var M=!0,O=!1,R=void 0;try{for(var L,T=b[Symbol.iterator]();!(M=(L=T.next()).done);M=!0){var x=L.value,E=w[x];E&&((E=f(e,x,E))&&(v.bodys[x]=E))}}catch(e){O=!0,R=e}finally{try{!M&&T.return&&T.return()}finally{if(O)throw R}}}if(_&&_[a]&&_[a].rows&&_[a].rows[0]){var j=_[a].rows[0],N=j&&j.values&&j.values[i]&&j.values[i].value;r.cardCache.updateCache(i,N,v,a,u)}m||(g?(0,r.toast)({color:"success",content:s}):(0,r.toast)({color:"success",content:s+(0,n.loadMultiLang)(e,"3632-000012")}))}}else r.cardCache.deleteCacheById(i,y,u),g?(0,r.toast)({color:"success",content:s}):(0,r.toast)({color:"success",content:s+(0,n.loadMultiLang)(e,"3632-000012")});d&&"function"==typeof d&&d(e,v)}})},function(e,t,a){return a.rows&&a.rows[0]&&a.rows[0].rowid?a=e.cardTable.updateDataByRowId(t,a):e.cardTable.setTableData(t,a),a}),p=function(e,t,a){var r={},n="array"==typeof a?a:Object.keys(a);if(!n||0==n.length)return null;var o={},i=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,f="array"==typeof a?null:a[d];if(f){var p=e.cardTable.getAllRows(d);if(p&&0!=p.length){var h=!0,v=!1,g=void 0;try{for(var b,m=p[Symbol.iterator]();!(h=(b=m.next()).done);h=!0){var y=b.value;if(y&&y.values&&0!=y.values.length){var _=y.rowid;o[y.values[f].value]=_}}}catch(e){v=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(v)throw g}}}}}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}return r[t]=o,r};t.go2Card=function(e,t,a,n,o,i,l){if(n&&n.length>0){var s=!0,c=!1,u=void 0;try{for(var d,f=n[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value,h=e.search.getSearchValByField(a,p);h&&(r.cacheTools.set(t+"_searchcodition_"+p,h),l&&"function"==typeof l&&l())}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}e.linkTo(o,i)},t.loadSearchCondition=function(e,t,a,n){var o={logic:"and",conditions:[]};if(n&&n.length>0){var i=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,f=r.cacheTools.get(t+"_searchcodition_"+d);if(f&&f.value){var p=[];f.value.firstvalue&&p.push(f.value.firstvalue),f.value.secondvalue&&p.push(f.value.secondvalue);var h={value:0==p.length?null:1==p.length?p[0]:p,display:f.display};delete f.display,o.conditions.push(f),e.search.setSearchValByField(a,d,h)}}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}}return o}},30:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restmoney=t.initTemplate=void 0;var r=o(a(31)),n=o(a(19));function o(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=r.default,t.restmoney=n.default},31:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default.call(this);if(t.template){var a=t.template;a=function(e,t){return t.restmoney.items=t.restmoney.items.map((function(e,t){return e.width=150,e})),t.restmoney.showcheck=!0,t.restmoney.pagination=!1,t}(0,a),e.meta.setMeta(a)}};a(0);var r,n=a(19),o=(r=n)&&r.__esModule?r:{default:r}},4:function(e,t){e.exports=a},48:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elecSignPrint=t.VoucherLinkBill=t.loadSearchCache=t.getCahceValue=t.go2card=void 0;var r,n=a(0),o=a(12),i=a(1),l=a(23),s=a(61),c=(r=s)&&r.__esModule?r:{default:r},u=a(5);t.go2card=function(e,t,a,r){n.cardCache.setDefData(u.cache.iserrtoast,l.dataSource,!0),t||((t={}).status="browse"),t.pagecode=l.card_page_id,e.pushTo("/card",t),r&&"function"==typeof r&&r(e)},t.getCahceValue=function(e,t,a){var r={},o=n.cardCache.getDefData("groupCount",l.dataSource);o&&(r.groupCount=o);var i=n.cardCache.getDefData("activeKey",l.dataSource);i&&(r.activeKey=i,r.defaultSelectGrup=i),Object.keys(r).length>0&&t(r),a&&"function"==typeof a&&a(e)},t.loadSearchCache=function(e){var t=n.cardCache.getDefData("searchData",l.dataSource);t&&e.search.setSearchValue(l.list_search_code,t)},t.VoucherLinkBill=function(e,t,a){var r,i=this;if((r=n.cacheTools.get("checkedData"))&&r.length>0){var s={operatingLogVO:r,pageCode:l.list_page_code};(0,n.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptVoucherLinked.do",data:s,success:function(t){var a=t.success,r=t.data;if(a)if(r){var n=r[l.grid_code].rows;if(1==n.length){var s=n[0];(0,o.setDefData)(l.grid_code,l.dataSourceLink,r[l.grid_code]),e.table.setAllTableData(l.grid_code,r[l.grid_code]),e.pushTo("/card",{status:"browse",id:s.values.pk_fundtransferreceipt&&s.values.pk_fundtransferreceipt.value})}else e.table.setAllTableData(l.grid_code,r[l.grid_code])}else e.table.setAllTableData(l.grid_code,{rows:[]});c.default.call(i,e)}})}},t.elecSignPrint=function(e,t,a){a?(0,i.elecSignCardPrint)(e,{url:l.elecsignPrintParameter.actionUrl,offical:t,appCode:l.app_code,nodeKey:t?l.elecsignPrintParameter.printnodekey_offical:l.elecsignPrintParameter.printnodekey_inoffical,headCode:l.card_from_id,field_id:l.pk_fundtransferreceipt,field_billno:l.vbillno,getOrgFunc:function(){var t=e.form.getFormItemsValue(l.card_from_id,"pk_org_t").value;return t||null}}):(0,i.elecSignListPrint)(e,{url:l.elecsignPrintParameter.actionUrl,offical:t,appCode:l.app_code,nodeKey:t?l.elecsignPrintParameter.printnodekey_offical:l.elecsignPrintParameter.printnodekey_inoffical,tableCode:l.grid_code,field_id:l.pk_fundtransferreceipt,field_billno:l.vbillno,getOrgFunc:function(e){var t=e&&e.data&&e.data.values&&e.data.values.pk_org_t&&e.data.values.pk_org_t.value;return t||null}})}},5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.URL_PARAM={ID:"id",STATE:"status",SCENE:"scene",TBB_LINK:"pk_ntbparadimvo",LINK_ID:"linkId",PK_SRC:"pk_src"},t.sagaField={frozen:"saga_frozen",gtxid:"saga_gtxid",btxid:"saga_btxid",status:"saga_status"},t.sagaFrozenEnum={frozen:1,unfrozen:0},t.sagaStateEnum={success:0,fail:1},t.SCENE={DEFAULT:"defaultsce",APPROVE:"approvesce",LINK:"linksce",FIP:"fip",OTHER:"othersce"},t.LINKTYPE={NORMAL:"NORMAL",BILL_REVIEW:"BILL_REVIEW"},t.LINK_PARAM={ARAP:{FLAG:"flag",FLAG_VALUE:"ftsLinkArap"}},t.MODULE_INFO={TMPUB:"tmpub",TMPUB_NUM:"3601"},t.COMMON_URL={ELECSIGNPRINTCHECK:"/nccloud/tmpub/pub/elecsignprintcheck.do"},t.cache={rateinfo:"rateinfo",iserrtoast:"iserrtoast"},t.SPLIT_TBBCTRLTYPE="_ctrltype_",t.tbbwarntype={flexibility:"0",inflexibility:"1",warning:"2"}},6:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var n=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[a].concat(o).concat([n]).join("\n")}var i;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<e.length;n++){var i=e[n];"number"==typeof i[0]&&r[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},61:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.button.setButtonVisible(["Preview"],!1),e.button.setButtonDisabled(["Refresh","Bookkeeping","UnBookkeeping","File","PayInside","RecInside","Receivables","Payments","Voucher","Plan","Print","Output","ReturnBill","Print","Output","Official","Inofficial"],!0);var t=void 0;e.table&&(t=e.table.getCheckedRows(r.grid_code));if(t&&0!=t.length){if(1==t.length){var a=void 0,n=void 0,o=void 0,i=void 0,l=void 0,s=void 0;t.forEach((function(e){a=e.data.values.istally&&e.data.values.istally.value,n=e.data.values.isvoucher&&e.data.values.isvoucher.value,o=e.data.values.pk_org&&e.data.values.pk_org.value,i=e.data.values.pk_org_p&&e.data.values.pk_org_p.value,l=e.data.values.pk_org_r&&e.data.values.pk_org_r.value,s=e.data.values.busitype&&e.data.values.busitype.value})),e.button.setButtonDisabled(["File","Plan","Refresh","Print","Output","Official","Inofficial"],!1),o==i?(2==s&&e.button.setButtonDisabled(["RecInside"],!1),e.button.setButtonDisabled(["Payments"],!1)):o==l&&(2==s&&e.button.setButtonDisabled(["PayInside"],!1),e.button.setButtonDisabled(["Receivables"],!1)),a?n?e.button.setButtonDisabled(["Voucher"],!1):e.button.setButtonDisabled(["UnBookkeeping"],!1):e.button.setButtonDisabled(["Bookkeeping"],!1)}else if(t.length>1){e.button.setButtonDisabled(["Refresh","Print","Output","Official","Inofficial"],!1);var c=0,u=0,d=void 0;for(d=0;d<t.length;d++)t[d].data.values.istally.value&&!t[d].data.values.isvoucher.value&&c++,t[d].data.values.isvoucher.value&&u++;c>0?c>u&&e.button.setButtonDisabled(["UnBookkeeping"],!1):e.button.setButtonDisabled(["Bookkeeping"],!1)}}else e.button.setButtonDisabled(["Refresh"],!1)};var r=a(23)},7:function(e,t,a){var r,n,o={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=r.apply(this,arguments)),n}),l=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),s=null,c=0,u=[],d=a(14);function f(e,t){for(var a=0;a<e.length;a++){var r=e[a],n=o[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(m(r.parts[i],t))}else{var l=[];for(i=0;i<r.parts.length;i++)l.push(m(r.parts[i],t));o[r.id]={id:r.id,refs:1,parts:l}}}}function p(e,t){for(var a=[],r={},n=0;n<e.length;n++){var o=e[n],i=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(l):a.push(r[i]={id:i,parts:[l]})}return a}function h(e,t){var a=l(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?a.insertBefore(t,r.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function m(e,t){var a,r,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var i=c++;a=s||(s=g(t)),r=k.bind(null,a,i,!1),n=k.bind(null,a,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),r=C.bind(null,a,t),n=function(){v(a),a.href&&URL.revokeObjectURL(a.href)}):(a=g(t),r=w.bind(null,a),n=function(){v(a)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=p(e,t);return f(a,t),function(e){for(var r=[],n=0;n<a.length;n++){var i=a[n];(l=o[i.id]).refs--,r.push(l)}e&&f(p(e,t),t);for(n=0;n<r.length;n++){var l;if(0===(l=r[n]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var y,_=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,a,r){var n=a?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,n);else{var o=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function w(e,t){var a=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function C(e,t,a){var r=a.css,n=a.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(r=d(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}},71:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setButtonUsability=t.buttonClick=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var r=s(a(120)),n=s(a(121)),o=s(a(122)),i=s(a(90)),l=s(a(61));function s(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=r.default,t.pageInfoClick=o.default,t.initTemplate=n.default,t.buttonClick=i.default,t.setButtonUsability=l.default},88:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonVisible=t.pageInfoClick=t.initTemplate=t.afterEvent=t.buttonClick=void 0;var r=s(a(114)),n=s(a(115)),o=s(a(116)),i=s(a(117)),l=s(a(118));function s(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=r.default,t.afterEvent=o.default,t.initTemplate=n.default,t.pageInfoClick=i.default,t.buttonVisible=l.default},89:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]};var r,n=a(0),o=a(89);(r=o)&&r.__esModule;n.high.Refer},90:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,u,d){var f=this,p=e.table.getCheckedRows(n.grid_code);switch(t){case"Refresh":!function(e){var t=c(n.searchKey,n.dataSource),a=(0,r.deepClone)(t);if(!a)return void(0,r.toast)({color:"success",content:(0,l.loadMultiLang)(e,"36320AADR-000049")});if(a&&0!=a.querycondition.conditions.length){var o=c(n.searchKey,n.dataSource);(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/queryscheme.do",data:o,success:function(t){var a=t.success,o=t.data;a&&(o?((0,r.toast)({color:"success",content:(0,l.loadMultiLang)(e,"36320AADR-000049")}),e.table.setAllTableData(n.grid_code,o[n.grid_code])):((0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000045")}),e.table.setAllTableData(n.grid_code,{rows:[]})))}})}}(e);break;case"Bookkeeping":(0,i.listMultiOperator)(e,n.list_page_code,n.grid_code,"pk_fundtransferreceipt",n.base_url+"fundtransferreceipttally.do",(0,l.loadMultiLang)(e,"36320AADR-000036"),n.dataSource,!0,{btncode:"Bookkeeping",pagecode:n.list_page_code});break;case"UnBookkeeping":(0,i.listMultiOperator)(e,n.list_page_code,n.grid_code,"pk_fundtransferreceipt",n.base_url+"fundtransferreceiptUntally.do",(0,l.loadMultiLang)(e,"36320AADR-000033"),n.dataSource,!0,{btncode:"UnBookkeeping",pagecode:n.list_page_code});break;case"BookkeepingInner":(0,i.listSingleOperator)(e,n.list_page_code,n.grid_code,n.base_url+"fundtransferreceipttally.do",u,"pk_fundtransferreceipt",d,(0,l.loadMultiLang)(e,"36320AADR-000036"),n.dataSource,!0,{btncode:"BookkeepingInner",pagecode:n.list_page_code});break;case"UnBookkeepingInner":(0,i.listSingleOperator)(e,n.list_page_code,n.grid_code,n.base_url+"fundtransferreceiptUntally.do",u,"pk_fundtransferreceipt",d,(0,l.loadMultiLang)(e,"36320AADR-000033"),n.dataSource,!0,{btncode:"UnBookkeepingInner",pagecode:n.list_page_code});break;case"Certification":(0,i.listSingleOperator)(e,n.list_page_code,n.grid_code,n.base_url+"fundtransferreceiptvoucher.do",u,"pk_fundtransferreceipt",d,(0,l.loadMultiLang)(e,"36320AADR-000037"),n.dataSource,!0,{btncode:"Certification",pagecode:n.list_page_code});break;case"UnCertification":(0,i.listSingleOperator)(e,n.list_page_code,n.grid_code,n.base_url+"fundtransferreceiptunvoucher.do",u,"pk_fundtransferreceipt",d,(0,l.loadMultiLang)(e,"36320AADR-000033"),n.dataSource,!0,{btncode:"UnCertification",pagecode:n.list_page_code});break;case"Print":var h=e.table.getCheckedRows(this.tableId);if(0===h.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000038")});var v=[];h.forEach((function(e){v.push(e.data.values.pk_fundtransferreceipt.value)})),(0,r.print)(n.printParameter.prinType,n.printParameter.actionUrl,{funcode:n.printParameter.funcode,nodekey:n.printParameter.nodekey,oids:v});break;case"Output":var g=e.table.getCheckedRows(this.tableId);if(0==g.length)return void(0,r.toast)({duration:3,color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000040")});var b=[];g.forEach((function(e){b.push(e.data.values.pk_fundtransferreceipt.value)})),(0,r.output)({url:n.printParameter.actionUrl,data:{outputType:"output",funcode:n.printParameter.funcode,nodekey:n.printParameter.nodekey,oids:b}});break;case"Preview":var m=e.table.getCheckedRows(this.tableId);if(0==m.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000038")});var y=[];m.forEach((function(e){y.push(e.data.values.pk_fundtransferreceipt.value)})),(0,r.print)(n.printParameter.prinType,n.printParameter.actionUrl,{funcode:n.printParameter.funcode,nodekey:n.printParameter.nodekey,oids:y});break;case"Official":if(0===p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000052")});(0,s.elecSignPrint)(e,!0,!1);break;case"Inofficial":if(0===p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000053")});(0,s.elecSignPrint)(e,!1,!1);break;case"File":if(0===p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000041")});p.length>1&&(0,r.toast)({color:"info",content:(0,l.loadMultiLang)(e,"36320AADR-000042")});var _=p[0].data.values.vbillno.value,k=p[0].data.values.pk_fundtransferreceipt.value;this.setState({showUploader:!this.state.showUploader,target:null,billId:k,billno:_});break;case"Plan":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var w={pk:p[0].data.values.pk_fundtransferreceipt.value,pageid:n.list_page_code};(0,r.ajax)({url:"/nccloud/sf/fundtransferreceipt/fundtransferreceiptplan.do",data:w,success:function(e){if(e.success){if(e.data&&e.data.hint)return void(0,r.toast)({color:"warning",content:e.data.hint});f.setState({showNtbDetail:!0,ntbdata:e.data})}}});break;case"Voucher":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var C=p[0].data.values.pk_fundtransferreceipt.value,D=p[0].data.values.pk_group.value,A=p[0].data.values.pk_org.value,I=p[0].data.values.vbillno.value,S=p[0].data.values.pk_billtype.value;(0,o.linkVoucherApp)(e,C,D,A,S,I);break;case"PayInside":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var B=[],P=p[0].data.values.pk_org.value,M=p[0].data.values.pk_accid_r.value,O={pk_org:P,pk_account:M};B.push(O),this.setState({showOriginalData:B,showOriginal:!0});break;case"RecInside":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var R=[],L=p[0].data.values.pk_org.value,T=p[0].data.values.pk_accid_p.value,x={pk_org:L,pk_account:T};R.push(x),this.setState({showOriginalData:R,showOriginal:!0});break;case"Payments":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var E=[],j=p[0].data.values.pk_org.value,N=p[0].data.values.pk_bankacc_p.value,U={pk_org:j,pk_account:N};E.push(U),this.setState({showOriginalData:E,showOriginal:!0});break;case"Receivables":if(1!=p.length)return void(0,r.toast)({color:"warning",content:(0,l.loadMultiLang)(e,"36320AADR-000043")});var V=[],F=p[0].data.values.pk_org.value,q=p[0].data.values.pk_bankacc_r.value,K={pk_org:F,pk_account:q};V.push(K),this.setState({showOriginalData:V,showOriginal:!0})}};var r=a(0),n=a(23),o=a(13),i=(a(71),a(3)),l=a(1),s=a(48),c=(r.base.NCMessage,r.cardCache.setDefData,r.cardCache.getDefData)}})}));
//# sourceMappingURL=index.6d2516c0.js.map