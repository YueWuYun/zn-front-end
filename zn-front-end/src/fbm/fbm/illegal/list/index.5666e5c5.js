/*qez+91vLaUxbYd0O4ym9GtyKacIIH0CrRMVEVf6ugGwChhFXe3Czas3bBmBoGYGp*/
/*! @ncctag {"date":"2020-4-17 10:18:24"} */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],e):"object"==typeof exports?exports["fbm/fbm/illegal/list/index"]=e(require("nc-lightapp-front"),require("react"),require("react-dom")):t["fbm/fbm/illegal/list/index"]=e(t["nc-lightapp-front"],t.React,t.ReactDOM)}(window,(function(t,e,a){return function(t){var e={};function a(l){if(e[l])return e[l].exports;var i=e[l]={i:l,l:!1,exports:{}};return t[l].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=t,a.c=e,a.d=function(t,e,l){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(l,i,function(e){return t[e]}.bind(null,i));return l},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="../../../../",a(a.s=756)}({1:function(e,a){e.exports=t},2:function(t,a){t.exports=e},261:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.baseReqUrl="/nccloud/fbm/fbm/",e.baseRoutePath="/tmcfm/fmc/contract/",e.btnLimit=4,e.moduleId="",e.sysMark="system_flag",e.enableFlag="enable_state",e.listQuery="/nccloud/fbm/illegal/illegalQuery.do",e.save="/nccloud/fbm/illegal/illegalSave.do",e.del="/nccloud/fbm/illegal/illegalDelete.do",e.afterEventLink="/nccloud/fbm/illegal/illegalAfterEvent.do",e.searchCache={key:"fbm.fbm.illegal.searchCache",dataSource:"fbm.fbm.illegal.searchSpace"},e.list={pageCode:"36180IBR_list",btnCode:"page_header",searchCode:"search",tableCode:"table",bodyCode:"list_inner",listOid:"1001Z610000000000EOH",listCache:"fbm.illegal.illegal.datasource",primaryId:"pk_repaymentmethod",disabled_btn:["Delete","Enable","Disenable"],pageTempletid:"1001Z610000000000EOF"},e.oprName={del:"删除"},e.allBtns=["Edit","Delete","Print","Output","Field"]},317:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listButtonVisible=function(t){var e=this,a=t.editTable.getStatus,i=t.button,n=i.setButtonVisible,o=i.setMainButton,s=i.setPopContent;if("browse"===a(l.list.tableCode)){n({Save:!1,Cancel:!1,Refresh:!0,Edit:!0,Field:!0,Import:!0,ExportData:!1,Export_Group:!0,ExportExcel:!0,Print:!0,Output:!0}),o("Add",!0),o("Save",!1),s("DelLine",this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000011")),window.onbeforeunload=function(){};var r=t.editTable.getCheckedRows(l.list.tableCode);r&&0!=r.length?t.button.setButtonDisabled(l.allBtns,!1):t.button.setButtonDisabled(l.allBtns,!0);var c=t.editTable.getNumberOfRows(l.list.tableCode);c&&c>0&&t.button.setButtonDisabled("Edit",!1)}else{n({Save:!0,Delete:!0,Cancel:!0,Refresh:!1,Edit:!1,Field:!1,Import:!1,ExportData:!1,Export_Group:!1,ExportExcel:!1,Print:!1,Output:!1}),o("Save",!0),o("Add",!1),s("DelLine",""),window.onbeforeunload=function(){return e.props.MutiInit.getIntl("361805IBR")&&e.props.MutiInit.getIntl("361805IBR").get("361805IBR-000015")};var u=t.editTable.getCheckedRows(l.list.tableCode);u&&0!=u.length?t.button.setButtonDisabled(l.allBtns,!1):t.button.setButtonDisabled(l.allBtns,!0)}};var l=a(261)},6:function(t,e){t.exports=a},716:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchButtonClick=function(t,e){var a=this;"undefined"==e&&(e=!0);var i=t.editTable.getTablePageInfo(this.pageId),r={querycondition:t.search.getAllSearchData(this.searchId),pageInfo:i,pagecode:this.pageId,queryAreaCode:this.searchId,oid:this.searchOid,querytype:"tree"};s.call(this,n.listQuery,r,e).then((function(e){o(a.searchCache.key,a.searchCache.dataSource,r),t.editTable.setStatus(a.tableId,"browse");var i=e.grid[a.tableId];if(a.props.editTable.setTableData(a.tableId,i),i.rows&&i.rows.length>0)for(var n=0;n<i.rows.length;n++)"2"==i.rows[n].values.fromtype.value&&a.props.editTable.setEditableRowByIndex(a.tableId,n,!1);l.listButtonVisible.call(a,t)}))},e.queryAjax=s;var l=a(317),i=a(1),n=a(261),o=i.cardCache.setDefData;i.cardCache.getDefData;function s(t,e,a){var l=this;return new Promise((function(n){(0,i.ajax)({url:t,data:e,success:function(t){var e=t.success,o=t.data;e&&o&&o.grid?(n(t.data),a&&(0===o.grid[l.tableId].pageInfo.total||"0"===o.grid[l.tableId].pageInfo.total?(0,i.toast)({color:"warning",content:""+l.props.MutiInit.getIntl("361805IBR").get("361805IBR-000036")}):(0,i.toast)({color:"success",content:(l.props.MutiInit.getIntl("361805IBR")&&l.props.MutiInit.getIntl("361805IBR").get("361805IBR-000017"))+"，"+(l.props.MutiInit.getIntl("361805IBR")&&l.props.MutiInit.getIntl("361805IBR").get("361805IBR-000018"))+o.grid[l.tableId].pageInfo.total+(l.props.MutiInit.getIntl("361805IBR")&&l.props.MutiInit.getIntl("361805IBR").get("361805IBR-000019"))}))):l.props.editTable.setTableData(l.tableId,{rows:[]})}})}))}},756:function(t,e,a){"use strict";var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},i=function(){function t(t,e){for(var a=0;a<e.length;a++){var l=e[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,a,l){return a&&t(e.prototype,a),l&&t(e,l),e}}(),n=a(1),o=a(2),s=g(o),r=g(a(6)),c=a(261),u=a(757),d=a(759),p=a(317),h=g(a(760)),b=a(716);function g(t){return t&&t.__esModule?t:{default:t}}var I=n.high.ExcelImport,f=n.high.NCUploader,v=n.base.NCAffix,B=n.base.NCDiv,m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));a.onHideUploader=function(){a.setState({showUploader:!1})},a.renderCompleteEvent=function(){var t=a.props.MutiInit.getIntl("361805IBR"),e=t&&t.get("361805IBR-000021"),l=t&&t.get("361805IBR-000022"),i=t&&t.get("361805IBR-000023");a.props.search.setTemlateByField(a.searchId,"moneyy","defaultPlaceholder",{start:e+l,end:e+i})},a.tableId=c.list.tableCode,a.searchId=c.list.searchCode,a.pageid=c.list.pageCode,a.appcode="",a.selectedPKS=[],a.searchCache=c.searchCache,a.state={delRowpks:[],delRows:[],billtype:"36HO",billId:"",billts:"",billno:"",showUploader:!1,target:null};var l=t.getSearchParam("c")||t.getUrlParam("c");return a.appcode=l,h.default.call(a,t),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){p.listButtonVisible.call(this,this.props)}},{key:"render",value:function(){var t=this.props,e=t.button,a=t.search,i=t.editTable,n=t.ncmodal,o=t.BillHeadInfo,r=n.createModal,c=this.state,h=(c.showSearch,c.showUploader),g=c.target,m=c.billno,R=c.billId,y=i.createEditTable,w=a.NCCreateSearch,M=e.createButtonApp,C=o.createBillHeadInfo,k=this.props.MutiInit.getIntl("361805IBR");return s.default.createElement("div",{className:"nc-single-table"},s.default.createElement(v,null,s.default.createElement(B,{areaCode:B.config.HEADER,className:"nc-singleTable-header-area"},s.default.createElement("div",{className:"header-title-search-area"},C({title:k&&k.get("361805IBR-000000"),initShowBackBtn:!1})),s.default.createElement("div",{className:"header-button-area"},M({area:"page_header",onButtonClick:d.buttonClick.bind(this)})))),s.default.createElement("div",{className:"nc-singleTable-search-area"},w(this.searchId,{oid:this.searchOid,showAdvBtn:!1,showClearBtn:!0,clickSearchBtn:b.searchButtonClick.bind(this),renderCompleteEvent:this.renderCompleteEvent})),s.default.createElement("div",{className:"nc-singleTable-table-area"},y(this.tableId,{showCheck:!0,showIndex:!0,adaptionHeight:!0,onSelected:p.listButtonVisible.bind(this),onSelectedAll:p.listButtonVisible.bind(this),onAfterEvent:u.afterEvent.bind(this)})),r("importModal",{noFooter:!0,className:"import-modal",hasBackDrop:!1}),s.default.createElement(I,l({},Object.assign(this.props),{moduleName:"fbm",billType:this.state.billtype,pagecode:this.pageid,appcode:this.appcode,selectedPKS:this.selectedPKS})),h&&s.default.createElement(f,{billId:R,target:g,placement:"bottom",billNo:m,onHide:this.onHideUploader}))}}]),e}(o.Component);m=(0,n.createPage)({mutiLangCode:"361805IBR"})(m),r.default.render(s.default.createElement(m,null),document.querySelector("#app"))},757:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.afterEvent=function(t,e,a,i,c,u,d){var p=this.props.editTable,h=p.setValByKeyAndIndex;p.getValByKeyAndIndex;switch(a){case"fbmbillno":if(c[0].newvalue.value==c[0].oldvalue.value)return;var b=d.values.fbmbillno.value;if(n.billValidation.call(this,b)){var g={keyValue:b,key:a};s.call(this,t,g,u,d)}else h(this.tableId,u,"fbmbillno",{display:"",value:""});break;case"invoicedate":var I=d.values.invoicedate.value,f=d.values.enddate.value,v=d.values.fbmbillno.value;if(!I)return;if(f){var B=new Date(f),m=new Date(I);if(B.getTime()<=m.getTime())return(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000002")}),void h(this.tableId,u,"enddate",{display:" ",value:""})}var R=6;R=v&&30==v.length?12:6;var y=new Date(I);y.setMonth(y.getMonth()+R);var w=o.call(this,y);h(this.tableId,u,"enddate",{display:" ",value:w});break;case"enddate":var M=d.values.enddate.value,C=d.values.invoicedate.value;if(!M)return;if(C){var k=new Date(M),T=new Date(C);if(k.getTime()<T.getTime())return(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000003")}),void h(this.tableId,u,"enddate",{display:" ",value:""})}break;case"moneyy":if(c[0].newvalue.value==c[0].oldvalue.value)return;d.values.moneyy.value<=0&&((0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000004")}),h(this.tableId,u,"moneyy",{display:"",value:""}));break;case"pk_curr":if(c[0].newvalue.value==c[0].oldvalue.value)return;var _={keyValue:d.values.pk_curr.value,key:a};r.call(this,this.props,_,u,d)}};var l=a(1),i=a(261),n=a(758);function o(t){var e=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),i=t.getHours(),n=t.getMinutes(),o=t.getSeconds();return a<10&&(a="0"+a),l<10&&(l="0"+l),i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o),e+"-"+a+"-"+l+" "+i+":"+n+":"+o}function s(t,e,a,n){var o=this;(0,l.ajax)({async:!1,url:i.afterEventLink,data:e,success:function(e){if(e.success&&(t.editTable.setValByKeyAndIndex(o.tableId,a,"fbmbilltype",{display:e.data.fbmbilltypeDisplay,value:e.data.fbmbilltype}),t.editTable.setValByKeyAndIndex(o.tableId,a,"pk_curr",{display:e.data.currtypename,value:e.data.pk_currtype}),e.data.moneyDigit)){var l=n.values.moneyy;l.scale=e.data.moneyDigit,t.editTable.setValByKeyAndIndex(o.tableId,a,"moneyy",l)}},error:function(t){(0,l.toast)({color:"danger",content:t.message})}})}function r(t,e,a,n){var o=this;(0,l.ajax)({async:!1,url:i.afterEventLink,data:e,success:function(e){if(e.success&&e.data.moneyDigit){var l=n.values.moneyy;l.scale=e.data.moneyDigit,t.editTable.setValByKeyAndIndex(o.tableId,a,"moneyy",l)}},error:function(t){(0,l.toast)({color:"danger",content:t.message})}})}},758:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.billValidation=function(t){var e=this.props.MutiInit.getIntl("361805IBR");if(!t)return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000024")}),!1;if(null==t.match(/^[0-9]*$/))return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000025")}),!1;if(null!=t.match(/\s/))return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000026")}),!1;if(30!=t.length&&16!=t.length)return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000027")}),!1;return t&&30==t.length?i.call(this,t):n.call(this,t)};var l=a(1);function i(t){var e=this.props.MutiInit.getIntl("361805IBR");if(null==t.match(/^\d{30}$/))return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000028")}),!1;var a=t.split("")[0];if("1"!=a&&"2"!=a)return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000029")}),!1;var i=t.substring(13,17),n=t.substring(17,19),o=t.substring(19,21);return n>0&&n<12&&(i%4!=0||2!=n||o>0&&o<=29)&&(i%4==0||2!=n||o>0&&o<=28)&&(![1,3,5,7,8,10,12].includes(n)||o>0&&o<=31)&&(![4,6,9,11].includes(n)||o>0&&o<=30)||((0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000030")}),!1)}function n(t){var e=this.props.MutiInit.getIntl("361805IBR");if(null==t.match(/^\d{16}$/))return(0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000031")}),!1;var a=t.substring(0,3),i=t.substring(4,6),n=t.substring(6,7),o=t.substring(7,8);return"00"!=i?((0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000032")}),!1):["5","6"].includes(n)?"6"==n&&"001"!=a?((0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000034")}),!1):!["7","8","9"].includes(o)||((0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000035")}),!1):((0,l.toast)({color:"warning",content:e&&e.get("361805IBR-000033")}),!1)}},759:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buttonClick=function(t,e){var a=t.editTable.setStatus;switch(e){case"Add":h.call(this,t);break;case"Edit":a(this.tableId,"edit"),n.listButtonVisible.call(this,t);break;case"Delete":f.call(this,t);break;case"Save":I.call(this,t);break;case"Cancel":b.call(this,t);break;case"Refresh":s(this.searchCache.key,this.searchCache.dataSource)&&(this.setState({showToast:!1}),i.searchButtonClick.call(this,t,!1)),(0,l.toast)({color:"success",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000020")});break;case"ExportData":r.call(this,t);break;case"ExportExcel":c.call(this,t);break;case"Print":d.call(this,t);break;case"Output":p.call(this,t);break;case"Field":u.call(this,t)}},e.addBill=h,e.cancel=b,e.cancelCallBack=g,e.saveBill=I,e.deleteBill=v;var l=a(1),i=a(716),n=a(317),o=a(261),s=(l.cardCache.setDefData,l.cardCache.getDefData);function r(t){var e=t.editTable.getCheckedRows(this.tableId);if(e&&0==e.length)(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000006")});else{var a=[];e.forEach((function(t){a.push(t.data.values.pk_illegal.value)})),a.length>0&&(this.selectedPKS=a),t.modal.show("exportFileModal")}}function c(t){this.selectedPKS=[],t.modal.show("exportFileModal")}function u(t){var e=t.editTable.getCheckedRows(this.tableId);if(e&&0==e.length)(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000006")});else{var a=e[0].data.values.fbmbillno.value,i=e[0].data.values.pk_illegal.value;this.setState({showUploader:!this.state.showUploader,target:null,billId:i,billno:a})}}function d(t){var e=t.editTable.getCheckedRows(this.tableId);if(e&&0!=e.length){var a=[];e.forEach((function(t){a.push(t.data.values.pk_illegal.value)})),(0,l.print)("pdf","/nccloud/fbm/illegal/illegalPrint.do",{oids:a})}else(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000007")})}function p(t){var e=t.editTable.getCheckedRows(this.tableId);if(e&&0!=e.length){var a=[];e.forEach((function(t){a.push(t.data.values.pk_illegal.value)})),(0,l.output)({url:"/nccloud/fbm/illegal/illegalPrint.do",data:{oids:a,outputType:"output"}})}else(0,l.toast)({color:"warning",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000007")})}function h(t){var e=t.editTable.getNumberOfRows(this.tableId);t.editTable.addRow(this.tableId,e),t.editTable.setValByKeyAndIndex(this.tableId,e,"code",{value:"",display:"",scale:0,isEdit:!0}),n.listButtonVisible.call(this,t)}function b(t){var e=this;(0,l.promptBox)({color:"warning",title:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000008"),content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000009"),beSureBtnClick:function(){g.call(e,t),n.listButtonVisible.call(e,t)}})}function g(t){var e=this;t.editTable.cancelEdit(this.tableId,(function(){s(e.searchCache.key,e.searchCache.dataSource)&&(e.setState({showToast:!1}),i.searchButtonClick.call(e,t,!1))}))}function I(t){var e=t.editTable.getChangedRows(this.tableId),a=this.state.delRows;0==e.length&&0==a.length&&(i.searchButtonClick.call(this,t,!1),(0,l.toast)({color:"success",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000013")}),t.editTable.setStatus(this.tableId,"browse"),n.listButtonVisible.call(this,t)),e&&e.length>0&&B.call(this,t,e),a&&a.length>0&&m.call(this,t,a,!1,!0)}function f(t){var e=this;"browse"===t.editTable.getStatus(o.list.tableCode)?(0,l.promptBox)({color:"warning",title:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000001"),content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000011"),beSureBtnClick:function(){v.call(e,t)}}):v.call(this,t)}function v(t){var e=this,a=t.editTable.getCheckedRows(this.tableId);if(a&&0==a.length)(0,l.toast)({color:"danger",content:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000012")});else if("edit"===t.editTable.getStatus(this.tableId))a.forEach((function(a){a.data.values.pk_illegal&&a.data.values.pk_illegal.value&&(e.state.delRowpks.push(a.data.values.pk_illegal.value),e.state.delRows.push(a.data)),t.editTable.deleteTableRowsByRowId(e.tableId,a.data.rowid,!0)}));else{var i=[];a.forEach((function(t){i.push(t.data)})),i.length>0&&m.call(this,t,i,!0)}}function B(t,e){var a=this;if(t.editTable.checkRequired(o.list.tableCode,e)){var i={pageid:o.list.pageCode,model:{areaType:"table",areacode:o.list.listOid,rows:e}};(0,l.ajax)({url:o.save,data:i,success:function(e){e.success&&((0,l.toast)({color:"success",content:a.props.MutiInit.getIntl("361805IBR")&&a.props.MutiInit.getIntl("361805IBR").get("361805IBR-000013")}),t.editTable.setStatus(a.tableId,"browse"),n.listButtonVisible.call(a,t))},error:function(t){(0,l.toast)({color:"danger",content:t.message})}})}}function m(t,e,a,s){var r=this,c={pageid:o.list.pageCode,model:{areaType:"table",areacode:o.list.listOid,rows:e}};(0,l.ajax)({url:o.del,data:c,success:function(e){e.success&&(a&&(0,l.toast)({color:"success",content:r.props.MutiInit.getIntl("361805IBR")&&r.props.MutiInit.getIntl("361805IBR").get("361805IBR-000005")}),s&&(0,l.toast)({color:"success",content:r.props.MutiInit.getIntl("361805IBR")&&r.props.MutiInit.getIntl("361805IBR").get("361805IBR-000014")}),i.searchButtonClick.call(r,t,!1),t.editTable.setStatus(r.tableId,"browse"),n.listButtonVisible.call(r,t),r.state.delRows.length=0,r.state.delRowpks.length=0)},error:function(t){(0,l.toast)({color:"danger",content:t.message})}})}},760:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this,a=t.getSearchParam("c")||t.getUrlParam("c"),l=(0,n.excelImportconfig)(t,"fbm","36HO",!0,"",{appcode:a,pagecode:o.list.pageCode});t.createUIDom({pagecode:o.list.pageCode,appcode:a},(function(a){if(a){if(a.template){var n=a.template;n=r.call(e,t,n),t.meta.setMeta(n),e.searchOid=n.search.oid}if(a.button){var o=a.button;t.button.setButtons(o),i.listButtonVisible.call(e,t),t.button.setUploadConfig("Import",l)}}}))};var l=a(761),i=a(317),n=a(1),o=a(261);function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a,i=this;return e[this.tableId].items&&(e[this.tableId].items=e[this.tableId].items.map((function(t,e){return"fbmbilltype"==t.attrcode&&(t.visible=!0,t.queryCondition=function(){return{GridRefActionExt:"nccloud.web.fbm.fbm.sign.filter.GatherFbmbilltypeRefModelFilter"}}),t}))),e[this.tableId].items.push((s(a={itemtype:"customer",attrcode:"opr",label:this.props.MutiInit.getIntl("361805IBR")&&this.props.MutiInit.getIntl("361805IBR").get("361805IBR-000016"),width:200,fixed:"right",className:"table-opr",visible:!0},"itemtype","customer"),s(a,"render",(function(e,a,n){return t.button.createOprationButton(["DelLine"],{area:"list_inner",buttonLimit:3,onButtonClick:function(t,e){return l.bodyButtonClick.call(i,t,e,a)}})})),a)),e}},761:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyButtonClick=function(t,e,a){switch(e){case"DelLine":s.call(this,t,a)}};var l=a(261),i=a(317),n=a(1);function o(t,e){e&&e.values&&e.values.pk_illegal&&e.values.pk_illegal.value&&(this.state.delRowpks.push(e.values.pk_illegal.value),this.state.delRows.push(e)),t.editTable.deleteTableRowsByRowId(this.tableId,e.rowid,!0);var a=t.editTable.getCheckedRows(this.tableId);a&&0==a.length&&t.editTable.selectAllRows(this.tableId,!1),i.listButtonVisible.call(this,this.props)}function s(t,e){"edit"===t.editTable.getStatus(this.tableId)?o.call(this,t,e):r.call(this,t,e)}function r(t,e){var a=this,o={pageid:l.list.pageCode,model:{areaType:"table",areacode:l.list.listOid,rows:[e]}};(0,n.ajax)({url:l.del,data:o,success:function(l){l.success&&(t.editTable.deleteTableRowsByRowId(a.tableId,e.rowid,!0),(0,n.toast)({color:"success",content:a.props.MutiInit.getIntl("361805IBR")&&a.props.MutiInit.getIntl("361805IBR").get("361805IBR-000005")}));var o=t.editTable.getCheckedRows(a.tableId);o&&0==o.length&&t.editTable.selectAllRows(a.tableId,!1),i.listButtonVisible.call(a,a.props)},error:function(t){(0,n.toast)({color:"danger",content:t.message})}})}}})}));
//# sourceMappingURL=index.5666e5c5.js.map
/*qez+91vLaUxbYd0O4ym9GtyKacIIH0CrRMVEVf6ugGwChhFXe3Czas3bBmBoGYGp*/