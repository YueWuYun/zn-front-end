/*! @ncctag {"project":"","branch":"","provider":"","date":"2020-5-11 14:50:39"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["uapbd/mmbase/team01/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["uapbd/mmbase/team01/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,(function(e,t,a){return function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=210)}({1:function(t,a){t.exports=e},143:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(s,o({},l,e))};var r=a(1),n=a(4),s=r.high.Refer,l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",refName:"refer-000218",placeholder:"refer-000218",refCode:"uapbd.refer.org.FactoryGridRef",queryGridUrl:"/nccloud/uapbd/org/FactoryGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-000002","refer-000003"],code:["refcode","refname"]}],unitProps:n.conf,isShowUnit:!1}},156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(s,o({},l,e))};var r=a(1),n=a(4),s=r.high.Refer;n.conf.fieldid="group";var l=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"tree",refName:"refer-000201",refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:"refer-000201",refpk:"root"},placeholder:"refer-000201",queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:["refer-000002","refer-000003"],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:n.conf,isShowUnit:!1}},184:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),s=a(2),l=c(s),i=(c(a(3)),a(1)),d=a(7);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p=i.base.NCAffix,f=(i.base.NCPopconfirm,i.base.NCFormControl,i.base.NCBackBtn,i.high.PrintOutput),b=i.cardCache.addCache,m=i.cardCache.getCacheById,h=i.cardCache.updateCache,v=(i.cardCache.getCurrentLastId,i.cardCache.getNextId),g=i.cardCache.deleteCacheById,k=i.cardCache.setDefData,y=i.cardCache.getDefData,w="mmbd.team.team01.data",I="/nccloud/mmbd/team01/queryCard.do",C="/nccloud/mmbd/team01/addsave.do",B="/nccloud/mmbd/team01/update.do",A="/nccloud/mmbd/team01/delTeam.do",S="/nccloud/mmbd/team01/changeEnableTeam.do",E="/nccloud/mmbd/team01/changeDisableTeam.do",D="/nccloud/mmbd/team01/queryPsncl.do",_="/nccloud/mmbd/team01/querydeptversionbyvid.do",T="/nccloud/mmbd/team01/querydeptvobyvid.do",P="/nccloud/mmbd/team01/queryorgvobyvid.do",O="/nccloud/mmbd/team01/queryvorgvobyoid.do",j="/nccloud/mmbd/team01/print.do",M="10140TEAMM_card",R="teamcardhead",F="teamcardb",V="teamcardb&childform2",x=(o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.call(a),a.formId=R,a.tableId=F,a.moretableId=V,a.state={pk_org:null,pk_org_v:null,title_code:"",totalcount:0,applycount:0,backVisible:!0,json:{},buttonkeys:[],copyedRows:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"modifierMeta",value:function(e,t){var a=this,o=e.getUrlParam("status");console.log({"before modifierMeta":t}),t[R].status=o,t[F].status=o,"browse"==o?this.initBrowseMeta(e,t):("add"==o&&this.initAddMeta(e,t),"edit"==o&&this.initEditMeta(e,t));var r={itemtype:"customer",attrcode:"opr",label:this.state.json?this.state.json["2101436701-0101"]:"2101436701-0101",width:150,className:"table-opr",visible:!0,fixed:"right",render:function(t,o,r){var n=a.props.cardTable.getStatus(F),s="browse"===n?["Ext"]:["Ext","Inrt","Del"];return e.button.createOprationButton(s,{area:"card-inner",buttonLimit:"browse"===n?1:3,onButtonClick:function(e,n){a.onTableButtonClick.bind(a)(e,n,t,o,r)}})}};console.log(r);var n={itemtype:"customer",attrcode:"opr2",label:"",visible:!1,className:"table-opr",width:150,fixed:"right",render:function(t,o,r){var n=a.props.cardTable.getStatus(F),s="browse"===n?[""]:["Psthere"];return e.button.createOprationButton(s,{area:"card-inner",buttonLimit:"browse"===n?0:1,onButtonClick:function(e,n){a.onTableButtonClick.bind(a)(e,n,t,o,r)}})}};return t[F].items.push(r),t[F].items.push(n),t}},{key:"componentDidMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"10140TEAMM",domainName:"uapbd",callback:function(t){e.setState({json:t},(function(){e.initTemplate(e.props)}))}})}},{key:"componentWillUnmount",value:function(){}},{key:"onCardTableAfterEvent",value:function(e,t,a,o,r,n,s){var l=this;if(console.log({"onCardTableAfterEvent-param":{changedrows:r,value:o,record:s}}),"cworkmanid"==a){var d={};this.props.meta.getMeta()[this.tableId].items.map((function(e){"cteam_bid"!=e.attrcode&&"ts"!=e.attrcode&&(d[e.attrcode]={value:"",display:""})}));var c=[];if(o instanceof Array){0==o.length&&this.props.cardTable.setValByKeysAndIndex(this.tableId,n,d);var u=0;o.forEach((function(e){if(null==e.values)return u++,l.props.cardTable.setValByKeyAndIndex(l.tableId,n,"cworkmanid",{value:e.refpk,display:e.refname}),void l.props.cardTable.setValByKeyAndIndex(l.tableId,n,"cworkmanid.code",{value:e.refname,display:e.refname});0!=u?l.props.cardTable.addRow(l.tableId,n+u):l.props.cardTable.setValByKeysAndIndex(l.tableId,n+u,d),u++,null!=e.values.pk_psnjob&&c.push(e.values.pk_psnjob.value)}))}if(c.length>0){var p={pk_psnjob:c};(0,i.ajax)({url:D,data:p,success:function(e){if(e.data){var t=[];e.data.map((function(e){t.push(JSON.parse(e))}));var a=0,r=0;o.forEach((function(e){null!=e.values?(l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"cworkmanid",{value:e.refpk,display:e.refcode}),l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"cworkmanid.code",{value:e.refcode,display:e.refcode}),l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"cworkmanid.name",{value:e.refname,display:e.refname}),l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"pk_psnjob",{value:t[r].pk_psnjob,display:t[r].pk_psnjob}),l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"pk_psncl",{value:t[r].pk_psncl,display:t[r].psnclname}),l.props.cardTable.setValByKeyAndIndex(l.tableId,n+a,"pk_dept",{value:t[r].pk_dept,display:t[r].deptname}),a++,r++):a++}))}}})}}}},{key:"isEmpty",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return!(null!=e&&!a.find((function(t){return t==e})))}},{key:"setReferValueSimple",value:function(e,t){for(var a in t.rows[0])this.isEmpty(t.rows[0][a].value)||(e.rows[0][a]={value:t.rows[0][a].value,display:t.rows[0][a].display});return e}},{key:"updateCardTableBtnStatus",value:function(){this.props.cardTable.getCheckedRows(this.tableId).length>0?this.props.button.setButtonDisabled(["CopyLine","DelLine"],!1):this.props.button.setButtonDisabled(["CopyLine","DelLine"],!0)}},{key:"output",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.form.getFormItemsValue(R,"cteamid").value,a=[t];"print"==e?(0,i.print)("pdf",j,{billtype:"",funcode:"10140TEAMM",nodekey:"10140TEAM_Print",oids:a}):(e="output")&&this.setState({pks:a},this.refs.printOutput.open())}},{key:"render",value:function(){var e=this,t=this.props,a=t.cardTable,o=t.form,r=t.button,n=t.modal,s=t.cardPagination.createCardPagination,i=this.props.BillHeadInfo.createBillHeadInfo,d=o.createForm,c=a.createCardTable,u=r.createButtonApp,b=n.createModal;this.props.getUrlParam("status");return l.default.createElement("div",{className:"nc-bill-card"},l.default.createElement("div",{className:"nc-bill-top-area"},l.default.createElement(p,null,l.default.createElement("div",{className:"nc-bill-header-area"},l.default.createElement("div",{className:"header-title-search-area"},l.default.createElement("span",null,i({title:this.state.json["2101436701-0004"],backBtnClick:function(){e.buttonClick.call(e,e.props,"Back")}}))),l.default.createElement("div",{className:"header-button-area"},u({area:"header-action",onButtonClick:this.buttonClick.bind(this)}),s({handlePageInfoChange:this.pageInfoClick.bind(this),dataSource:w})))),l.default.createElement("div",{className:"nc-bill-form-area"},d(this.formId,{onBeforeEvent:this.beforeEvent.bind(this),onAfterEvent:this.afterEvent.bind(this)}))),l.default.createElement("div",{className:"nc-bill-bottom-area"},l.default.createElement("div",{className:"nc-bill-table-area"},c(this.tableId,{tableHead:this.getTableHead.bind(this),hideModelSave:!0,modelSave:this.modelSave.bind(this),onBeforeEvent:this.onCardTableBeforeEvent.bind(this),onAfterEvent:this.onCardTableAfterEvent.bind(this),showIndex:!0,showCheck:!0,onSelected:this.updateCardTableBtnStatus.bind(this),onSelectedAll:this.updateCardTableBtnStatus.bind(this)}))),b("delete",{title:this.state.json?this.state.json["2101436701-0111"]:"2101436701-0111",content:this.state.json?this.state.json["2101436701-0103"]:"2101436701-0103",size:"sm",beSureBtnClick:this.delConfirm.bind(this)}),b("sureChangeOrg",{title:this.state.json?this.state.json["2101436701-0111"]:"2101436701-0111",content:this.state.json?this.state.json["2101436701-0132"]:"2101436701-0132",size:"sm",beSureBtnClick:this.sureChangeOrg.bind(this)}),b("cancel",{title:this.state.json?this.state.json["2101436701-0133"]:"2101436701-0133",content:this.state.json?this.state.json["2101436701-0134"]:"2101436701-0135",size:"sm",beSureBtnClick:this.cancelSureEvent.bind(this)}),l.default.createElement(f,{ref:"printOutput",url:j,data:{funcode:"10140TEAMM",nodekey:"10140TEAM_Print",oids:this.state.pks,outputType:"output"}}))}}]),t}(s.Component),r=function(){var e=this;this.initTemplate=function(t){t.createUIDom({pagecode:M},(function(a){if(a){if(a.template){var o=a.template;e.modifierMeta(t,o),console.log({"after modifierMeta":o}),t.meta.setMeta(o)}if(a.button){var r=a.button;t.button.setButtons(r),e.getAllButtonKey(r,e.state.buttonkeys),e.toggleButton(t)}e.state.pk_org_v={value:a.context.pk_org_v,display:a.context.org_v_Name},e.state.pk_org={value:a.context.pk_org,display:a.context.org_Name};var n=t.getUrlParam("status");if("add"!=n){var s=t.getUrlParam("id");"browse"==n&&s&&"undefined"!=s&&e.getdata(s,(function(){e.initBrowseAfterLoaddata()})),"edit"==n&&s&&"undefined"!=s&&e.getdata(s,(function(){e.initEditAfterLoaddata(),e.toggleButton(t)}))}else if(null!=e.state.pk_org&&null!=e.state.pk_org.value){var l={value:null,display:null};e.props.form.setFormItemsValue(e.formId,{pk_org:e.state.pk_org}),e.initAddMetaAfterOrgchange(t,l,e.state.pk_org),e.loadDataAfterOrgchange(t,l,e.state.pk_org),e.toggleButtonAfterOrgchange(t,l,e.state.pk_org),e.props.form.setFormItemsValue(e.formId,{pk_group:{value:window.parent.GETBUSINESSINFO().groupId,display:window.parent.GETBUSINESSINFO().groupName}}),e.props.form.setFormItemsValue(e.formId,{enablestate:{value:"2",display:e.state.json["2101436701-0125"]}})}}}))},this.onTableButtonClick=function(t,a,o,r,n){switch(a){case"Ext":"browse"===t.cardTable.getStatus(F)?t.cardTable.toggleRowView(F,r):t.cardTable.openModel(F,"edit",r,n);break;case"Inrt":t.cardTable.addRow(F,n);break;case"Del":t.cardTable.delRowsByIndex(F,n);break;case"Psthere":var s=e.state.copyedRows;if(null==s||0==s.length)return void(0,i.toast)({content:e.state.json["2101436701-0151"],color:"warning"});s.map((function(e){e.values.cteam_bid.value="",e.selected=!1})),t.cardTable.insertRowsAfterIndex(F,s,n),e.props.cardTable.selectAllRows(e.tableId,!1),e.state.copyedRows=[],e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0),e.props.button.setButtonVisible(["PasteLine","CopyLineCancel"],!1),e.props.cardTable.hideColByKey(e.tableId,"opr2"),e.props.cardTable.setAllCheckboxAble(e.tableId,!0)}},this.initBrowseMeta=function(t,a){console.log("initBrowseMeta"),e.props.form.setFormStatus(e.formId,"browse"),e.props.cardTable.setStatus(e.tableId,"browse")},this.initAddMeta=function(t,a){console.log("initAddMeta"),e.props.form.setFormStatus(e.formId,"add"),e.props.cardTable.setStatus(e.tableId,"edit");var o={};a[R].items.map((function(t){"pk_org"!=t.attrcode&&"pk_org_v"!=t.attrcode||(t.isDataPowerEnable=!1,t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.mmbd.refer.pub.AppPermissionOrgRefFilter"}}),"cwkid"==t.attrcode&&(t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,enablestate:2}}),"cdeptid"!=t.attrcode&&"cdeptvid"!=t.attrcode||(t.isDataPowerEnable=!1,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&("pk_org"==t.attrcode?o[t.attrcode]=!1:o[t.attrcode]=!0)})),console.log({"initAddMeta-form-itemsable":o}),e.props.form.setFormItemsDisabled(R,o),o={},a[F].items.map((function(t){"cteam_bid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0),"cworkmanid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&(o[t.attrcode]=!0)})),console.log({"initAddMeta-table-itemsable":o}),e.props.form.setFormItemsDisabled(F,o),o={},a[V].items.map((function(t){"cteam_bid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0),"cworkmanid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&(o[t.attrcode]=!0)})),e.props.form.setFormItemsDisabled(V,o)},this.initEditMeta=function(t,a){e.props.form.setFormStatus(e.formId,"edit"),e.props.cardTable.setStatus(e.tableId,"edit");var o={};a[R].items.map((function(t){"cwkid"==t.attrcode&&(t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,enablestate:2}}),"cdeptid"!=t.attrcode&&"cdeptvid"!=t.attrcode||(t.isDataPowerEnable=!1,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&("vteamname"==t.attrcode||"bshiftflag"==t.attrcode||"cwkid"==t.attrcode||"cdeptid"==t.attrcode||"cdeptvid"==t.attrcode||"vbnote"==t.attrcode?o[t.attrcode]=!1:o[t.attrcode]=!0)})),console.log({"initEditMeta-form-itemsable":o}),e.props.form.setFormItemsDisabled(R,o),o={},a[F].items.map((function(t){"cteam_bid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0),"cworkmanid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&("cworkmanid"==t.attrcode||"bmanager"==t.attrcode||"dstartdate"==t.attrcode||"denddate"==t.attrcode||"vbnote"==t.attrcode?o[t.attrcode]=!1:o[t.attrcode]=!0)})),console.log({"initEditMeta-table-itemsable":o}),e.props.form.setFormItemsDisabled(F,o),o={},a[V].items.map((function(t){"cteam_bid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0),"cworkmanid"==t.attrcode&&(t.isDataPowerEnable=!1,t.isMultiSelectedEnabled=!0,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}}),1==t.visible&&("cworkmanid"==t.attrcode||"bmanager"==t.attrcode||"dstartdate"==t.attrcode||"denddate"==t.attrcode||"vbnote"==t.attrcode?o[t.attrcode]=!1:o[t.attrcode]=!0)})),console.log({"initEditMeta-table-itemsable":o}),e.props.form.setFormItemsDisabled(V,o)},this.toggleButton=function(t){var a=e.state.buttonkeys;console.log({toggleButton:a});var o=t.getUrlParam("status");"browse"==o&&e.initBrowseButton(a),"add"==o&&e.initAddButton(a),"edit"==o&&e.initEditButton(a)},this.getAllButtonKey=function(t,a){for(var o=0;o<t.length;o++)a.push(t[o].key),null!=t[o].children&&t[o].children.length>0&&e.getAllButtonKey(t[o].children,a)},this.initBrowseButton=function(t){var a=[],o=[],r=[],n=[];t.map((function(e){"Add"!=e&&"Edit"!=e&&"Delete"!=e&&"Enable"!=e&&"Disable"!=e&&"Refresh"!=e&&"Print"!=e&&"Output"!=e||(a.push(e),"Add"==e||"Edit"==e||"Delete"==e||"Refresh"==e||"Print"==e||"Output"==e?r.push(e):n.push(e)),"Save"!=e&&"SaveAdd"!=e&&"Cancel"!=e&&"AddLine"!=e&&"CopyLine"!=e&&"DelLine"!=e&&"PasteLine"!=e&&"CopyLineCancel"!=e||o.push(e)})),e.props.button.setButtonVisible(a,!0),e.props.button.setButtonVisible(o,!1),e.props.cardPagination.setCardPaginationVisible("cardPaginationBtn",!0),e.props.button.setButtonDisabled(r,!1),e.props.button.setButtonDisabled(n,!0),e.setState({backVisible:!0})},this.initAddButton=function(t){var a=[],o=[],r=[],n=[];t.map((function(e){"Save"!=e&&"SaveAdd"!=e&&"Cancel"!=e&&"AddLine"!=e&&"CopyLine"!=e&&"DelLine"!=e||(a.push(e),"Save"==e||"SaveAdd"==e||"Cancel"==e?r.push(e):n.push(e)),"Add"!=e&&"Edit"!=e&&"Delete"!=e&&"Enable"!=e&&"Disable"!=e&&"Refresh"!=e&&"PasteLine"!=e&&"CopyLineCancel"!=e&&"Print"!=e&&"Output"!=e||o.push(e)})),e.props.button.setButtonVisible(a,!0),e.props.button.setButtonVisible(o,!1),e.props.cardPagination.setCardPaginationVisible("cardPaginationBtn",!1),e.props.button.setButtonDisabled(r,!1),e.props.button.setButtonDisabled(n,!0),e.setState({backVisible:!1})},this.initEditButton=function(t){var a=e.props.cardTable.getCheckedRows(e.tableId),o=[],r=[],n=[],s=[];t.map((function(e){"Save"!=e&&"Cancel"!=e&&"AddLine"!=e&&"CopyLine"!=e&&"DelLine"!=e||(o.push(e),"CopyLine"==e||"DelLine"==e?a>0?n.push(e):s.push(e):n.push(e)),"Add"!=e&&"SaveAdd"!=e&&"Edit"!=e&&"Delete"!=e&&"Enable"!=e&&"Disable"!=e&&"Refresh"!=e&&"PasteLine"!=e&&"CopyLineCancel"!=e&&"Print"!=e&&"Output"!=e||r.push(e)})),e.props.button.setButtonVisible(o,!0),e.props.button.setButtonVisible(r,!1),e.props.cardPagination.setCardPaginationVisible("cardPaginationBtn",!1),e.props.button.setButtonDisabled(n,!1),e.props.button.setButtonDisabled(s,!0),e.setState({backVisible:!1})},this.info=function(){return window.parent.GETBUSINESSINFO()},this.initBrowseAfterLoaddata=function(){console.log("initBrowseAfterLoaddata"),null!=e.props.form.getFormItemsValue(e.formId,"enablestate")&&(2==e.props.form.getFormItemsValue(e.formId,"enablestate").value||"2"==e.props.form.getFormItemsValue(e.formId,"enablestate").value?(e.props.button.setButtonDisabled("Enable",!0),e.props.button.setButtonDisabled("Disable",!1),e.props.button.setButtonVisible("Enable",!1),e.props.button.setButtonVisible("Disable",!0)):(e.props.button.setButtonDisabled("Enable",!1),e.props.button.setButtonDisabled("Disable",!0),e.props.button.setButtonVisible("Enable",!0),e.props.button.setButtonVisible("Disable",!1)));var t=e.props.getUrlParam("id");k("cardpk",w,t)},this.initEditAfterLoaddata=function(){console.log("initBrowseAfterLoaddata");var t=e.props.getUrlParam("id");k("cardpk",w,t)},this.initAddAfterPageto=function(){console.log("initAddAfterPageto"),e.setDefaultValue()},this.getdata=function(t,a){var o={pk:t};(0,i.ajax)({url:I,data:o,success:function(t){console.log({"getdata-res":t.data}),t.data.head&&(e.props.form.setAllFormValue(u({},e.formId,t.data.head[e.formId])),h("cteamid",t.data.head[R].rows[0].values.cteamid.value,t.data,R,w),console.log({pk_item:"cteamid",pk_item_value:t.data.head[R].rows[0].values.cteamid.value,resdata:t.data,formId:R,dataSource:w})),t.data.body?e.props.cardTable.setTableData(e.tableId,t.data.body[e.tableId]):e.props.cardTable.setTableData(e.tableId,{rows:[]}),a&&"function"==typeof a&&a.call(e)}})},this.setDefaultValue=function(){e.props.form.EmptyAllFormValue(e.formId),e.props.cardTable.setTableData(e.tableId,{rows:[]}),e.props.form.setFormItemsValue(e.formId,{pk_group:{value:window.parent.GETBUSINESSINFO().groupId,display:window.parent.GETBUSINESSINFO().groupName}}),e.props.form.setFormItemsValue(e.formId,{enablestate:{value:"2",display:e.state.json["2101436701-0125"]}})},this.buttonClick=function(t,a){switch(a){case"Refresh":e.refreshAction();break;case"Back":k("cardpk",w,""),t.pushTo("/list",{back:"back"});break;case"Enable":e.enableAction();break;case"Disable":e.disableAction();break;case"Delete":e.deleteHeadAction();break;case"Add":e.addHeadAction();break;case"Edit":e.editHeadAction();break;case"Cancel":e.cancelHeadAction();break;case"AddLine":e.addlineClick();break;case"DelLine":e.deleteLineClick();break;case"Save":e.saveClick();break;case"SaveAdd":e.saveClick(!0);break;case"CopyLine":e.copyLineClick();break;case"CopyLineCancel":e.copyLineCancelClick();break;case"PasteLine":e.pasteLineClick();break;case"Print":e.output("print")}},this.refreshAction=function(){var t=e.props.getUrlParam("id");e.getdata(t,(function(){e.initBrowseAfterLoaddata()}))},this.enableAction=function(){var t=e.props.form.getFormItemsValue(R,"enablestate").value;if(2!=t&&"2"!=t){var a=[e.props.form.getFormItemsValue(R,"cteamid").value],o=[e.props.form.getFormItemsValue(R,"ts").value];e.enable(a,o,(function(){(0,i.toast)({color:"success",title:e.state.json["2101436701-0126"]}),e.refreshAction()}))}else(0,i.toast)({color:"warning",content:e.state.json["2101436701-0137"]})},this.disableAction=function(){var t=e.props.form.getFormItemsValue(R,"enablestate").value;if(3!=t&&"3"!=t){var a=[e.props.form.getFormItemsValue(R,"cteamid").value],o=[e.props.form.getFormItemsValue(R,"ts").value];e.disable(a,o,(function(){(0,i.toast)({color:"success",title:e.state.json["2101436701-0127"]}),e.refreshAction()}))}else(0,i.toast)({color:"warning",content:e.state.json["2101436701-0138"]})},this.enable=function(t,a,o){(0,i.ajax)({url:S,data:{ids:t,tss:a},success:function(t){o&&"function"==typeof o&&o.call(e)}})},this.disable=function(t,a,o){(0,i.ajax)({url:E,data:{ids:t,tss:a},success:function(t){o&&"function"==typeof o&&o.call(e)}})},this.deleteHeadAction=function(){(0,i.promptBox)({color:"warning",title:e.state.json["2101436701-0117"],content:e.state.json["2101436701-0118"],noFooter:!1,noCancelBtn:!1,beSureBtnName:e.state.json["2101436701-0119"],cancelBtnName:e.state.json["2101436701-0120"],beSureBtnClick:e.delConfirm.bind(e)})},this.delConfirm=function(){var t=[e.props.getUrlParam("id")],a=[e.props.form.getFormItemsValue(e.formId,"ts").value];(0,i.ajax)({url:A,data:{ids:t,tss:a},success:function(t){if(t){var a=e.props.getUrlParam("id"),o=v(a,w);g("cteamid",a,w),e.getDataForCache(o,(function(){(0,i.toast)({color:"success",title:e.state.json["2101436701-0104"]})}))}}})},this.getDataForCache=function(t,a){if(console.log({"getDataForCache-pk":t}),!t)return e.props.setUrlParam({id:"null",status:"browse"}),void e.props.pushTo("/list",{});var o=m(t,w);console.log({"getDataForCache-cardData":o}),o?(e.props.form.setAllFormValue(u({},R,o.head[R])),o.body&&o.body[F]?e.props.cardTable.setTableData(F,o.body[F]):e.props.cardTable.setTableData(F,{rows:[]}),e.props.setUrlParam(t),a&&"function"==typeof a&&a.call(e)):e.getdata(t,(function(){e.props.setUrlParam(t),e.toggleButton(e.props),e.initBrowseAfterLoaddata(),a&&"function"==typeof a&&a.call(e)}))},this.pageInfoClick=function(t,a){console.log({"pageInfoClick-pk":a}),e.getDataForCache(a,(function(){e.initBrowseAfterLoaddata()}))},this.addHeadAction=function(){if(e.props.pushTo("/card",{status:"add"}),e.props.form.setFormStatus(e.formId,"add"),e.props.cardTable.setStatus(e.tableId,"edit"),e.initAddMeta(e.props,e.props.meta.getMeta()),e.toggleButton(e.props),e.initAddAfterPageto(),null!=e.state.pk_org&&null!=e.state.pk_org.value){var t={value:null,display:null};e.props.form.setFormItemsValue(e.formId,{pk_org:e.state.pk_org}),e.initAddMetaAfterOrgchange(e.props,t,e.state.pk_org),e.loadDataAfterOrgchange(e.props,t,e.state.pk_org),e.toggleButtonAfterOrgchange(e.props,t,e.state.pk_org)}},this.editHeadAction=function(){e.props.pushTo("/card",{status:"edit",id:e.props.getUrlParam("id")}),e.props.form.setFormStatus(e.formId,"edit"),e.props.cardTable.setStatus(e.tableId,"edit"),e.initEditMeta(e.props,e.props.meta.getMeta()),e.toggleButton(e.props),e.initEditAfterLoaddata()},this.cancelHeadAction=function(){(0,i.promptBox)({color:"warning",title:e.state.json["2101436701-0130"],content:e.state.json["2101436701-0130"],noFooter:!1,noCancelBtn:!1,beSureBtnName:e.state.json["2101436701-0119"],cancelBtnName:e.state.json["12101436701-0120"],beSureBtnClick:e.cancelSureEvent.bind(e)})},this.cancelSureEvent=function(){var t=y("cardpk",w);t&&""==t&&(t=null),e.state.copyedRows=[],"add"===e.props.getUrlParam("status")&&e.getDataForCache(t,(function(){e.doAfterCancelHeadAction()})),"edit"===e.props.getUrlParam("status")&&(e.props.form.cancel(e.formId),e.props.cardTable.resetTableData(e.tableId),e.doAfterCancelHeadAction())},this.doAfterCancelHeadAction=function(){e.props.pushTo("/card",{status:"browse",id:e.props.getUrlParam("id")}),e.props.form.setFormStatus(e.formId,"browse"),e.props.cardTable.setStatus(e.tableId,"browse"),e.initBrowseMeta(e.props,e.props.meta.getMeta()),e.toggleButton(e.props),e.initBrowseAfterLoaddata()},this.addlineClick=function(){e.props.form.getFormItemsValue(e.formId,"pk_org")&&e.props.form.getFormItemsValue(e.formId,"pk_org").value?(e.props.cardTable.addRow(e.tableId),e.props.cardTable.getAllRows(e.tableId).map((function(t){t.values.pk_group={value:window.parent.GETBUSINESSINFO().groupId,display:window.parent.GETBUSINESSINFO().groupName},t.values.pk_org=e.props.form.getFormItemsValue(e.formId,"pk_org"),t.values.pk_org_v=e.props.form.getFormItemsValue(e.formId,"pk_org_v")}))):(0,i.toast)({color:"warning",content:e.state.json["2101436701-0131"]})},this.beforeEvent=function(t,a,o,r,n){var s=e.props.meta.getMeta();return"pk_org"==o&&(console.log({"beforeEvent-pkorg":{oldvalue:n,newvalue:r}}),s[R].items.map((function(e){"pk_org"!=e.attrcode&&"pk_org_v"!=e.attrcode||(e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.mmbd.refer.pub.AppPermissionOrgRefFilter"}})}))),"cwkid"==o&&s[R].items.map((function(t){"cwkid"==t.attrcode&&(t.queryCondition=function(){var t={pk_org:e.props.form.getFormItemsValue(R,"pk_org").value};return null!=e.props.form.getFormItemsValue(R,"cdeptid")&&null!=e.props.form.getFormItemsValue(R,"cdeptid")&&(t.cdeptid=e.props.form.getFormItemsValue(R,"cdeptid").value),t})})),"cdeptvid"==o&&(console.log({"beforeEvent-cdeptvid":{oldvalue:n,newvalue:r}}),s[R].items.map((function(t){"cdeptid"!=t.attrcode&&"cdeptvid"!=t.attrcode||(t.isDataPowerEnable=!1,t.queryCondition=function(){return{pk_org:e.props.form.getFormItemsValue(R,"pk_org").value,busifuncode:"fa"}})}))),!0},this.afterEvent=function(t,a,o,r,n){"pk_org"==o&&(console.log({"afterEvent-pkorg":{oldvalue:n,newvalue:r}}),e.initAddMetaAfterOrgchange(t,n,r),e.loadDataAfterOrgchange(t,n,r),e.toggleButtonAfterOrgchange(t,n,r)),"cwkid"==o&&(e.loadDataAfterCwkidchange(r),e.loadDeptDataAfterCwkidchange(r,n)),"cdeptvid"==o&&(e.loadDataAfterDeptvidchange(r),e.loadCwkidDataAfterDeptidchange(r,n),e.updateCwkidQueryCondition(r))},this.initAddMetaAfterOrgchange=function(t,a,o){var r=e.props.meta.getMeta(),n={};null!=a.value&&""!=a.value||!o.value||""==o.value||(r[R].items.map((function(e){1==e.visible&&("cwkid.vwkname"==e.attrcode||"cdeptid.name"==e.attrcode||"cdeptvid.name"==e.attrcode||"cwkid.vwkcode"==e.attrcode||"cdeptid.code"==e.attrcode||"cdeptvid.code"==e.attrcode||"enablestate"==e.attrcode||"creator"==e.attrcode||"creationtime"==e.attrcode||"modifier"==e.attrcode||"modifiedtime"==e.attrcode?n[e.attrcode]=!0:n[e.attrcode]=!1)})),console.log({"initAddMetaAfterOrgchange-form-itemsable":n}),e.props.form.setFormItemsDisabled(R,n)),a.value&&o.value&&(a.value,o.value),a.value&&null==o.value&&(r[R].items.map((function(e){1==e.visible&&("pk_org"==e.attrcode||"pk_org_v"==e.attrcode?n[e.attrcode]=!1:n[e.attrcode]=!0)})),console.log({"initAddMetaAfterOrgchange-table-itemsable":n}),e.props.form.setFormItemsDisabled(R,n)),a.value&&o.value&&(a.value,o.value)},this.toggleButtonAfterOrgchange=function(t,a,o){var r=e.state.buttonkeys,n=[];r.map((function(e){"AddLine"==e&&n.push(e)})),null!=a.value&&""!=a.value||!o.value||""==o.value||e.props.button.setButtonDisabled(n,!1),a.value&&o.value&&a.value!=o.value&&e.props.button.setButtonDisabled(n,!1),a.value&&null==o.value&&e.props.button.setButtonDisabled(n,!0),a.value&&o.value&&a.value==o.value&&e.props.button.setButtonDisabled(n,!0)},this.loadDataAfterOrgchange=function(t,a,o){e.props.form.setFormItemsValue(e.formId,{pk_group:{value:window.parent.GETBUSINESSINFO().groupId,display:window.parent.GETBUSINESSINFO().groupName}}),e.props.form.setFormItemsValue(e.formId,{enablestate:{value:"2",display:e.state.json["2101436701-0125"]}}),null!=a.value&&""!=a.value||!o.value||""==o.value||e.loadOrgV(o.value),a.value&&o.value&&a.value!=o.value&&(0,d.showWarningDialog)(e.state.json["2101436701-0111"],e.state.json["2101436701-0132"],{beSureBtnClick:e.sureChangeOrg.bind(e)}),a.value&&null==o.value&&(0,d.showWarningDialog)(e.state.json["2101436701-0111"],e.state.json["2101436701-0132"],{beSureBtnClick:e.sureChangeOrg.bind(e)}),a.value&&o.value&&(a.value,o.value)},this.sureChangeOrg=function(){console.log("sureChangeOrg");var t=e.props.meta.getMeta(),a={};t[R].items.map((function(e){1==e.visible&&"pk_group"!=e.attrcode&&"pk_org"!=e.attrcode&&"pk_org_v"!=e.attrcode&&(a[e.attrcode]={value:"",display:""})})),console.log({"sureChangeOrg-emptyitems":a}),e.props.form.setFormItemsValue(e.formId,a),e.props.form.setFormItemsValue(e.formId,{enablestate:{value:"2",display:e.state.json["2101436701-0125"]}}),e.props.cardTable.setTableData(e.tableId,{rows:[]});var o=e.props.form.getFormItemsValue(e.formId,"pk_org").value;""!=o&&e.loadOrgV(o)},this.loadOrg=function(t){var a={pk_org_v:t};(0,i.ajax)({url:P,data:a,success:function(t){if(t.success){var a=JSON.parse(t.data[0]);e.props.form.setFormItemsValue(e.formId,{pk_org:{value:a.pk,display:a.code}})}}})},this.loadOrgV=function(t){var a={pk_org:t};(0,i.ajax)({url:O,data:a,success:function(t){if(t.success){var a=JSON.parse(t.data[0]);e.props.form.setFormItemsValue(e.formId,{pk_org_v:{value:a.pk,display:a.code}})}}})},this.loadDataAfterCwkidchange=function(t,a){var o={};t&&(o={refpk:t.value,refcode:t.refcode,refname:t.refname}),console.log({cwkidref:o}),e.props.form.setFormItemsValue(e.formId,{cwkid:{value:o.refpk,display:o.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cwkid.vwkcode":{value:o.refpk,display:o.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cwkid.vwkname":{value:o.refpk,display:o.refname}})},this.loadDataAfterDeptvidchange=function(t){var a={};if(t&&(a={refpk:t.value,refcode:t.refcode,refname:t.refname}),console.log({cdeptvref:a}),e.props.form.setFormItemsValue(e.formId,{cdeptvid:{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptvid.code":{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptvid.name":{value:a.refpk,display:a.refname}}),null==a.refpk)e.props.form.setFormItemsValue(e.formId,{cdeptid:{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptid.code":{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptid.name":{value:a.refpk,display:a.refname}});else{var o={cdeptvid:a.refpk};(0,i.ajax)({url:T,data:o,success:function(t){var a,o=JSON.parse(t.data[0]);a={refpk:o.pk,refcode:o.code,refname:o.name},e.props.form.setFormItemsValue(e.formId,{cdeptid:{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptid.code":{value:a.refpk,display:a.refcode}}),e.props.form.setFormItemsValue(e.formId,{"cdeptid.name":{value:a.refpk,display:a.refname}})}})}},this.loadDeptDataAfterCwkidchange=function(t,a){if(null!=a.value&&""!=a.value||!t.value||""==t.value||e.getDeptById(t.values.cdeptvid),a.value&&t.value&&a.value!=t.value&&e.getDeptById(t.values.cdeptvid),a.value&&null==t.value){var o={value:null,refcode:null,refname:null};e.loadDataAfterDeptvidchange(o),e.updateCwkidQueryCondition(o)}a.value&&t.value&&(a.value,t.value)},this.loadCwkidDataAfterDeptidchange=function(t,a){var o={value:null,refcode:null,refname:null};null!=a.value&&""!=a.value||!t.value||""==t.value||e.loadDataAfterCwkidchange(o),a.value&&t.value&&a.value!=t.value&&e.loadDataAfterCwkidchange(o),a.value&&null==t.value&&e.loadDataAfterCwkidchange(o),a.value&&t.value&&(a.value,t.value)},this.getDeptById=function(t){var a={cdeptvid:[t.value]};(0,i.ajax)({url:_,data:a,success:function(t){if(t.data){var a={};if(t.data.length>0){var o=JSON.parse(t.data[0]);a={value:o.pk,refcode:o.code,refname:o.name}}e.loadDataAfterDeptvidchange(a),e.updateCwkidQueryCondition(a)}}})},this.updateCwkidQueryCondition=function(t){e.props.meta.getMeta()[e.formId].items.map((function(a){1==a.visible&&"cwkid"==a.attrcode&&(a.queryCondition=function(){var a={pk_org:e.props.form.getFormItemsValue(R,"pk_org").value};return null!=t&&null!=t.value&&(a.cdeptid=e.props.form.getFormItemsValue(R,"cdeptid").value),a})}))},this.onCardTableBeforeEvent=function(t,a,o,r,n,s,l,i){return"cworkmanid"==o&&(t.meta.getMeta()[e.tableId].items.map((function(a){a.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(e.formId,"pk_org").value,busifuncode:"fa"}}})),t.meta.getMeta()[e.moretableId].items.map((function(a){a.queryCondition=function(){return{pk_org:t.form.getFormItemsValue(e.formId,"pk_org").value,busifuncode:"fa"}}}))),!0},this.deleteLineClick=function(){var t=e.props.cardTable.getCheckedRows(e.tableId);if(null!=t&&0!=t.length){var a=[];t.forEach((function(e){a.push(e.index)})),e.props.cardTable.delRowsByIndex(e.tableId,a),e.props.cardTable.selectAllRows(e.tableId,!1),e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0)}else(0,i.toast)({content:e.state.json["2101436701-0148"],color:"warning"})},this.saveClick=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.props.cardTable.filterEmptyRows(F,["cteam_bid","pk_group","pk_org","pk_org_v"]);var a=e.props.createMasterChildData(M,e.formId,e.tableId);delete a.head[R].rows[0].values.pk_taxregions;var o=e.validate(a);if(0!=o.success){var r=C;"edit"===e.props.getUrlParam("status")&&(r=B),(0,i.ajax)({url:r,data:a,success:function(a){var o=null;a.success&&(a.data&&(o=a.data.head[e.formId].rows[0].values.cteamid.value,r==C&&b(o,a.data,e.formId,w),0==t?(e.props.pushTo("/card",{status:"browse",id:o}),e.props.form.setFormStatus(e.formId,"browse"),e.props.cardTable.setStatus(e.tableId,"browse"),e.getdata(o,(function(){e.toggleButton(e.props),e.initBrowseAfterLoaddata()}))):(e.props.pushTo("/card",{status:"add"}),e.props.form.setFormStatus(e.formId,"add"),e.props.cardTable.setStatus(e.tableId,"edit"),e.getdata(o,(function(){e.props.form.EmptyAllFormValue(e.formId),e.props.table.setAllTableData(e.tableId,{rows:[]}),e.toggleButton(e.props),e.initAddAfterPageto()})))),(0,i.toast)({content:e.state.json["2101436701-0135"],color:"success"}))}})}else(0,i.toast)({content:o.msg,color:"warning"})},this.validate=function(t){var a=t.head[e.formId],o={success:!0,msg:null};if(null!=a&&1==a.rows.length)for(var r in a.rows[0].values){if("cwkid"==r&&!(1!=a.rows[0].values.bshiftflag.value&&"true"!=a.rows[0].values.bshiftflag.value||null!=a.rows[0].values[r].value&&""!=a.rows[0].values[r].value))return o={success:!1,msg:e.state.json["2101436701-0152"]};if(!("pk_org"!=r&&"pk_org_v"!=r&&"vteamcode"!=r&&"vteamname"!=r&&"cdeptid"!=r&&"cdeptvid"!=r||null!=a.rows[0].values[r].value&&""!=a.rows[0].values[r].value))return o={success:!1,msg:e.state.json["2101436701-0149"]}}var n=t.body[e.tableId];return null!=n&&n.rows.length>0&&n.rows.map((function(t){for(var a in t.values)"cworkmanid"!=a&&"dstartdate"!=a||null!=t.values[a].value&&""!=t.values[a].value||(o={success:!1,msg:e.state.json["2101436701-0150"]})})),o},this.copyLineClick=function(){var t=e.props.cardTable.getCheckedRows(e.tableId);if(null!=t&&0!=t.length){var a=!0,o=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var l=n.value;e.state.copyedRows.push(l.data)}}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0),e.props.button.setButtonVisible(["PasteLine","CopyLineCancel"],!0),e.props.cardTable.showColByKey(e.tableId,"opr2"),e.props.cardTable.setAllCheckboxAble(e.tableId,!1)}else(0,i.toast)({content:e.state.json["2101436701-0151"],color:"warning"})},this.copyLineCancelClick=function(){e.props.cardTable.selectAllRows(e.tableId,!1),e.state.copyedRows=[],e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0),e.props.button.setButtonVisible(["PasteLine","CopyLineCancel"],!1),e.props.cardTable.hideColByKey(e.tableId,"opr2"),e.props.cardTable.setAllCheckboxAble(e.tableId,!0)},this.pasteLineClick=function(){var t=e.state.copyedRows;if(null!=t&&0!=t.length){t.map((function(e){e.values.cteam_bid.value="",e.selected=!1}));var a=e.props.cardTable.getNumberOfRows(e.tableId);e.props.cardTable.insertRowsAfterIndex(e.tableId,t,a),e.props.cardTable.selectAllRows(e.tableId,!1),e.state.copyedRows=[],e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0),e.props.button.setButtonVisible(["PasteLine","CopyLineCancel"],!1),e.props.cardTable.hideColByKey(e.tableId,"opr2"),e.props.cardTable.setAllCheckboxAble(e.tableId,!0)}else(0,i.toast)({content:e.state.json["2101436701-0151"],color:"warning"})},this.modelSave=function(t){t.cardTable.closeModel(e.tableId),e.saveClick()},this.getButtonNames=function(e){return"edit"===e||"add"===e||"save"===e?"main-button":"secondary - button"},this.getTableHead=function(){var t=e.props.button.createButtonApp;e.props.button.getButtons(),e.props.getUrlParam("status");return l.default.createElement("div",{className:"shoulder-definition-area"},l.default.createElement("div",{className:"definition-icons",style:{padding:"0px"}},t({area:"body-action",onButtonClick:e.buttonClick.bind(e)}),e.props.cardTable.createBrowseIcons(e.tableId,{iconArr:["close","open","max","setCol"],maxDestAreaId:"nc-bill-card"})))}},o);x=(0,i.createPage)({initTemplate:[]})(x),t.default=x},185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),l=a(2),i=u(l),d=(u(a(3)),a(1)),c=(a(7),a(156),a(143));function u(e){return e&&e.__esModule?e:{default:e}}d.base.NCPopconfirm;var p=d.base.NCCheckbox,f=(d.base.NCIcon,d.base.NCTabs.NCTabPane,d.high.PrintOutput),b="mmbd.team.team01.data",m="10140TEAMM_list",h="teamquery",v="teamhead",g="cteamid",k="/nccloud/mmbd/team01/queryTeamList.do",y="/nccloud/mmbd/team01/delTeam.do",w="/nccloud/mmbd/team01/print.do",I=d.cardCache.getDefData,C=d.cardCache.setDefData,B=(o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.call(a),a.searchId=h,a.tableId=v,a.selectedRowRecords=[],a.state={showOffDisable:!1,isShowOff:!!I("isShowOff",b)&&I("isShowOff",b),pk_org:null,index:-1,json:{},pks:[],reloaddata:!!I("reloaddata",b)&&I("reloaddata",b),showRefUnit:!1},a.searchVal=null,a.changeEnableInfo={title:"",content:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"modifierMeta",value:function(e,t){var a=this;return t[v].pagination=!0,t[h].items=t[h].items.map((function(e,t){return e.col="3",e})),t[v].items=t[v].items.map((function(t,o){return"vteamcode"==t.attrcode&&(t.render=function(t,o,r){return i.default.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(t){var r=e.search.getAllSearchData(h);d.cacheTools.set("searchParams",r),t.stopPropagation(),e.table.selectAllRows(v,!1),C("isShowOff",b,a.state.isShowOff),e.pushTo("/card",{status:"browse",id:o.cteamid.value})}},o&&o.vteamcode&&o.vteamcode.value)},"vteamcode"==t.attrcode&&(t.isSort=!0)),t})),t[v].items.push({itemtype:"customer",attrcode:"opr",label:this.state.json?this.state.json["2101436701-0101"]:"2101436701-0101",width:200,fixed:"right",className:"table-opr",visible:!0,render:function(t,o,r){return e.button.createOprationButton(["Edit","Del"],{area:"list-inner",buttonLimit:2,onButtonClick:function(e,n){a.onTableButtonClick.bind(a)(e,n,t,o,r)}})}}),t[h].items.forEach((function(e){"pk_org"==e.attrcode&&(e.isHasDisabledData=!0,e.isShowDisabledData=!0,e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.mmbd.refer.pub.AppPermissionOrgRefFilter"}}),"cwkid"==e.attrcode&&(e.isHasDisabledData=!0,e.isShowDisabledData=!0,e.queryCondition=function(){return{pk_org:a.props.search.getSearchValByField(h,"pk_org").value.firstvalue}}),"cdeptid"==e.attrcode&&(e.isHasDisabledData=!0,e.isShowDisabledData=!0,e.queryCondition=function(){return{pk_org:a.props.search.getSearchValByField(h,"pk_org").value.firstvalue,busifuncode:"fa"}}),"cresponsibler"==e.attrcode&&(e.queryCondition=function(){return{pk_org:a.props.search.getSearchValByField(h,"pk_org").value.firstvalue,busifuncode:"fa"}})})),t}},{key:"componentDidMount",value:function(){var e=this;this.props.MultiInit.getMultiLang({moduleId:"10140TEAMM",domainName:"uapbd",callback:function(t,a,o){a&&e.setState({json:t,inlt:o},(function(){e.initTemplate(e.props)}))}}),this.props.MultiInit.getMultiLang({moduleId:"10140MMPUBMSG",domainName:"uapbd",callback:function(t,a,o){a&&e.setState({pubjson:n({},t)})}}),this.props.button.setButtonDisabled(["Enable","Disable","Print","Output","Delete"],!0),this.props.button.setButtonDisabled(["Add","Refresh"],!1);var t=this.props.getUrlParam("back");null!=t&&"back"==t&&console.log({2:this.props.table.getAllTableData(v)})}},{key:"output",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.table.getCheckedRows(v);if(0!=t.length){var a=[],o=!0,r=!1,n=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var i=s.value;a.push(i.data.values.cteamid.value)}}catch(e){r=!0,n=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw n}}""!=e&&(0,d.print)("pdf",w,{funcode:"10140TEAMM",nodekey:"10140TEAM_Print",oids:a,outputType:e}),this.props.table.selectAllRows(v,!1)}else(0,d.toast)({color:"warning",content:this.state.json["2101436701-0154"]})}},{key:"clickSearchBtn",value:function(e,t){var a=this;this.searchVal=t,C("searchParams",b,t),this.getData(t,this.state.isShowOff,!0,(function(e){e&&e>0?(a.props.button.setButtonDisabled(["Refresh"],!1),(0,d.toast)({color:"success",content:a.state.inlt&&a.state.inlt.get("2101436701-0116",{count:e})})):(0,d.toast)({color:"warning",content:a.state.json["2101436701-0110"]})}))}},{key:"enable",value:function(){null!=this.selectedRowRecords&&0!=this.selectedRowRecords.length?this.changeEnableClick():(0,d.toast)({content:this.state.json["2101436701-0141"],color:"warning"})}},{key:"disable",value:function(){null!=this.selectedRowRecords&&0!=this.selectedRowRecords.length?this.changeDisableClick():(0,d.toast)({content:this.state.json["2101436701-0142"],color:"warning"})}},{key:"changeEnableClick",value:function(){var e=this,t=[],a=[];this.selectedRowRecords.forEach((function(e){2!=e.data.values.enablestate.value&&(t.push(e.data.values.cteamid.value),a.push(e.data.values.ts.value))})),t.length<=0?(0,d.toast)({color:"success",title:this.state.json["2101436701-0156"]}):(0,d.ajax)({url:"/nccloud/mmbd/team01/changeEnableTeam.do",data:{ids:t,tss:a},success:function(t){(0,d.toast)({color:"success",title:e.state.json["2101436701-0126"]}),e.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0),e.props.table.selectAllRows(v,!1),e.refreshAction(e.props)}})}},{key:"changeDisableClick",value:function(){var e=this,t=[],a=[];this.selectedRowRecords.forEach((function(e){3!=e.data.values.enablestate.value&&(t.push(e.data.values.cteamid.value),a.push(e.data.values.ts.value))})),t.length<=0?(0,d.toast)({color:"success",title:this.state.json["2101436701-0157"]}):(0,d.ajax)({url:"/nccloud/mmbd/team01/changeDisableTeam.do",data:{ids:t,tss:a},success:function(t){(0,d.toast)({color:"success",title:e.state.json["2101436701-0127"]}),e.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0),e.refreshAction(e.props)}})}},{key:"buttonClick",value:function(e,t){var a=this;switch(t){case"Add":var o=e.search.getAllSearchData(h);d.cacheTools.set("searchParams",o),e.table.selectAllRows(v,!1),C("isShowOff",b,this.state.isShowOff),e.pushTo("/card",{status:"add"});break;case"Delete":if(null==this.selectedRowRecords||0==this.selectedRowRecords.length)return void(0,d.toast)({content:this.state.json["2101436701-0140"],color:"warning"});(0,d.promptBox)({color:"warning",title:this.state.pubjson["10140PUBMESSAGE-000009"],content:this.state.pubjson["10140PUBMESSAGE-000010"],noFooter:!1,noCancelBtn:!1,beSureBtnName:this.state.pubjson["10140PUBMESSAGE-000029"],cancelBtnName:this.state.pubjson["10140PUBMESSAGE-000007"],beSureBtnClick:this.deleteAction.bind(this)});break;case"Refresh":this.refreshAction(e,!0);break;case"Print":if(o=e.search.getAllSearchData(h),d.cacheTools.set("searchParams",o),null==this.selectedRowRecords||0==this.selectedRowRecords.length)return void(0,d.toast)({content:this.state.json["2101436701-153"],color:"warning"});C("isShowOff",b,this.state.isShowOff),this.output("print"),this.selectedRowRecords=[],this.props.table.selectAllRows(v,!1),this.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0);break;case"Enable":this.enable();break;case"Disable":this.disable();break;case"Output":var r=[],n=this.props.table.getCheckedRows(v),s=!0,l=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;r.push(p.data.values.cteamid.value)}}catch(e){l=!0,i=e}finally{try{!s&&u.return&&u.return()}finally{if(l)throw i}}this.setState({pks:r},(function(){a.refs.printOutput.open()})),this.selectedRowRecords=[],this.props.table.selectAllRows(v,!1),this.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0)}}},{key:"render",value:function(){var e=this.props,t=e.table,a=e.button,o=e.search,r=(e.base,e.modal),n=e.editTable,s=this.props.button.getButtons();s=s.sort((function(e,t){return t.btnorder-e.btnorder}));var l=t.createSimpleTable,d=(n.createEditTable,o.NCCreateSearch),c=(r.createModal,a.createButtonApp);a.getButtons;return i.default.createElement("div",{className:"nc-bill-list"},i.default.createElement("div",{className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-title-search-area"},i.default.createElement("h2",{className:"title-search-detail"},this.state.json?this.state.json["2101436701-0004"]:"2101436701-0004")),i.default.createElement("span",{className:"showOff"},i.default.createElement(p,{disabled:this.state.disabledShowOff,defaultChecked:!1,checked:this.state.isShowOff,onChange:this.onCheckBoxChange,size:"lg"},this.state.json["2101436701-0115"])),i.default.createElement("div",{className:"header-button-area"},c({area:"list-area",buttonLimit:3,onButtonClick:this.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")}))),i.default.createElement("div",{className:"nc-bill-search-area"},d(this.searchId,{clickSearchBtn:this.clickSearchBtn.bind(this),onAfterEvent:this.onAfterEvent.bind(this),defaultConditionsNum:5})),i.default.createElement("div",{className:"nc-bill-table-area"},l(this.tableId,{dataSource:b,pkname:g,tableModelConfirm:this.tableModelConfirm,showIndex:!0,showCheck:!0,handlePageInfoChange:this.pageInfoClick.bind(this),onRowDoubleClick:this.doubleClick.bind(this),onSelected:this.onSelected.bind(this),onSelectedAll:this.onSelected.bind(this)})),i.default.createElement(f,{ref:"printOutput",url:w,data:{funcode:"10140TEAMM",nodekey:"10140TEAM_Print",oids:this.state.pks,outputType:"output"}}))}}]),t}(l.Component),r=function(){var e=this;this.initTemplate=function(t){t.createUIDom({pagecode:m},(function(a){if(a){if(a.template){var o=a.template;o=e.modifierMeta(t,o),t.meta.setMeta(o),!I("searchParams",b)||e.props.search.setSearchValue(h,I("searchParams",b));var r=e.props.getUrlParam("back");null!=r&&"back"==r&&console.log({1:e.props.table.getAllTableData(v)})}if(a.button){var n=a.button;t.button.setButtons(n),t.button.setButtonDisabled(["Enable","Disable","Print","Output","Delete"],!0),t.button.setButtonDisabled(["Add","Refresh"],!1)}}}))},this.onTableButtonClick=function(t,a,o,r,n){switch(console.log(a),a){case"Edit":t.table.selectAllRows(v,!1),C("isShowOff",b,e.state.isShowOff),t.pushTo("/card",{status:"edit",id:r.cteamid.value});break;case"Del":var s=[r.cteamid.value],l=[r.ts.value];(0,d.promptBox)({color:"warning",content:e.state.json["2101436701-0103"],beSureBtnClick:function(){(0,d.ajax)({url:y,data:{ids:s,tss:l},success:function(a){a.success&&((0,d.toast)({color:"success",content:e.state.json["2101436701-0104"]}),(0,t.table.deleteCacheId)(v,r.cteamid.value),t.table.deleteTableRowsByIndex(v,n))}})}})}},this.doubleClick=function(t,a,o,r){e.props.table.selectAllRows(v,!1),C("isShowOff",b,e.state.isShowOff),e.props.pushTo("/card",{status:"browse",id:t.cteamid.value})},this.onSelected=function(t,a,o,r){var n=e.props.table.getCheckedRows(v);if(n.length>0){if(e.selectedRowRecords=n,e.props.button.setButtonDisabled(["Enable","Disable","Print","Output","Delete"],!1),1==n.length){var s=n[0].data.values.enablestate;s&&(2==s.value||"2"==s.value?e.props.button.setButtonDisabled(["Enable"],!0):e.props.button.setButtonDisabled(["Disable"],!0))}}else e.selectedRowRecords=[],e.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0)},this.refreshAction=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.selectedRowRecords=[];var o=e.props.search.getAllSearchData(h);o&&e.getData(o,e.state.isShowOff,!1,(function(t){a&&(e.props.button.setButtonDisabled(["Delete","Enable","Disable","Print","Output"],!0),(0,d.toast)({title:e.state.json["2101436701-0106"],color:"success"}))}))},this.onAfterEvent=function(t,a,o,r,n){if("pk_org"===t){var s=e.props.meta.getMeta()[h].items;if(a.length>1||0==a.length){var l=!0,i=!1,d=void 0;try{for(var u,p=s[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var f=u.value;"cdeptid"==f.attrcode&&(f.isShowUnit=!0),"cresponsibler"==f.attrcode&&(f.isShowUnit=!0),"cwkid"==f.attrcode&&(f.isShowUnit=!0,f.unitProps=c.conf,f.unitProps.queryCondition=function(){return{GridRefActionExt:"nccloud.web.mmbd.refer.pub.AppPermissionOrgRefFilter"}})}}catch(e){i=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(i)throw d}}}else{var b=!0,m=!1,v=void 0;try{for(var g,k=s[Symbol.iterator]();!(b=(g=k.next()).done);b=!0){var y=g.value;"cdeptid"==y.attrcode&&(y.isShowUnit=!1),"cresponsibler"==y.attrcode&&(y.isShowUnit=!1),"cwkid"==y.attrcode&&(y.isShowUnit=!1)}}catch(e){m=!0,v=e}finally{try{!b&&k.return&&k.return()}finally{if(m)throw v}}}e.props.search.setSearchValByField(h,"cdeptid",{value:"",display:""}),e.props.search.setSearchValByField(h,"cresponsibler",{value:"",display:""}),e.props.search.setSearchValByField(h,"cwkid",{value:"",display:""})}},this.getData=function(t,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var o=arguments[3],r=e.props.search.getQueryInfo(h),s=r.oid,l=n({},r,{pageInfo:{pageIndex:0,pageSize:10,total:0,totalPage:0},pagecode:m,queryAreaCode:h,oid:s,queryType:"simple",showDisable:a}),i="",c=!0,u=!1,p=void 0;try{for(var f,b=t.conditions[Symbol.iterator]();!(c=(f=b.next()).done);c=!0){var g=f.value;"pk_org"===g.field&&(i=g.field)}}catch(e){u=!0,p=e}finally{try{!c&&b.return&&b.return()}finally{if(u)throw p}}i?(0,d.ajax)({url:k,data:l,success:function(t){var a=t.success,r=t.data;if(a){var n=0;if(r){if(e.selectedRowRecords=[],r.warning)return void(0,d.toast)({color:"warning",content:r.warning});var s=[];r[v].allpks.forEach((function(e){s.push(e)})),r[v].rows.forEach((function(t){var a=t.values.bshiftflag.value;t.values.bshiftflag={value:a,display:a?e.state.json["2101436701-0143"]:e.state.json["2101436701-0144"]}})),t.data[v].allpks=s,e.props.table.setAllTableData(v,r[v]),d.cacheTools.set("allpks",s),n=s.length}else e.props.button.setButtonDisabled(["Delete","Refresh","Print","Output","Enable","Disable"],!0),e.props.table.setAllTableData(e.tableId,{rows:[]});o&&o(n)}}}):(0,d.toast)({color:"warning",content:e.state.json["2101436701-0155"]})},this.deleteAction=function(t){var a=[],o=[],r=[];e.selectedRowRecords.forEach((function(e){a.push(e.data.values.cteamid.value),o.push(e.data.values.ts.value),r.push(e.index)}));var n={ids:a,tss:o};(0,d.ajax)({url:y,data:n,success:function(a){(0,d.toast)({content:e.state.pubjson["10140PUBMESSAGE-000028"],color:"success"}),e.props.table.selectAllRows(v,!1),e.refreshAction(t)}})},this.pageInfoClick=function(t,a,o){var r=t.editTable.getTablePageInfo(e.tableId),s=t.search.getAllSearchData(h),l=e.props.search.getQueryInfo(h),i=e.props.meta.getMeta()[h].oid;e.props.table.selectAllRows(v,!1),e.selectedRowRecords=[];var c=n({},l,{showDisableDataFlag:e.state.checkValue,querycondition:s,pageCode:m,queryAreaCode:h,oid:i,querytype:"simple",pageInfo:r,pagepks:o}),u=e;(0,d.ajax)({url:"/nccloud/mmbd/team01/queryTeamList.do",data:c,success:function(e){var a=e.success,o=e.data;a&&(e.data[v].rows.forEach((function(e){var t=e.values.bshiftflag.value;e.values.bshiftflag={value:t,display:t?u.state.json["2101436701-0143"]:u.state.json["2101436701-0144"]}})),o?t.table.setAllTableData(v,o[v]):t.table.setAllTableData(attrcodetableId,{rows:[]}))}})},this.onCheckBoxChange=function(){e.state.disabledShowOff||e.setState({isShowOff:!e.state.isShowOff},(function(){var t=e.props.search.getAllSearchData(h);t&&e.getData(t,e.state.isShowOff)}))}},o);B=(0,d.createPage)({initTemplate:[],mutiLangCode:"10140TEAMM"})(B),t.default=B},2:function(e,a){e.exports=t},210:function(e,t,a){"use strict";var o,r,n,s=a(1),l=a(211),i=(o=l)&&o.__esModule?o:{default:o};r=i.default,n="app",(0,s.RenderRouter)(r,n)},211:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=a(1),n=a(185),s=(o=n)&&o.__esModule?o:{default:o};var l=(0,r.asyncComponent)((function(){return Promise.resolve().then(a.t.bind(null,184,7))})),i=[{path:"/",component:s.default,exact:!0},{path:"/list",component:s.default},{path:"/card",component:l}];t.default=i},3:function(e,t){e.exports=a},4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(r,o({},n,e))};var r=a(1).high.Refer,n=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWarningDialog=t.showBatchOprMessage=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(1);var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer"),(0,r.getMultiLang)({moduleId:"10140MMPUBMSG",domainName:"uapbd",callback:this.init.bind(this),needInlt:!0})}return o(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function s(e,t,a,o,n,s,l,i,d){(0,r.toast)({duration:a,color:o,title:e,content:t,groupOperation:n,TextArr:s,groupOperationMsg:l,onExpand:i,onClose:d})}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];(0,r.promptBox)({color:o,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getLangByResId("10140PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=t.failedNum?t.failedNum:0,i=t.sucessNum;if(0==l)!function(e,t,a){s(e,t,a)}(n.getLangByResId("10140PUBMESSAGE-000018",{0:o}),n.getLangByResId("10140PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==i){e=n.getLangByResId("10140PUBMESSAGE-000019",{0:o});var d=n.getLangByResId("10140PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:d,groupOperation:!0,TextArr:[n.getLangByResId("10140PUBMESSAGE-000000"),n.getLangByResId("10140PUBMESSAGE-000001"),n.getLangByResId("10140PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=n.getLangByResId("10140PUBMESSAGE-000019",{0:o});var c=n.getLangByResId("10140PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:c,groupOperation:!0,TextArr:[n.getLangByResId("10140PUBMESSAGE-000000"),n.getLangByResId("10140PUBMESSAGE-000001"),n.getLangByResId("10140PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showWarningDialog=function(e,t){l(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}}})}));
//# sourceMappingURL=index.ce6dfbc2.js.map