/*! @ncctag {"project":"","branch":"","provider":"","date":"2020-5-10 14:43:09"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["nc-lightapp-front"],t):"object"==typeof exports?exports["uapbd/customer/customer_base/checkAssignOrg/index"]=t(require("nc-lightapp-front")):e["uapbd/customer/customer_base/checkAssignOrg/index"]=t(e["nc-lightapp-front"])}(window,(function(e){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=163)}({1:function(t,a){t.exports=e},150:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,s){var l=this,o=e.config,i=o.NODE_TYPE,r=o.pagecode;(0,n.ajax)({url:"/nccloud/uapbd/customer/baseAction.do",data:{actionName:t,pk_customer:a.value,NODE_TYPE:i,pagecode:r,areacode:"assignOrgtable"},success:function(t){var a=t.success,n=t.data;a&&(n?(n.assignOrgtable?(e.table.setAllTableData("assignOrgtable",n.assignOrgtable),s&&s.call(l,n.assignOrgtable.rows)):(e.table.setAllTableData("assignOrgtable",{rows:[]}),s&&s.call(l,[])),e.form.setFormItemsValue("assignOrgCustInfo",{name:n.assignOrgtable.rows[0].values["pk_customer.name"],code:n.assignOrgtable.rows[0].values["pk_customer.code"]})):(e.table.setAllTableData("assignOrgtable",{rows:[]}),s&&s.call(l,[])),e.button.setButtonDisabled(["assignModalEnable","assignEnable","assignModalDisable"],!0))}})};var n=a(1)},163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.button,a=e.table,n=e.form.createForm,s=a.createSimpleTable,l=t.createButtonApp;return React.createElement("div",{className:""},React.createElement("div",{className:""},React.createElement("div",null,React.createElement("div",{className:"header-button-area",style:{textAlign:"right",marginBottom:"8px"}},l({area:"assignOrg-modal-button",onButtonClick:c.bind(this),popContainer:document.querySelector("#header-button-area")}))),React.createElement("div",{className:"nc-bill-form-area"},n("assignOrgCustInfo")),React.createElement("div",{className:"nc-bill-table-area"},s("assignOrgtable",{onSelected:r.bind(this),onSelectedAll:i.bind(this),showIndex:!0,showCheck:!0}))))};var n=a(1),s=o(a(4)),l=o(a(150));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a,n){e.button.setButtonDisabled(["assignModalEnable","assignEnable","assignModalDisable"],!a)}function r(e,t,a,n,s){var l=e.table.getCheckedRows(t);0===l.length?e.button.setButtonDisabled(["assignModalEnable","assignEnable","assignModalDisable"],!0):l.length>1?e.button.setButtonDisabled(["assignModalEnable","assignEnable","assignModalDisable"],!1):(e.button.setButtonDisabled(["assignModalEnable","assignEnable"],"2"==l[0].data.values.enablestate.value),e.button.setButtonDisabled(["assignModalDisable"],"2"!=l[0].data.values.enablestate.value))}function c(e,t){var a=this,s=[],l=e.table.getCheckedRows("assignOrgtable");if(0!==l.length)switch(0===l.length||l.map((function(e){s.push(e.data.values.enablestate.value)})),t){case"assignEnable":case"assignModalEnable":s.includes("2")||u.call(this,e,t,l,(function(){e.button.setButtonDisabled(["assignModalEnable","assignEnable"],!0),(0,n.toast)({color:"success",title:a.state.json["10140CUST-000020"]})})),s.includes("2")&&(0,n.toast)({color:"warning",content:this.state.json["10140CUST-000021"]});break;case"assignModalDisable":s.includes("3")||u.call(this,e,t,l,(function(){e.button.setButtonDisabled(["assignModalDisable"],!0),(0,n.toast)({color:"success",title:a.state.json["10140CUST-000020"]})})),s.includes("3")&&(0,n.toast)({color:"warning",content:this.state.json["10140CUST-000022"]})}else(0,n.toast)({color:"warning",title:this.state.json["10140CUST-000019"]})}function u(e,t,a,o){var i=this,r="assignModalDisable"===t?this.state.json["10140CUST-000023"]:this.state.json["10140CUST-000024"];s.default.call(this,{title:this.state.json["10140CUST-000025"],content:r,beSureBtnClick:function(){(0,n.ajax)({url:"/nccloud/uapbd/customer/assignOrgEnableDisable.do",data:{model:{areacode:"assignOrgtable",rows:[a[0].data],pageInfo:e.table.getTablePageInfo("assignOrgtable")},pageid:e.config.pagecode,userjson:t},success:function(t){var n=t.success,s=t.data;n&&s&&(l.default.call(i,e,"btnCheckOrg",a[0].data.values.pk_customer),o.call(i))}})}})}},4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.title,a=e.content,s=e.beSureBtnClick,l=e.cancelBtnClick,o=e.closeBtnClick,i=e.leftBtnName,r=e.rightBtnName;(0,n.promptBox)({color:"warning",title:t,content:a,noFooter:!1,noCancelBtn:!1,beSureBtnName:i||this.state.json["beSureBtnName-001"],cancelBtnName:r||this.state.json["cancelBtnName-001"],hasCloseBtn:!1,beSureBtnClick:s,cancelBtnClick:l,closeBtnClick:o,closeByClickBackDrop:!0})};var n=a(1)}})}));
//# sourceMappingURL=index.684b00c4.js.map