!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["nc-lightapp-front"],t):"object"==typeof exports?exports["uapbd/qualitylevel/list/init/index"]=t(require("nc-lightapp-front")):e["uapbd/qualitylevel/list/init/index"]=t(e["nc-lightapp-front"])}(window,(function(e){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=31)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AREA={pageArea:"10140QL_list",headTableArea:"head",bodyTableArea:"body",printArea:"10140QL",oid:"1002Z81000000000OPNU"},t.STATUS={browse:"browse",edit:"edit"},t.URL={search:"/nccloud/scmf/qualitylevel/search.do",query:"/nccloud/scmf/qualitylevel/query.do",queryBody:"/nccloud/scmf/qualitylevel/querybody.do",save:"/nccloud/scmf/qualitylevel/save.do",delete:"/nccloud/scmf/qualitylevel/delete.do",print:"/nccloud/scmf/qualitylevel/print.do"},t.BUTTON={list_head:"list_head",list_head_inner:"list_head_inner",list_body:"list_body",list_body_inner:"list_body_inner",add:"Add",delete:"Delete",edit:"Edit",save:"Save",show:"Show",cancel:"Cancel",copy:"Copy",commit:"Commit",unCommit:"UnCommit",deleteLine:"DeleteLine",addLine:"AddLine",refresh:"Refresh",print:"Print"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateShowIndexUtil=t.print_BtnClick=t.btnVisible_BtnClick=t.batchDeleteRow_BtnClick=t.addRow_BtnClick=t.searchButton_BtnClick=t.edit_BtnClick=t.save_BtnClick=t.cancel_BtnClick=t.batchDelete_BtnClick=t.add_BtnClick=t.delete_BtnClick=t.deleteRow_BtnClick=t.onRow_BtnClick=t.search_BtnClick=t.onBodyInner_BtnClick=t.onBody_BtnClicks=t.onHeadInner_BtnClick=t.onHead_BtnClicks=void 0;var n=R(a(6)),l=R(a(7)),o=R(a(8)),i=R(a(9)),d=R(a(10)),s=R(a(11)),r=R(a(12)),u=R(a(13)),c=R(a(14)),b=R(a(15)),f=R(a(16)),h=R(a(17)),T=R(a(22)),g=R(a(23)),A=R(a(24)),y=R(a(25)),p=R(a(26)),B=R(a(27)),v=R(a(28));function R(e){return e&&e.__esModule?e:{default:e}}t.onHead_BtnClicks=l.default,t.onHeadInner_BtnClick=i.default,t.onBody_BtnClicks=o.default,t.onBodyInner_BtnClick=d.default,t.search_BtnClick=n.default,t.onRow_BtnClick=s.default,t.deleteRow_BtnClick=r.default,t.delete_BtnClick=u.default,t.add_BtnClick=c.default,t.batchDelete_BtnClick=b.default,t.cancel_BtnClick=f.default,t.save_BtnClick=h.default,t.edit_BtnClick=T.default,t.searchButton_BtnClick=g.default,t.addRow_BtnClick=A.default,t.batchDeleteRow_BtnClick=y.default,t.btnVisible_BtnClick=p.default,t.print_BtnClick=B.default,t.calculateShowIndexUtil=v.default},function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLangByResId=t.initLang=void 0;var n=a(2);t.initLang=function(e,t,a,l){e.lang=null,e.inlt=null,(0,n.getMultiLang)({moduleId:t,domainName:a,callback:function(t,a,n){a&&(e.lang=t,e.inlt=n),l&&l()},needInlt:!0})},t.getLangByResId=function(e,t,a){return function(e,t){if(!e)throw(0,n.toast)({color:"danger",content:"请检查代码中this是否能够取到！当前为undifined,位置："+t}),new Error("请检查代码中this是否能够取到！当前为undifined,位置："+t)}(e,t),a?e.inlt?e.inlt.get(t,a)||t:"":e.lang?e.lang[t]||t:""}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showQueryResultInfoForNoPage=t.showSaveInfo=t.showRefreshInfo=t.showNoQueryResultInfo=t.showHasQueryResultInfo=t.showChangeOrgDialog=t.showDeleteDialog=t.showSingleDeleteDialog=t.showCancelDialog=t.showBatchOperateInfo=t.showBatchOprMessage=t.showWarningDialog=t.showErrorDialog=t.showInfoDialog=t.showSuccessDialog=t.showInfoInfo=t.showErrorInfo=t.showWarningInfo=t.showSuccessInfo=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2);var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer初始化"),(0,l.getMultiLang)({moduleId:"4001pubmessage",domainName:"uapbd/scmbase",callback:this.init.bind(this),needInlt:!0})}return n(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function i(e,t,a){s(e,t,a)}function d(e,t,a){s(e,t,a,"warning")}function s(e,t,a,n,o,i,d,s,r){(0,l.toast)({duration:a,color:n,title:e,content:t,groupOperation:o,TextArr:i,groupOperationMsg:d,onExpand:s,onClose:r})}function r(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];(0,l.promptBox)({color:n,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}function c(){d(null,o.getLangByResId("4001PUBMESSAGE-000016"))}t.showSuccessInfo=i,t.showWarningInfo=d,t.showErrorInfo=function(e,t){s(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"infinity","danger")},t.showInfoInfo=function(e,t,a){s(e,t,a,"info")},t.showSuccessDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},t.showInfoDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"info")},t.showErrorDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"danger")},t.showWarningDialog=r,t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",d=t.failedNum,s=t.sucessNum;if(0==d)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:n}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==s){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var r=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,l.toast)({duration:"infinity",color:"danger",title:e,content:r,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var u=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,l.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showBatchOperateInfo=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(e,t,"infinity","warning",!0,[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],a,n.onExpand,n.onClose)},t.showCancelDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000007"),o.getLangByResId("4001PUBMESSAGE-000008"),e)},t.showSingleDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000010"),e)},t.showDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000011"),e)},t.showChangeOrgDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000012"),o.getLangByResId("4001PUBMESSAGE-000013"),e)},t.showHasQueryResultInfo=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):i(o.getLangByResId("4001PUBMESSAGE-000014"))},t.showNoQueryResultInfo=c,t.showRefreshInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000017"))},t.showSaveInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000023"))},t.showQueryResultInfoForNoPage=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):c()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonControl=void 0;var n=a(3),l=a(0);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){}function d(){var e;this.props.button.hideButtonsByAreas([l.BUTTON.list_head,l.BUTTON.list_body]),this.props.button.setPopContent(l.BUTTON.delete,(0,n.getLangByResId)(this,"1014QUALITYLEVEL-000003"));var t=this.props.editTable.getStatus(l.AREA.headTableArea)!==l.STATUS.edit;this.props.button.setButtonVisible([l.BUTTON.edit,l.BUTTON.add,l.BUTTON.delete,l.BUTTON.print,l.BUTTON.refresh],t),this.props.button.setButtonVisible([l.BUTTON.save,l.BUTTON.cancel],!t);var a=!(this.props.editTable.getCheckedRows(l.AREA.headTableArea).length>0);this.props.button.setDisabled((o(e={},l.BUTTON.delete,a),o(e,l.BUTTON.print,a),e)),t?(this.state.searchDisable=!1,this.state.headShowCheck=!0,this.props.editTable.showColByKey(l.AREA.headTableArea,"opr")):(this.state.searchDisable=!0,this.state.headShowCheck=!1,this.props.editTable.hideColByKey(l.AREA.headTableArea,"opr"));var i=this.props.editTable.getStatus(l.AREA.bodyTableArea)!==l.STATUS.edit;this.props.button.setButtonVisible([l.BUTTON.addLine,l.BUTTON.deleteLine],!i),i?(this.state.bodyShowCheck=!1,this.props.editTable.hideColByKey(l.AREA.bodyTableArea,"opr")):(this.state.bodyShowCheck=!0,this.props.editTable.showColByKey(l.AREA.bodyTableArea,"opr"));var d=!(this.props.editTable.getCheckedRows(this.bodyTableid).length>0);this.props.button.setDisabled(o({},l.BUTTON.deleteLine,d))}function s(){}function r(){}function u(){}t.buttonControl=function(){i.call(this),d.call(this),s.call(this),r.call(this),u.call(this)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;(0,n.ajax)({url:l.URL.query,data:{},success:function(n){n.formulamsg&&n.formulamsg instanceof Array&&n.formulamsg.length>0&&e.dealFormulamsg(n.formulamsg),n.data&&(void 0===n.data.head?e.editTable.setTableData(l.AREA.headTableArea,{rows:[]}):(e.editTable.setTableData(l.AREA.headTableArea,n.data.head[l.AREA.headTableArea]),e.editTable.focusRowByIndex(l.AREA.headTableArea,0)),void 0===n.data.body?e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(l.AREA.bodyTableArea,n.data.body[l.AREA.bodyTableArea]),a.keyWordChange(a.state.value)),"refresh"==t&&(0,o.showRefreshInfo)()}})};var n=a(2),l=a(0),o=a(4)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case l.BUTTON.add:n.add_BtnClick.call(this,e);break;case l.BUTTON.delete:n.batchDelete_BtnClick.call(this,e);break;case l.BUTTON.save:n.save_BtnClick.call(this,e);break;case l.BUTTON.cancel:n.cancel_BtnClick.call(this,e);break;case l.BUTTON.print:n.print_BtnClick.call(this,e);break;case l.BUTTON.refresh:n.search_BtnClick.call(this,e,"refresh")}};var n=a(1),l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case l.BUTTON.addLine:n.addRow_BtnClick.call(this,e);break;case l.BUTTON.deleteLine:n.batchDeleteRow_BtnClick.call(this,e)}};var n=a(1),l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,i){switch(t){case n.BUTTON.delete:l.delete_BtnClick.call(this,e,o);break;case n.BUTTON.edit:l.edit_BtnClick.call(this,e,o)}};var n=a(0),l=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){switch(t){case l.BUTTON.deleteLine:n.deleteRow_BtnClick.call(this,e,o)}};var n=a(1),l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){if(e.editTable.getStatus(l.AREA.headTableArea)===l.STATUS.edit)return void e.editTable.focusRowByIndex(l.AREA.headTableArea,this.selectIndex);setTimeout((function(){var t=null;null!=a?t=a.values.pk_qualitylv.value:t=e.editTable.getVisibleRows(l.AREA.headTableArea,!1,!0)[o].values.pk_qualitylv.value;(0,n.ajax)({url:l.URL.queryBody,data:t,success:function(t){void 0===t.data||void 0===t.data.body?e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(l.AREA.bodyTableArea,t.data.body[l.AREA.bodyTableArea])}})}),10)};var n=a(2),l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.editTable.deleteTableRowsByIndex(n.AREA.bodyTableArea,t)};var n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,s=new Array;if(e.editTable.getStatus(l.AREA.headTableArea)===l.STATUS.edit)return void e.editTable.deleteTableRowsByIndex(l.AREA.headTableArea,t);if(null!=t){var r=e.editTable.getValByKeyAndIndex(l.AREA.headTableArea,t,"pk_qualitylv").value;s.push(r)}else{var u=e.editTable.getCheckedRows(l.AREA.headTableArea);if(0==u.length)return;for(var c=0;c<u.length;c++)s.push(u[c].data.values.pk_qualitylv.value)}var b=e.editTable.getAllRows(this.headTableid).filter((function(e){return 3!=e.status})),f=(0,d.calculateShowIndexUtil)(b.length,1,t);(0,n.ajax)({url:l.URL.delete,data:{pks:s},success:function(n){setTimeout((function(){e.editTable.deleteTableRowsByIndex(l.AREA.headTableArea,t,!1);var n=e.editTable.getAllRows(l.AREA.headTableArea).filter((function(e){return 3!=e.status}));n.forEach((function(e){3!=e.status&&(e.status=0)}));var s={rows:n};e.editTable.setTableData(l.AREA.headTableArea,s),a.props.editTable.setFiltrateTableData(a.headTableid,["cqlgroupcode","cqlgroupname"],a.state.value),d.btnVisible_BtnClick.call(a,e),f>=0?(e.editTable.focusRowByIndex(l.AREA.headTableArea,f),d.onRow_BtnClick.call(a,a.props,null,null,f)):e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]}),(0,o.showSuccessInfo)((0,i.getLangByResId)(a,"1014QUALITYLEVEL-000002"))}),0)}})};var n=a(2),l=a(0),o=a(4),i=a(3),d=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;setTimeout((function(){for(var a=[],i=e.editTable.getVisibleRows(n.AREA.headTableArea,!1,!0),d=0;d<i.length;d++)a.push(d);e.editTable.addRow(n.AREA.headTableArea),e.editTable.setEditableRowByIndex(n.AREA.headTableArea,a,!1),t.selectIndex=a.length,e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]}),l.addRow_BtnClick.call(t,e),o.buttonControl.call(t,e),e.editTable.focusRowByIndex(n.AREA.headTableArea,a.length)}),0)};var n=a(0),l=a(1),o=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(this.headTableid);if(0==t.length)return void(0,o.showWarningInfo)(null,(0,i.getLangByResId)(this,"1014QUALITYLEVEL-000001"));(0,o.showDeleteDialog)({beSureBtnClick:s.bind(this,e,t)})};var n=a(2),l=a(0),o=a(4),i=a(3),d=a(1);function s(e,t){for(var a=this,s=this,r=new Array,u=new Array,c=0,b=0;b<t.length;b++)r.push(t[b].data.values.pk_qualitylv.value),u.push(t[b].index),b==t.length-1&&(c=t[b].index);var f=e.editTable.getAllRows(this.headTableid).filter((function(e){return 3!=e.status})),h=(0,d.calculateShowIndexUtil)(f.length,u.length,c);(0,n.ajax)({url:l.URL.delete,data:{pks:r},success:function(t){setTimeout((function(){e.editTable.deleteTableRowsByIndex(s.headTableid,u,!1);var t=e.editTable.getAllRows(s.headTableid).filter((function(e){return 3!=e.status}));t.forEach((function(e){3!=e.status&&(e.status=0)}));var n={rows:t};e.editTable.setTableData(s.headTableid,n),a.props.editTable.setFiltrateTableData(s.headTableid,["cqlgroupcode","cqlgroupname"],s.state.value),h>=0?(e.editTable.focusRowByIndex(s.headTableid,h),d.onRow_BtnClick.call(s,e,null,null,h)):e.editTable.setTableData(s.bodyTableid,{rows:[]}),(0,o.showSuccessInfo)((0,i.getLangByResId)(s,"1014QUALITYLEVEL-000002"))}),10)}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.showCancelDialog)({beSureBtnClick:i.bind(this,this.props)})};var n=a(4),l=a(1),o=a(5);function i(e){var t=this;setTimeout((function(){e.editTable.cancelEdit(t.headTableid),e.editTable.cancelEdit(t.bodyTableid),l.search_BtnClick.call(t,e),o.buttonControl.call(t,e)}),0)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;setTimeout((function(){var a=t;if(e.editTable.filterEmptyRows(t.bodyTableid,["bqualified"],"except"),0==e.editTable.getChangedRows(t.bodyTableid).length||e.editTable.checkRequired(l.AREA.headTableArea,e.editTable.getAllRows(l.AREA.headTableArea))){if(e.editTable.filterEmptyRows(t.headTableid,["pk_group"]),0==e.editTable.getChangedRows(t.headTableid).length&&0==e.editTable.getChangedRows(t.bodyTableid).length)return e.editTable.cancelEdit(t.headTableid),e.editTable.cancelEdit(t.bodyTableid),e.editTable.setStatus(t.headTableid,l.STATUS.browse),e.editTable.setStatus(t.bodyTableid,l.STATUS.browse),r.buttonControl.call(t,e),void(e.editTable.getAllRows(t.headTableid).filter((function(e){return 3!=e.status})).length>0&&o.onRow_BtnClick.call(t,e,null,null,0));var u=e.editTable.getAllRows(l.AREA.bodyTableArea),c=!0;if(u.forEach((function(e){3!=e.status&&(c=!1)})),c)(0,i.showErrorInfo)(null,(0,s.getLangByResId)(t,"1014QUALITYLEVEL-000006"));else{var b=[t.props.editTable.getVisibleRows(t.headTableid,!1,!0)[t.selectIndex]];b.forEach((function(e){e.values.pseudocolumn=void 0}));var f={head:{pageid:t.pageid,model:{areaType:"table",areacode:t.headTableid,PageInfo:{},rows:b}},body:{pageid:t.pageid,model:{areaType:"table",areacode:t.bodyTableid,PageInfo:{},rows:u}}};(0,n.ajax)({url:l.URL.save,data:f,success:function(n){if(n.success){var o=a.props.editTable.getVisibleRows(a.headTableid,!1,!0)[a.selectIndex].flterIndex;o||(o=a.props.editTable.getAllRows(t.headTableid).length-1),n.data.head[a.headTableid].rows[0].values.pseudocolumn.value=o,(0,d.updateEditTableRows)(e,a.headTableid,n.data.head[a.headTableid].rows);var s=e.editTable.getAllRows(a.headTableid).filter((function(e){return 3!=e.status}));s.forEach((function(e){3!=e.status&&(e.status=0)}));var u={rows:s};e.editTable.setTableData(a.headTableid,u),a.keyWordChange(a.state.value),e.editTable.setStatus(a.headTableid,l.STATUS.browse),e.editTable.setStatus(a.bodyTableid,l.STATUS.browse),r.buttonControl.call(a,e),(0,i.showSaveInfo)()}}})}}}),10)};var n=a(2),l=a(0),o=a(1),i=a(4),d=a(18),s=a(3),r=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEditTableRows=t.getChangedRows=t.RownoUtils=t.rowCopyPasteUtils=void 0;var n=a(19),l=a(20),o=a(21);t.rowCopyPasteUtils=n.rowCopyPasteUtils,t.RownoUtils=l.RownoUtils,t.getChangedRows=o.getChangedRows,t.updateEditTableRows=o.updateEditTableRows},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!0,l=!1;function o(e,t,a,l,o,s){!function(e,t,a,n,l){if(a)if(a instanceof Array)for(var o=a.length,d=0;d<o;d++){var s=a[d].data;i(s,l),e.editTable.pasteRow(t,s,n+d)}else i(a,l),e.editTable.pasteRow(t,a,n)}(e,t,this.state.copyRowDatas,a-1,s),this.setState({copyRowDatas:null}),d(e,l,o,n),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}function i(e,t){t&&t instanceof Array&&t.forEach((function(t){e.values[t]={value:null,display:null,scale:-1}}))}function d(e,t,a,n){t&&e.button.setButtonVisible(t,n),a&&e.button.setButtonVisible(a,!n)}var s={copyRow:function(e,t,a,n,o){this.setState({copyRowDatas:a}),d(e,n,o,l),e.editTable.setAllCheckboxAble(t,!1)},copyRows:function(e,t,a,n){var o=e.editTable.getCheckedRows(t);o&&o.length>0&&(this.setState({copyRowDatas:o}),d(e,a,n,l),e.editTable.setAllCheckboxAble(t,!1))},pasteRowsToIndex:o,pasteRowsToTail:function(e,t,a,n,l){var i=e.editTable.getNumberOfRows(t);o.call(this,e,t,i,a,n,l)},cancel:function(e,t,a,l){this.setState({copyRowDatas:null}),d(e,a,l,n),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}};t.rowCopyPasteUtils=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0,l="crowno";function o(e,t,a,l){for(var o=e.editTable.getNumberOfRows(t),i=function(e,t,a,l){if(1===l)return n;for(var o=n,i=null,d=0;d<l;d++)i=e.editTable.getValByKeyAndIndex(t,d,a).value,o<i&&(o=i);return o}(e,t,a,o),d=new Array(l.length),s=0;s<l.length;s++)d[s]=10*(s+1)+Number(i);return d}function i(e,t,a,l,o){var i=function(e,t,a,l){if(1==e.editTable.getNumberOfRows(t))return n;for(var o=l-1;o>=0;o--){var i=(e.editTable.getValByKeyAndIndex(t,o,a)||{}).value;if(""!=i&&null!=i)return i}return n}(e,t,a,l),d=e.editTable.getValByKeyAndIndex(t,l,a).value,s=new Array(o.length);if(i===d)for(var r=0;r<o.length;r++)s[r]=i;else if(null==d||""==d)for(var u=0;u<o.length;u++)s[u]=10*(u+1)+Number(i);else for(var c=(d-i)/(o.length+1),b=i,f=0;f<o.length;f++)b=Number(b)+Number(c),s[f]=b;return s}var d={setRowNo:function(e,t,a){null==a&&(a=l);for(var n=e.editTable.getNumberOfRows(t),d=!0;n>0&&d;){for(var s=[],r=-1,u=0;u<n;u++){if(u==n-1&&(d=!1),(e.editTable.getValByKeyAndIndex(t,u,a)||{}).value){if(0==s.length)continue;r=u;break}s.push(u),r=-1}var c=null;c=-1!=r?i(e,t,a,r,s):o(e,t,a,s);for(var b=0;b<s.length;b++){var f=s[b];e.editTable.setValByKeyAndIndex(t,f,a,{value:c[b].toString(),display:c[b].toString()})}}},resetRowNo:function(e,t,a){null==a&&(a=l);for(var n=e.editTable.getNumberOfRows(t),o=0;o<n;o++){var i=10*o+10;e.editTable.setValByKeyAndIndex(t,o,a,{value:i.toString(),display:i.toString()})}}};t.RownoUtils=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChangedRows=function(e,t,a){var n=e.editTable.getChangedRows(t,1==a),l=e.editTable.getAllRows(t);if(0!=l.length&&0!=n.length){var o={},i=0;return l.forEach((function(e){o[e.rowid]=i,i++})),n.forEach((function(e){e.values.pseudocolumn={value:o[e.rowid].toString()}})),n}},t.updateEditTableRows=function(e,t,a){var n=[];a.forEach((function(e){var t=e.values.pseudocolumn;if(null!=t&&"{}"!=JSON.stringify(t)){var a={index:Number(t.value),data:e};n.push(a)}})),0!=n.length&&e.editTable.updateDataByIndexs(t,n,!0)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;setTimeout((function(){for(var i=[],d=e.editTable.getVisibleRows(n.AREA.headTableArea,!1,!0),s=0;s<d.length;s++)s!=t&&i.push(s);l.onRow_BtnClick.call(a,e,null,null,t),e.editTable.setStatus(n.AREA.headTableArea,n.STATUS.edit),e.editTable.setEditableRowByIndex(n.AREA.headTableArea,t,!0),e.editTable.setEditableRowByIndex(n.AREA.headTableArea,i,!1),a.selectIndex=t,e.editTable.setStatus(n.AREA.bodyTableArea,n.STATUS.edit),o.buttonControl.call(a,e),e.editTable.focusRowByIndex(n.AREA.headTableArea,t)}),0)};var n=a(0),l=a(1),o=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.ajax)({url:l.URL.search,data:this.state.value,success:function(t){null==t.data?(e.editTable.setTableData(l.AREA.headTableArea,{rows:[]}),e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]})):(null==t.data.head?e.editTable.setTableData(l.AREA.headTableArea,{rows:[]}):e.editTable.setTableData(l.AREA.headTableArea,t.data.head[l.AREA.headTableArea]),null==t.data.body?e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(l.AREA.bodyTableArea,t.data.body[l.AREA.bodyTableArea]))}})};var n=a(2),l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.editTable.addRow(n.AREA.bodyTableArea)};var n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(this.bodyTableid);if(0==t.length)return;for(var a=new Array,n=0;n<t.length;n++)a.push(t[n].index);e.editTable.deleteTableRowsByIndex(this.bodyTableid,a)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;e.button.hideButtonsByAreas([l.BUTTON.list_head,l.BUTTON.list_body]),e.button.setPopContent(l.BUTTON.delete,(0,n.getLangByResId)(this,"1014QUALITYLEVEL-000003"));var a=e.editTable.getStatus(l.AREA.headTableArea)!==l.STATUS.edit;e.button.setButtonVisible([l.BUTTON.edit,l.BUTTON.add,l.BUTTON.delete,l.BUTTON.print,l.BUTTON.refresh],a),e.button.setButtonVisible([l.BUTTON.save,l.BUTTON.cancel],!a);var i=!(e.editTable.getCheckedRows(l.AREA.headTableArea).length>0);e.button.setDisabled((o(t={},l.BUTTON.delete,i),o(t,l.BUTTON.print,i),t)),a?(this.state.searchDisable=!1,this.state.headShowCheck=!0,e.editTable.showColByKey(l.AREA.headTableArea,"opr")):(this.state.searchDisable=!0,this.state.headShowCheck=!1,e.editTable.hideColByKey(l.AREA.headTableArea,"opr"));var d=e.editTable.getStatus(l.AREA.bodyTableArea)!==l.STATUS.edit;e.button.setButtonVisible([l.BUTTON.addLine,l.BUTTON.deleteLine],!d),d?(this.state.bodyShowCheck=!1,e.editTable.hideColByKey(l.AREA.bodyTableArea,"opr")):(this.state.bodyShowCheck=!0,e.editTable.showColByKey(l.AREA.bodyTableArea,"opr"))};var n=a(3),l=a(0);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this.props.editTable.getCheckedRows(this.headTableid).map((function(e){return e.data}));if(null==a||0==a.length)return void(0,o.showWarningInfo)(null,(0,l.getLangByResId)(this,"1014QUALITYLEVEL-000005"));var d=[];a.forEach((function(e){d.push(e.values.pk_qualitylv.value)})),(0,n.print)("pdf",i.URL.print,{oids:d})};var n=a(2),l=a(3),o=a(4),i=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return a<e-1?a+1-t:e-1-t}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,l=a(32),o=(n=l)&&n.__esModule?n:{default:n};t.initTemplate=o.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:n.AREA.pageArea},(function(a){if(a){if(a.template){var n=a.template;d.call(t,e,n),e.meta.setMeta(n)}if(a.button){var l=a.button;e.button.setButtons(l)}i.buttonControl.call(t,e)}}))};var n=a(0),l=a(3),o=a(1),i=a(5);function d(e,t){var a=this,i={attrcode:"opr",label:(0,l.getLangByResId)(this,"1014QUALITYLEVEL-000013"),visible:!0,width:"100px",itemtype:"customer",render:function(t,l,i){var d=[n.BUTTON.edit,n.BUTTON.delete];return e.editTable.getStatus(n.AREA.headTableArea)===n.STATUS.edit&&(d=[]),React.createElement("div",{onClick:function(e){e.stopPropagation()}},e.button.createOprationButton(d,{area:n.BUTTON.list_head_inner,buttonLimit:3,onButtonClick:function(e,t,n){return o.onHeadInner_BtnClick.call(a,e,t,l,i,n)}}))}};t[n.AREA.headTableArea].items.push(i);var d={attrcode:"opr",label:(0,l.getLangByResId)(this,"1014QUALITYLEVEL-000013"),visible:!0,width:"100px",fixed:"right",itemtype:"customer",render:function(t,l,i){var d=[];return e.editTable.getStatus(n.AREA.bodyTableArea)===n.STATUS.edit&&(d=[n.BUTTON.deleteLine]),e.button.createOprationButton(d,{area:n.BUTTON.list_body_inner,buttonLimit:3,onButtonClick:function(e,t){return o.onBodyInner_BtnClick.bind(a)(e,t,l,i)}})}};return t[n.AREA.bodyTableArea].items.push(d),t}}])}));
//# sourceMappingURL=index.89e75729.js.map