!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front")):"function"==typeof define&&define.amd?define(["nc-lightapp-front"],t):"object"==typeof exports?exports["uapbd/qualitylevel/list/btnClicks/index"]=t(require("nc-lightapp-front")):e["uapbd/qualitylevel/list/btnClicks/index"]=t(e["nc-lightapp-front"])}(window,(function(e){return function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=1)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AREA={pageArea:"10140QL_list",headTableArea:"head",bodyTableArea:"body",printArea:"10140QL",oid:"1002Z81000000000OPNU"},t.STATUS={browse:"browse",edit:"edit"},t.URL={search:"/nccloud/scmf/qualitylevel/search.do",query:"/nccloud/scmf/qualitylevel/query.do",queryBody:"/nccloud/scmf/qualitylevel/querybody.do",save:"/nccloud/scmf/qualitylevel/save.do",delete:"/nccloud/scmf/qualitylevel/delete.do",print:"/nccloud/scmf/qualitylevel/print.do"},t.BUTTON={list_head:"list_head",list_head_inner:"list_head_inner",list_body:"list_body",list_body_inner:"list_body_inner",add:"Add",delete:"Delete",edit:"Edit",save:"Save",show:"Show",cancel:"Cancel",copy:"Copy",commit:"Commit",unCommit:"UnCommit",deleteLine:"DeleteLine",addLine:"AddLine",refresh:"Refresh",print:"Print"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateShowIndexUtil=t.print_BtnClick=t.btnVisible_BtnClick=t.batchDeleteRow_BtnClick=t.addRow_BtnClick=t.searchButton_BtnClick=t.edit_BtnClick=t.save_BtnClick=t.cancel_BtnClick=t.batchDelete_BtnClick=t.add_BtnClick=t.delete_BtnClick=t.deleteRow_BtnClick=t.onRow_BtnClick=t.search_BtnClick=t.onBodyInner_BtnClick=t.onBody_BtnClicks=t.onHeadInner_BtnClick=t.onHead_BtnClicks=void 0;var l=R(a(6)),n=R(a(7)),o=R(a(8)),i=R(a(9)),s=R(a(10)),d=R(a(11)),r=R(a(12)),u=R(a(13)),c=R(a(14)),b=R(a(15)),f=R(a(16)),h=R(a(17)),T=R(a(22)),g=R(a(23)),A=R(a(24)),y=R(a(25)),B=R(a(26)),p=R(a(27)),v=R(a(28));function R(e){return e&&e.__esModule?e:{default:e}}t.onHead_BtnClicks=n.default,t.onHeadInner_BtnClick=i.default,t.onBody_BtnClicks=o.default,t.onBodyInner_BtnClick=s.default,t.search_BtnClick=l.default,t.onRow_BtnClick=d.default,t.deleteRow_BtnClick=r.default,t.delete_BtnClick=u.default,t.add_BtnClick=c.default,t.batchDelete_BtnClick=b.default,t.cancel_BtnClick=f.default,t.save_BtnClick=h.default,t.edit_BtnClick=T.default,t.searchButton_BtnClick=g.default,t.addRow_BtnClick=A.default,t.batchDeleteRow_BtnClick=y.default,t.btnVisible_BtnClick=B.default,t.print_BtnClick=p.default,t.calculateShowIndexUtil=v.default},function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLangByResId=t.initLang=void 0;var l=a(2);t.initLang=function(e,t,a,n){e.lang=null,e.inlt=null,(0,l.getMultiLang)({moduleId:t,domainName:a,callback:function(t,a,l){a&&(e.lang=t,e.inlt=l),n&&n()},needInlt:!0})},t.getLangByResId=function(e,t,a){return function(e,t){if(!e)throw(0,l.toast)({color:"danger",content:"请检查代码中this是否能够取到！当前为undifined,位置："+t}),new Error("请检查代码中this是否能够取到！当前为undifined,位置："+t)}(e,t),a?e.inlt?e.inlt.get(t,a)||t:"":e.lang?e.lang[t]||t:""}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showQueryResultInfoForNoPage=t.showSaveInfo=t.showRefreshInfo=t.showNoQueryResultInfo=t.showHasQueryResultInfo=t.showChangeOrgDialog=t.showDeleteDialog=t.showSingleDeleteDialog=t.showCancelDialog=t.showBatchOperateInfo=t.showBatchOprMessage=t.showWarningDialog=t.showErrorDialog=t.showInfoDialog=t.showSuccessDialog=t.showInfoInfo=t.showErrorInfo=t.showWarningInfo=t.showSuccessInfo=void 0;var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),n=a(2);var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer初始化"),(0,n.getMultiLang)({moduleId:"4001pubmessage",domainName:"uapbd/scmbase",callback:this.init.bind(this),needInlt:!0})}return l(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function i(e,t,a){d(e,t,a)}function s(e,t,a){d(e,t,a,"warning")}function d(e,t,a,l,o,i,s,d,r){(0,n.toast)({duration:a,color:l,title:e,content:t,groupOperation:o,TextArr:i,groupOperationMsg:s,onExpand:d,onClose:r})}function r(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments[3];(0,n.promptBox)({color:l,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}function c(){s(null,o.getLangByResId("4001PUBMESSAGE-000016"))}t.showSuccessInfo=i,t.showWarningInfo=s,t.showErrorInfo=function(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"infinity","danger")},t.showInfoInfo=function(e,t,a){d(e,t,a,"info")},t.showSuccessDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},t.showInfoDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"info")},t.showErrorDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"danger")},t.showWarningDialog=r,t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=t.failedNum,d=t.sucessNum;if(0==s)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:l}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==d){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:l});var r=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:r,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:l});var u=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showBatchOperateInfo=function(e,t,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d(e,t,"infinity","warning",!0,[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],a,l.onExpand,l.onClose)},t.showCancelDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000007"),o.getLangByResId("4001PUBMESSAGE-000008"),e)},t.showSingleDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000010"),e)},t.showDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000011"),e)},t.showChangeOrgDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(o.getLangByResId("4001PUBMESSAGE-000012"),o.getLangByResId("4001PUBMESSAGE-000013"),e)},t.showHasQueryResultInfo=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):i(o.getLangByResId("4001PUBMESSAGE-000014"))},t.showNoQueryResultInfo=c,t.showRefreshInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000017"))},t.showSaveInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000023"))},t.showQueryResultInfoForNoPage=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):c()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonControl=void 0;var l=a(3),n=a(0);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){}function s(){var e;this.props.button.hideButtonsByAreas([n.BUTTON.list_head,n.BUTTON.list_body]),this.props.button.setPopContent(n.BUTTON.delete,(0,l.getLangByResId)(this,"1014QUALITYLEVEL-000003"));var t=this.props.editTable.getStatus(n.AREA.headTableArea)!==n.STATUS.edit;this.props.button.setButtonVisible([n.BUTTON.edit,n.BUTTON.add,n.BUTTON.delete,n.BUTTON.print,n.BUTTON.refresh],t),this.props.button.setButtonVisible([n.BUTTON.save,n.BUTTON.cancel],!t);var a=!(this.props.editTable.getCheckedRows(n.AREA.headTableArea).length>0);this.props.button.setDisabled((o(e={},n.BUTTON.delete,a),o(e,n.BUTTON.print,a),e)),t?(this.state.searchDisable=!1,this.state.headShowCheck=!0,this.props.editTable.showColByKey(n.AREA.headTableArea,"opr")):(this.state.searchDisable=!0,this.state.headShowCheck=!1,this.props.editTable.hideColByKey(n.AREA.headTableArea,"opr"));var i=this.props.editTable.getStatus(n.AREA.bodyTableArea)!==n.STATUS.edit;this.props.button.setButtonVisible([n.BUTTON.addLine,n.BUTTON.deleteLine],!i),i?(this.state.bodyShowCheck=!1,this.props.editTable.hideColByKey(n.AREA.bodyTableArea,"opr")):(this.state.bodyShowCheck=!0,this.props.editTable.showColByKey(n.AREA.bodyTableArea,"opr"));var s=!(this.props.editTable.getCheckedRows(this.bodyTableid).length>0);this.props.button.setDisabled(o({},n.BUTTON.deleteLine,s))}function d(){}function r(){}function u(){}t.buttonControl=function(){i.call(this),s.call(this),d.call(this),r.call(this),u.call(this)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;(0,l.ajax)({url:n.URL.query,data:{},success:function(l){l.formulamsg&&l.formulamsg instanceof Array&&l.formulamsg.length>0&&e.dealFormulamsg(l.formulamsg),l.data&&(void 0===l.data.head?e.editTable.setTableData(n.AREA.headTableArea,{rows:[]}):(e.editTable.setTableData(n.AREA.headTableArea,l.data.head[n.AREA.headTableArea]),e.editTable.focusRowByIndex(n.AREA.headTableArea,0)),void 0===l.data.body?e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(n.AREA.bodyTableArea,l.data.body[n.AREA.bodyTableArea]),a.keyWordChange(a.state.value)),"refresh"==t&&(0,o.showRefreshInfo)()}})};var l=a(2),n=a(0),o=a(4)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case n.BUTTON.add:l.add_BtnClick.call(this,e);break;case n.BUTTON.delete:l.batchDelete_BtnClick.call(this,e);break;case n.BUTTON.save:l.save_BtnClick.call(this,e);break;case n.BUTTON.cancel:l.cancel_BtnClick.call(this,e);break;case n.BUTTON.print:l.print_BtnClick.call(this,e);break;case n.BUTTON.refresh:l.search_BtnClick.call(this,e,"refresh")}};var l=a(1),n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case n.BUTTON.addLine:l.addRow_BtnClick.call(this,e);break;case n.BUTTON.deleteLine:l.batchDeleteRow_BtnClick.call(this,e)}};var l=a(1),n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,i){switch(t){case l.BUTTON.delete:n.delete_BtnClick.call(this,e,o);break;case l.BUTTON.edit:n.edit_BtnClick.call(this,e,o)}};var l=a(0),n=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){switch(t){case n.BUTTON.deleteLine:l.deleteRow_BtnClick.call(this,e,o)}};var l=a(1),n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){if(e.editTable.getStatus(n.AREA.headTableArea)===n.STATUS.edit)return void e.editTable.focusRowByIndex(n.AREA.headTableArea,this.selectIndex);setTimeout((function(){var t=null;null!=a?t=a.values.pk_qualitylv.value:t=e.editTable.getVisibleRows(n.AREA.headTableArea,!1,!0)[o].values.pk_qualitylv.value;(0,l.ajax)({url:n.URL.queryBody,data:t,success:function(t){void 0===t.data||void 0===t.data.body?e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(n.AREA.bodyTableArea,t.data.body[n.AREA.bodyTableArea])}})}),10)};var l=a(2),n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.editTable.deleteTableRowsByIndex(l.AREA.bodyTableArea,t)};var l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,d=new Array;if(e.editTable.getStatus(n.AREA.headTableArea)===n.STATUS.edit)return void e.editTable.deleteTableRowsByIndex(n.AREA.headTableArea,t);if(null!=t){var r=e.editTable.getValByKeyAndIndex(n.AREA.headTableArea,t,"pk_qualitylv").value;d.push(r)}else{var u=e.editTable.getCheckedRows(n.AREA.headTableArea);if(0==u.length)return;for(var c=0;c<u.length;c++)d.push(u[c].data.values.pk_qualitylv.value)}var b=e.editTable.getAllRows(this.headTableid).filter((function(e){return 3!=e.status})),f=(0,s.calculateShowIndexUtil)(b.length,1,t);(0,l.ajax)({url:n.URL.delete,data:{pks:d},success:function(l){setTimeout((function(){e.editTable.deleteTableRowsByIndex(n.AREA.headTableArea,t,!1);var l=e.editTable.getAllRows(n.AREA.headTableArea).filter((function(e){return 3!=e.status}));l.forEach((function(e){3!=e.status&&(e.status=0)}));var d={rows:l};e.editTable.setTableData(n.AREA.headTableArea,d),a.props.editTable.setFiltrateTableData(a.headTableid,["cqlgroupcode","cqlgroupname"],a.state.value),s.btnVisible_BtnClick.call(a,e),f>=0?(e.editTable.focusRowByIndex(n.AREA.headTableArea,f),s.onRow_BtnClick.call(a,a.props,null,null,f)):e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]}),(0,o.showSuccessInfo)((0,i.getLangByResId)(a,"1014QUALITYLEVEL-000002"))}),0)}})};var l=a(2),n=a(0),o=a(4),i=a(3),s=a(1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;setTimeout((function(){for(var a=[],i=e.editTable.getVisibleRows(l.AREA.headTableArea,!1,!0),s=0;s<i.length;s++)a.push(s);e.editTable.addRow(l.AREA.headTableArea),e.editTable.setEditableRowByIndex(l.AREA.headTableArea,a,!1),t.selectIndex=a.length,e.editTable.setTableData(l.AREA.bodyTableArea,{rows:[]}),n.addRow_BtnClick.call(t,e),o.buttonControl.call(t,e),e.editTable.focusRowByIndex(l.AREA.headTableArea,a.length)}),0)};var l=a(0),n=a(1),o=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(this.headTableid);if(0==t.length)return void(0,o.showWarningInfo)(null,(0,i.getLangByResId)(this,"1014QUALITYLEVEL-000001"));(0,o.showDeleteDialog)({beSureBtnClick:d.bind(this,e,t)})};var l=a(2),n=a(0),o=a(4),i=a(3),s=a(1);function d(e,t){for(var a=this,d=this,r=new Array,u=new Array,c=0,b=0;b<t.length;b++)r.push(t[b].data.values.pk_qualitylv.value),u.push(t[b].index),b==t.length-1&&(c=t[b].index);var f=e.editTable.getAllRows(this.headTableid).filter((function(e){return 3!=e.status})),h=(0,s.calculateShowIndexUtil)(f.length,u.length,c);(0,l.ajax)({url:n.URL.delete,data:{pks:r},success:function(t){setTimeout((function(){e.editTable.deleteTableRowsByIndex(d.headTableid,u,!1);var t=e.editTable.getAllRows(d.headTableid).filter((function(e){return 3!=e.status}));t.forEach((function(e){3!=e.status&&(e.status=0)}));var l={rows:t};e.editTable.setTableData(d.headTableid,l),a.props.editTable.setFiltrateTableData(d.headTableid,["cqlgroupcode","cqlgroupname"],d.state.value),h>=0?(e.editTable.focusRowByIndex(d.headTableid,h),s.onRow_BtnClick.call(d,e,null,null,h)):e.editTable.setTableData(d.bodyTableid,{rows:[]}),(0,o.showSuccessInfo)((0,i.getLangByResId)(d,"1014QUALITYLEVEL-000002"))}),10)}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,l.showCancelDialog)({beSureBtnClick:i.bind(this,this.props)})};var l=a(4),n=a(1),o=a(5);function i(e){var t=this;setTimeout((function(){e.editTable.cancelEdit(t.headTableid),e.editTable.cancelEdit(t.bodyTableid),n.search_BtnClick.call(t,e),o.buttonControl.call(t,e)}),0)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;setTimeout((function(){var a=t;if(e.editTable.filterEmptyRows(t.bodyTableid,["bqualified"],"except"),0==e.editTable.getChangedRows(t.bodyTableid).length||e.editTable.checkRequired(n.AREA.headTableArea,e.editTable.getAllRows(n.AREA.headTableArea))){if(e.editTable.filterEmptyRows(t.headTableid,["pk_group"]),0==e.editTable.getChangedRows(t.headTableid).length&&0==e.editTable.getChangedRows(t.bodyTableid).length)return e.editTable.cancelEdit(t.headTableid),e.editTable.cancelEdit(t.bodyTableid),e.editTable.setStatus(t.headTableid,n.STATUS.browse),e.editTable.setStatus(t.bodyTableid,n.STATUS.browse),r.buttonControl.call(t,e),void(e.editTable.getAllRows(t.headTableid).filter((function(e){return 3!=e.status})).length>0&&o.onRow_BtnClick.call(t,e,null,null,0));var u=e.editTable.getAllRows(n.AREA.bodyTableArea),c=!0;if(u.forEach((function(e){3!=e.status&&(c=!1)})),c)(0,i.showErrorInfo)(null,(0,d.getLangByResId)(t,"1014QUALITYLEVEL-000006"));else{var b=[t.props.editTable.getVisibleRows(t.headTableid,!1,!0)[t.selectIndex]];b.forEach((function(e){e.values.pseudocolumn=void 0}));var f={head:{pageid:t.pageid,model:{areaType:"table",areacode:t.headTableid,PageInfo:{},rows:b}},body:{pageid:t.pageid,model:{areaType:"table",areacode:t.bodyTableid,PageInfo:{},rows:u}}};(0,l.ajax)({url:n.URL.save,data:f,success:function(l){if(l.success){var o=a.props.editTable.getVisibleRows(a.headTableid,!1,!0)[a.selectIndex].flterIndex;o||(o=a.props.editTable.getAllRows(t.headTableid).length-1),l.data.head[a.headTableid].rows[0].values.pseudocolumn.value=o,(0,s.updateEditTableRows)(e,a.headTableid,l.data.head[a.headTableid].rows);var d=e.editTable.getAllRows(a.headTableid).filter((function(e){return 3!=e.status}));d.forEach((function(e){3!=e.status&&(e.status=0)}));var u={rows:d};e.editTable.setTableData(a.headTableid,u),a.keyWordChange(a.state.value),e.editTable.setStatus(a.headTableid,n.STATUS.browse),e.editTable.setStatus(a.bodyTableid,n.STATUS.browse),r.buttonControl.call(a,e),(0,i.showSaveInfo)()}}})}}}),10)};var l=a(2),n=a(0),o=a(1),i=a(4),s=a(18),d=a(3),r=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEditTableRows=t.getChangedRows=t.RownoUtils=t.rowCopyPasteUtils=void 0;var l=a(19),n=a(20),o=a(21);t.rowCopyPasteUtils=l.rowCopyPasteUtils,t.RownoUtils=n.RownoUtils,t.getChangedRows=o.getChangedRows,t.updateEditTableRows=o.updateEditTableRows},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=!0,n=!1;function o(e,t,a,n,o,d){!function(e,t,a,l,n){if(a)if(a instanceof Array)for(var o=a.length,s=0;s<o;s++){var d=a[s].data;i(d,n),e.editTable.pasteRow(t,d,l+s)}else i(a,n),e.editTable.pasteRow(t,a,l)}(e,t,this.state.copyRowDatas,a-1,d),this.setState({copyRowDatas:null}),s(e,n,o,l),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}function i(e,t){t&&t instanceof Array&&t.forEach((function(t){e.values[t]={value:null,display:null,scale:-1}}))}function s(e,t,a,l){t&&e.button.setButtonVisible(t,l),a&&e.button.setButtonVisible(a,!l)}var d={copyRow:function(e,t,a,l,o){this.setState({copyRowDatas:a}),s(e,l,o,n),e.editTable.setAllCheckboxAble(t,!1)},copyRows:function(e,t,a,l){var o=e.editTable.getCheckedRows(t);o&&o.length>0&&(this.setState({copyRowDatas:o}),s(e,a,l,n),e.editTable.setAllCheckboxAble(t,!1))},pasteRowsToIndex:o,pasteRowsToTail:function(e,t,a,l,n){var i=e.editTable.getNumberOfRows(t);o.call(this,e,t,i,a,l,n)},cancel:function(e,t,a,n){this.setState({copyRowDatas:null}),s(e,a,n,l),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}};t.rowCopyPasteUtils=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=0,n="crowno";function o(e,t,a,n){for(var o=e.editTable.getNumberOfRows(t),i=function(e,t,a,n){if(1===n)return l;for(var o=l,i=null,s=0;s<n;s++)i=e.editTable.getValByKeyAndIndex(t,s,a).value,o<i&&(o=i);return o}(e,t,a,o),s=new Array(n.length),d=0;d<n.length;d++)s[d]=10*(d+1)+Number(i);return s}function i(e,t,a,n,o){var i=function(e,t,a,n){if(1==e.editTable.getNumberOfRows(t))return l;for(var o=n-1;o>=0;o--){var i=(e.editTable.getValByKeyAndIndex(t,o,a)||{}).value;if(""!=i&&null!=i)return i}return l}(e,t,a,n),s=e.editTable.getValByKeyAndIndex(t,n,a).value,d=new Array(o.length);if(i===s)for(var r=0;r<o.length;r++)d[r]=i;else if(null==s||""==s)for(var u=0;u<o.length;u++)d[u]=10*(u+1)+Number(i);else for(var c=(s-i)/(o.length+1),b=i,f=0;f<o.length;f++)b=Number(b)+Number(c),d[f]=b;return d}var s={setRowNo:function(e,t,a){null==a&&(a=n);for(var l=e.editTable.getNumberOfRows(t),s=!0;l>0&&s;){for(var d=[],r=-1,u=0;u<l;u++){if(u==l-1&&(s=!1),(e.editTable.getValByKeyAndIndex(t,u,a)||{}).value){if(0==d.length)continue;r=u;break}d.push(u),r=-1}var c=null;c=-1!=r?i(e,t,a,r,d):o(e,t,a,d);for(var b=0;b<d.length;b++){var f=d[b];e.editTable.setValByKeyAndIndex(t,f,a,{value:c[b].toString(),display:c[b].toString()})}}},resetRowNo:function(e,t,a){null==a&&(a=n);for(var l=e.editTable.getNumberOfRows(t),o=0;o<l;o++){var i=10*o+10;e.editTable.setValByKeyAndIndex(t,o,a,{value:i.toString(),display:i.toString()})}}};t.RownoUtils=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChangedRows=function(e,t,a){var l=e.editTable.getChangedRows(t,1==a),n=e.editTable.getAllRows(t);if(0!=n.length&&0!=l.length){var o={},i=0;return n.forEach((function(e){o[e.rowid]=i,i++})),l.forEach((function(e){e.values.pseudocolumn={value:o[e.rowid].toString()}})),l}},t.updateEditTableRows=function(e,t,a){var l=[];a.forEach((function(e){var t=e.values.pseudocolumn;if(null!=t&&"{}"!=JSON.stringify(t)){var a={index:Number(t.value),data:e};l.push(a)}})),0!=l.length&&e.editTable.updateDataByIndexs(t,l,!0)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;setTimeout((function(){for(var i=[],s=e.editTable.getVisibleRows(l.AREA.headTableArea,!1,!0),d=0;d<s.length;d++)d!=t&&i.push(d);n.onRow_BtnClick.call(a,e,null,null,t),e.editTable.setStatus(l.AREA.headTableArea,l.STATUS.edit),e.editTable.setEditableRowByIndex(l.AREA.headTableArea,t,!0),e.editTable.setEditableRowByIndex(l.AREA.headTableArea,i,!1),a.selectIndex=t,e.editTable.setStatus(l.AREA.bodyTableArea,l.STATUS.edit),o.buttonControl.call(a,e),e.editTable.focusRowByIndex(l.AREA.headTableArea,t)}),0)};var l=a(0),n=a(1),o=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,l.ajax)({url:n.URL.search,data:this.state.value,success:function(t){null==t.data?(e.editTable.setTableData(n.AREA.headTableArea,{rows:[]}),e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]})):(null==t.data.head?e.editTable.setTableData(n.AREA.headTableArea,{rows:[]}):e.editTable.setTableData(n.AREA.headTableArea,t.data.head[n.AREA.headTableArea]),null==t.data.body?e.editTable.setTableData(n.AREA.bodyTableArea,{rows:[]}):e.editTable.setTableData(n.AREA.bodyTableArea,t.data.body[n.AREA.bodyTableArea]))}})};var l=a(2),n=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.editTable.addRow(l.AREA.bodyTableArea)};var l=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(this.bodyTableid);if(0==t.length)return;for(var a=new Array,l=0;l<t.length;l++)a.push(t[l].index);e.editTable.deleteTableRowsByIndex(this.bodyTableid,a)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;e.button.hideButtonsByAreas([n.BUTTON.list_head,n.BUTTON.list_body]),e.button.setPopContent(n.BUTTON.delete,(0,l.getLangByResId)(this,"1014QUALITYLEVEL-000003"));var a=e.editTable.getStatus(n.AREA.headTableArea)!==n.STATUS.edit;e.button.setButtonVisible([n.BUTTON.edit,n.BUTTON.add,n.BUTTON.delete,n.BUTTON.print,n.BUTTON.refresh],a),e.button.setButtonVisible([n.BUTTON.save,n.BUTTON.cancel],!a);var i=!(e.editTable.getCheckedRows(n.AREA.headTableArea).length>0);e.button.setDisabled((o(t={},n.BUTTON.delete,i),o(t,n.BUTTON.print,i),t)),a?(this.state.searchDisable=!1,this.state.headShowCheck=!0,e.editTable.showColByKey(n.AREA.headTableArea,"opr")):(this.state.searchDisable=!0,this.state.headShowCheck=!1,e.editTable.hideColByKey(n.AREA.headTableArea,"opr"));var s=e.editTable.getStatus(n.AREA.bodyTableArea)!==n.STATUS.edit;e.button.setButtonVisible([n.BUTTON.addLine,n.BUTTON.deleteLine],!s),s?(this.state.bodyShowCheck=!1,e.editTable.hideColByKey(n.AREA.bodyTableArea,"opr")):(this.state.bodyShowCheck=!0,e.editTable.showColByKey(n.AREA.bodyTableArea,"opr"))};var l=a(3),n=a(0);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this.props.editTable.getCheckedRows(this.headTableid).map((function(e){return e.data}));if(null==a||0==a.length)return void(0,o.showWarningInfo)(null,(0,n.getLangByResId)(this,"1014QUALITYLEVEL-000005"));var s=[];a.forEach((function(e){s.push(e.values.pk_qualitylv.value)})),(0,l.print)("pdf",i.URL.print,{oids:s})};var l=a(2),n=a(3),o=a(4),i=a(0)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return a<e-1?a+1-t:e-1-t}}])}));
//# sourceMappingURL=index.89e75729.js.map