/*! @ncctag {"project":"","branch":"","provider":"","date":"2020-5-11 14:51:29"} */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("nc-lightapp-front"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","nc-lightapp-front","react-dom"],t):"object"==typeof exports?exports["uapbd/org/productionplanstru/main/index"]=t(require("react"),require("nc-lightapp-front"),require("react-dom")):e["uapbd/org/productionplanstru/main/index"]=t(e.React,e["nc-lightapp-front"],e.ReactDOM)}(window,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../../../../",n(n.s=665)}({1:function(t,n){t.exports=e},153:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},156:function(e,t,n){var r=n(157);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(7)(r,o);r.locals&&(e.exports=r.locals)},157:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,'* {\n  padding: 0;\n  margin: 0;\n}\n/*定位容器*/\n.uapbd_style_center_container {\n  position: relative;\n  /*容器 子元素 未定义距离*/\n  /*容器 子元素 距离右边 20px*/\n  /*容器 use 子元素 距离右边 20px*/\n}\n.uapbd_style_center_container .uapbd_style_center_undefined {\n  position: absolute;\n}\n.uapbd_style_center_container .uapbd_style_center_right20 {\n  position: absolute;\n  top: 0;\n  right: 20px;\n  bottom: 0;\n}\n.uapbd_style_center_container .uapbd_style_center_left20 {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 20px;\n}\n/*出现 滚动条的容器*/\n.uapbd_style_scroll_container {\n  overflow: auto;\n}\n/*定义滚动条轨道*/\n.uapbd_style_scroll_container::-webkit-scrollbar-track {\n  border-radius: 8px;\n  background-color: white;\n}\n/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n.uapbd_style_scroll_container::-webkit-scrollbar {\n  width: 8px;\n}\n/*定义滑块 内阴影+圆角*/\n.uapbd_style_scroll_container::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  width: 8px;\n  background-color: #d8d8d8;\n}\n.transfer_tree_container {\n  clear: both;\n  height: 90%;\n  width: 100%;\n  margin-top: 10px;\n}\n.transfer_tree_container .left-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.transfer_tree_container .button-area {\n  height: 100%;\n  width: 50px;\n  display: inline-block;\n  vertical-align: middle;\n  padding-top: 30px;\n  text-align: center;\n}\n.transfer_tree_container .button-area .opr-botton {\n  padding-top: 25px;\n  display: block;\n  margin: 0 auto;\n}\n.transfer_tree_container .right-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.transfer_tree_container .transferSwitcherClassSelfNameHidden i {\n  visibility: hidden;\n}\n.transfer_tree_container .left-area-tree .u-tree,\n.transfer_tree_container .right-area-tree .u-tree {\n  height: 360px;\n  overflow: auto;\n}\n.transfer_tree_container .left-area-nei,\n.transfer_tree_container .right-area-nei {\n  height: 100%;\n  border-radius: 3px;\n  border: 1px solid #d0d0d0;\n  background: transparent;\n}\n.transfer_tree_container .opr-botton-trans button {\n  min-width: auto;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n}\n/*\n * 这个是左树的 控制搜索框 宽度的。\n */\n.NC_syncTreeSearch_self_width {\n  width: 240px!important;\n}\n.NC_syncTreeSearch_self_width .u-form-control-wrapper {\n  width: 240px!important;\n}\n/*\n * 这个是左树中加虚线样式。\n */\n.syncTreeComLineStyle .synctree-area .u-tree > li:only-child > ul:before {\n  border-left: none;\n}\n.syncTreeComLineStyle .synctree-area .u-tree > li > ul:last-child::before {\n  border-left: none;\n}\n.syncTreeComLineStyle .synctree-area .u-tree-child-tree-open > li::after {\n  position: absolute;\n  left: 8px;\n  top: -15px;\n  content: "";\n  display: inline-block;\n  width: 1px;\n  height: 28px;\n  border-left: 1px dashed #d0d0d0;\n}\n.syncTreeComLineStyle .synctree-area .node-item .u-tree-switcher {\n  position: relative;\n  z-index: 2;\n}\n.syncTreeComLineStyle .synctree-area li::after {\n  border: none;\n}\n.syncTreeComLineStyle .synctree-area li {\n  position: relative;\n}\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher {\n  position: relative;\n}\n.syncTreeComLineStyle .synctree-area li .u-tree-switcher::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\n  visibility: hidden;\n}\n/*\n * 穿梭树 线样式修改\n */\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li:only-child > ul:before {\n  border-left: none;\n}\n.syncTreeComTransferLineStyle .synctree-area .u-tree > li > ul:last-child::before {\n  border-left: none;\n}\n.syncTreeComTransferLineStyle .synctree-area .u-tree-child-tree-open > li::after {\n  position: absolute;\n  left: 8px;\n  top: -15px;\n  content: "";\n  display: inline-block;\n  width: 1px;\n  height: 28px;\n  border-left: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area .node-item .u-tree-switcher {\n  position: relative;\n  z-index: 2;\n}\n.syncTreeComTransferLineStyle .synctree-area li::after {\n  border: none;\n}\n.syncTreeComTransferLineStyle .synctree-area li {\n  position: relative;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_show_point_line::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line::before {\n  position: absolute;\n  left: 11px;\n  top: 8px;\n  content: "";\n  display: inline-block;\n  width: 10px;\n  border-top: 1px dashed #d0d0d0;\n}\n.syncTreeComTransferLineStyle .synctree-area li .isLeaf_hiden_point_line > i::before {\n  visibility: hidden;\n}\n.node-item-edit-point-style-self {\n  background-color: #ebedf2;\n}\n.node-item-edit-point-style-self > a span {\n  color: #e14c46!important;\n}\n.table-slef-set-long span {\n  margin-right: 0px!important;\n}\n',""])},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],i=0,s={},l=function(){2==i&&a&&a(s.templateData||{},s.langData||{},s.inlt||{})};n.callback&&console.log("咱们自己createUIDom会同时获取多语和单据模板,并通过一个回调函数返回, langCfg中的回调函数将被忽略");var c=r({},n,{callback:function(e,t,n){i+=1,t||(0,o.toast)({content:"load muti lang error",color:"warning"}),s.langData=e||{},s.inlt=n||{},l()}});e.MultiInit.getMultiLang(c),e.createUIDom(t,(function(e){i+=1,s.templateData=e||{},l()}))}};var o=n(3)},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(o,r({},a,e))};var o=n(3).high.Refer,a=t.conf={multiLang:{domainName:"uap",currentLocale:"zh-CN",moduleId:"uapRefer"},queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",placeholder:"1880000025-000061",refName:"1880000025-000061",rootNode:{refname:"1880000025-000061",refpk:"root"}}},163:function(e,t,n){var r=n(164);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(7)(r,o);r.locals&&(e.exports=r.locals)},164:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".uapbd-transfer-main {\n  clear: both;\n  width: 100%;\n  min-height: 300px;\n}\n.uapbd-transfer-main .left-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.uapbd-transfer-main .button-area {\n  height: 100%;\n  width: 50px;\n  display: inline-block;\n  vertical-align: middle;\n  padding-top: 30px;\n  text-align: center;\n}\n.uapbd-transfer-main .button-area .opr-botton {\n  padding-top: 25px;\n  display: block;\n  margin: 0 auto;\n}\n.uapbd-transfer-main .right-area {\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  width: calc(50% - 91px);\n  overflow: auto;\n}\n.transfer-treefilter-highlight {\n  color: red;\n}\n.transferSwitcherClassSelfNameHidden i {\n  visibility: hidden;\n}\n.uapbd-transfer-main .left-area-tree .u-tree,\n.uapbd-transfer-main .right-area-tree .u-tree {\n  height: 360px;\n  overflow: auto;\n}\n.left-area-nei,\n.right-area-nei {\n  height: 100%;\n  border-radius: 3px;\n  border: 1px solid #d0d0d0;\n  background: #ffffff;\n}\n.left-area-nei .left-area-nei-header,\n.right-area-nei .left-area-nei-header {\n  background: #f9f9f9;\n}\n.opr-botton-trans button {\n  min-width: auto;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n}\n",""])},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=(r=i)&&r.__esModule?r:{default:r},l=n(3);n(163),n(156);var c=l.base.NCTree,u=l.base.NCFormControl,d=l.base.NCDiv,p=l.base.NCButton,f=function(e){var t=[],n={},r={root:!0,key:"root",code:"",title:""},o={};this.arbitraryHier=e,this.setRootTitle=function(e){r.title=e,r.code=e},this.initData=function(e){!function e(t){t.forEach((function(t){"root"==t.key||t.pid||(t.pid="root"),n[t.key]=t,e(t.children||[])}))}(t=e),n[r.key]=a({},r,{children:e})}.bind(this);var i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],a({},r)),s=function(t,n){t.map((function(t){var r=!(!t.move||t.nodeData&&t.nodeData.isFix)==e?a({},t,{children:[]}):void 0,o=t.children||[];r&&(n.children=n.children||[],n.children.push(r)),s(o,r||i)}))};if(this.arbitraryHier&&e){s=function(t,n){t.forEach((function(t,r,o){var i=!(!t.move||t.nodeData&&t.nodeData.isFix)==e?a({},t,{children:[]}):void 0;i&&i.targetPid&&i.targetPid==n.key&&(n.children=n.children||[],n.children.push(i))})),n.children&&n.children.forEach((function(e){s(t,e)}))};var l=[];for(var c in n)l.push(n[c]);return s(l,i),o=i,i}return s(t,i),i}.bind(this);this.renderNode=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],n=arguments[2],r=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=i(e,o),l=[];if(t){var u=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!1;return(n||[]).forEach((function(n){var o=e(n.children||[]);n.needExpand=o,n.needShow=!!o||!!(n.code&&-1!=n.code.indexOf(t)||-1!=n.title.indexOf(t)),r=r||n.needShow,o&&l.push(n.key)})),r};u([a]);l.push("root")}n||(l=r);var d=function(e,n){var r=!(e.children||[]).length,o=function(e){if(t&&t.length>0&&e&&e.length>0&&-1!=e.indexOf(t)){var n=e.indexOf(t),r=n+t.length;return s.default.createElement("span",null,s.default.createElement("span",{className:"refer-tree-title"},e.substring(0,n)),s.default.createElement("span",{className:"transfer-treefilter-highlight"},t),s.default.createElement("span",null,e.substring(r,e.length)))}return s.default.createElement("span",null,s.default.createElement("span",{className:"refer-tree-title"},e))},a=s.default.createElement("span",null,s.default.createElement("i",{className:r?"tree-dian":l&&l.indexOf(e.key)>-1?"icon iconfont  icon-wenjianjiadakai tree-wenjian":"icon iconfont  icon-wenjianjia tree-wenjian"})," ","root"!=e.key&&o(e.code),"  ",o(e.name||e.title));return s.default.createElement("div",{className:"title-con"},a)},p=function e(t,n){return t.filter((function(e){return null==e.needShow&&null==e.needExpand||e.needShow||e.needExpand||"root"==e.key})).map((function(t){var n=t.children||[],r=!n.length?"isLeaf_hiden_point_line":"isLeaf_show_point_line";return s.default.createElement(c.NCTreeNode,{liAttr:{fieldid:(t.code||t.key)+"_node"},switcherClass:r,title:d(t),key:t.key,isLeaf:0==n.length},e(n))}))};return{nodeComps:p([a]),expandKeys:l}};var l=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.forEach((function(t){t.move=n,n&&!t.targetPid?t.targetPid=t.pid:n||(t.targetPid=null),r&&e(t.children||[],n)}))},u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.forEach((function(t){t.children&&0!==t.children.length||(t.move=n,t.targetPid=n?r||"root":null),e(t.children||[],n)}))},d=function e(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.pid,i=n[a]||r;i.root||(i.move=o,e(i,o))};this.moveRight=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=n[e],p=!0;if(c){if(t){var f=n[c.pid];f&&(f.targetPid=s||"root")}else o?(c.move=p,c.targetPid=s||"root"):(r||a)&&(c.children||[]).forEach((function(e){e.targetPid=s||"root"}));t&&d(c,p),r&&l(c.children||[],p,a),i&&u([c],p,s)}},this.moveLeft=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=n[t],f=!1;if(p){var h=function e(t){var r=n[t.key];r.targetPid=null,r.move=!1,t.children.forEach((function(t){e(t)}))},m=function e(t){t.key==p.key&&h(t),t.children.forEach((function(t){e(t)}))};i&&(p.move=f,e&&m(o)),r&&d(p,f),a&&l(p.children||[],f,s),c&&u([p],f)}},this.getData=function(t){var r=[],o=n.root;return function n(o){o.forEach((function(o){if(!(!!o.move!==t||o.nodeData&&o.nodeData.isFix)){var i=a({},o,{children:[]});e&&(i.pid=i.targetPid),r.push(i)}n(o.children||[])}))}(o&&o.children||[]),r}},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMoveType=function(e){switch(e){case"0":n.state.moveType.incParent=!1,n.state.moveType.incChild=!0,n.state.moveType.incSelf=!0,n.state.moveType.isAllChild=!0,n.state.moveType.isOnlyLeaf=!1,n.setState(n.state);break;case"1":n.state.moveType.incParent=!1,n.state.moveType.incChild=!1,n.state.moveType.incSelf=!0,n.state.moveType.isAllChild=!1,n.state.moveType.isOnlyLeaf=!1,n.setState(n.state);break;case"2":n.state.moveType.incParent=!1,n.state.moveType.incChild=!0,n.state.moveType.incSelf=!1,n.state.moveType.isAllChild=!1,n.state.moveType.isOnlyLeaf=!1,n.setState(n.state);break;case"3":n.state.moveType.incParent=!1,n.state.moveType.incChild=!1,n.state.moveType.incSelf=!1,n.state.moveType.isAllChild=!1,n.state.moveType.isOnlyLeaf=!0}},n.setRootTitle=function(e){n.state.treeWapper.setRootTitle(e),n.setState(n.state)},n.state={lang:e.lang,treeWapper:new f(!!n.props.arbitraryHier),showSearch:!!e.showSearch,onBeforeEvent:e.onBeforeEvent,onAfterEvent:e.onAfterEvent,hideAllMoveBtn:e.hideAllMoveBtn,treesearchorigin:{type:"search",fieldid:"originsearch",value:void 0,onChange:function(e){n.state.treesearchorigin.value=e,n.setState(n.state)},onSearch:function(){n.state.origin.searchValue=n.state.treesearchorigin.value,n.state.origin.autoExpandParent=!0,n.state.origin.searchExpand=!1,n.setState(n.state)}},origin:{searchValue:void 0,selectedKeys:[],fieldid:"origintree",expandedKeys:["root"],multiple:!0,autoExpandParent:!0,searchExpand:!0,showLine:!0,onSelect:function(e){n.state.origin.selectedKeys=e,n.setState(n.state)},onExpand:function(e){n.state.origin.expandedKeys=e,n.state.origin.autoExpandParent=!1,n.state.origin.searchExpand=!0,n.setState(n.state)}},treesearchtarget:{type:"search",fieldid:"targetsearch",value:void 0,onChange:function(e){n.state.treesearchtarget.value=e,n.setState(n.state)},onSearch:function(){n.state.target.searchValue=n.state.treesearchtarget.value,n.state.target.autoExpandParent=!0,n.state.target.searchExpand=!1,n.setState(n.state)}},target:{searchValue:void 0,selectedKeys:[],showLine:!0,fieldid:"targettree",expandedKeys:["root"],multiple:!0,autoExpandParent:!0,searchExpand:!0,firstSelectedKey:null,onSelect:function(e){null==e||0==e.length?n.state.target.firstSelectedKey=null:n.state.target.firstSelectedKey||(n.state.target.firstSelectedKey=e[0]),n.state.target.selectedKeys=e,n.setState(n.state)},onExpand:function(e){n.state.target.expandedKeys=e,n.state.target.autoExpandParent=!1,n.state.target.searchExpand=!0,n.setState(n.state)}},incChild:{checked:!1,onChange:function(e){n.state.incChild.checked=e,n.setState(n.state)}},moveType:{ncParent:!1,incChild:!0,incSelf:!0,isAllChild:!0,isOnlyLeaf:!1}},n.state.lang&&n.state.lang.rootName&&n.setRootTitle(n.state.lang.rootName),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"reset",value:function(e){this.state.treeWapper.initData(e),this.setState(this.state)}},{key:"getData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.state.treeWapper.getData(e)}},{key:"render",value:function(){var e=this,t=this.state.treeWapper,n=this.state.origin,r=this.state.target,o=t.renderNode(!1,n.searchValue,!(!n.searchValue||this.state.origin.searchExpand),n.expandedKeys),i=t.renderNode(!0,r.searchValue,!(!r.searchValue||this.state.target.searchExpand),r.expandedKeys,this.state.target.firstSelectedKey),l=n.searchValue&&!this.state.origin.searchExpand?o.expandKeys:n.expandedKeys,f=r.searchValue&&!this.state.target.searchExpand?i.expandKeys:r.expandedKeys,h=a({},n,{expandedKeys:l}),m=a({},r,{expandedKeys:f});return s.default.createElement("div",{className:"uapbd-transfer-main"},s.default.createElement(d,{fieldid:"origintreearea",areaCode:d.config.TREE,className:"left-area nc-theme-transfer-wrap-bgc",style:{height:"400px",padding:"10px",background:"rgba(249,249,249,1)",width:"calc(50% - 25px)"}},s.default.createElement("div",{className:"left-area-nei nc-theme-transfer-wrap-bgc nc-theme-area-split-bc"},s.default.createElement("div",{className:"left-area-nei-header nc-theme-transfer-wrap-bgc",style:{height:30,width:"100%",margin:0,paddingTop:5,paddingLeft:20}},this.state.lang&&this.state.lang.leftTreeName?this.state.lang.leftTreeName:""),this.state.showSearch&&s.default.createElement("div",{style:{marginLeft:20,marginTop:10,marginRight:20}},s.default.createElement(u,this.state.treesearchorigin)),s.default.createElement("div",{className:"syncTreeCom syncTreeComTransferLineStyle",style:{height:"calc(100% - 70px)"}},s.default.createElement(d,{fieldid:"origintree",areaCode:d.config.TreeCom,className:"synctree-area",style:{marginLeft:20,width:"calc(100% - 20px)"}},s.default.createElement(c,a({closeIcon:s.default.createElement("i",{class:"icon iconfont icon-shushouqi tree-swich"}),openIcon:s.default.createElement("i",{class:"icon iconfont icon-shu_zk tree-swich"})},h),o.nodeComps))))),s.default.createElement("div",{className:"button-area"},s.default.createElement("div",{className:"opr-botton opr-botton-trans"},s.default.createElement(p,{fieldid:"movetotaget",onClick:function(){if(e.state.onBeforeEvent&&"function"==typeof e.state.onBeforeEvent&&!e.state.onBeforeEvent("l2r",t.getData(!1),t.getData(!0),n.selectedKeys))return;n.selectedKeys.forEach((function(n){t.moveRight(n,e.state.moveType.incParent,e.state.moveType.incChild,e.state.moveType.incSelf,e.state.moveType.isAllChild,e.state.moveType.isOnlyLeaf,e.state.target.firstSelectedKey)})),e.state.origin.selectedKeys=[],e.state.target.selectedKeys=[],e.state.target.firstSelectedKey=null,e.setState(e.state,(function(){e.state.onAfterEvent&&"function"==typeof e.state.onAfterEvent&&e.state.onAfterEvent("l2r",t.getData(!1),t.getData(!0),n.selectedKeys)}))}.bind(this)},">")),s.default.createElement("div",{className:"opr-botton opr-botton-trans"},!this.state.hideAllMoveBtn&&s.default.createElement(p,{fieldid:"movetotagetall",onClick:function(){if(e.state.onBeforeEvent&&"function"==typeof e.state.onBeforeEvent&&!e.state.onBeforeEvent("all_l2r",t.getData(!1),t.getData(!0)))return;t.moveRight("root",!1,!0,!1,!0,!1),e.state.origin.selectedKeys=[],e.state.target.selectedKeys=[],e.state.target.firstSelectedKey=null,e.setState(e.state,(function(){e.state.onAfterEvent&&"function"==typeof e.state.onAfterEvent&&e.state.onAfterEvent("all_l2r",t.getData(!1),t.getData(!0))}))}.bind(this)},">>")),s.default.createElement("div",{className:"opr-botton opr-botton-trans"},s.default.createElement(p,{fieldid:"movetoorigin",onClick:function(){if(e.state.onBeforeEvent&&"function"==typeof e.state.onBeforeEvent&&!e.state.onBeforeEvent("r2l",t.getData(!1),t.getData(!0),n.selectedKeys))return;r.selectedKeys.forEach((function(n){t.moveLeft(n,e.state.moveType.incParent,e.state.moveType.incChild,e.state.moveType.incSelf,e.state.moveType.isAllChild,e.state.moveType.isOnlyLeaf)})),e.state.origin.selectedKeys=[],e.state.target.selectedKeys=[],e.state.target.firstSelectedKey=null,e.setState(e.state,(function(){e.state.onAfterEvent&&"function"==typeof e.state.onAfterEvent&&e.state.onAfterEvent("r2l",t.getData(!1),t.getData(!0),n.selectedKeys)}))}.bind(this)},"<")),s.default.createElement("div",{className:"opr-botton opr-botton-trans"},!this.state.hideAllMoveBtn&&s.default.createElement(p,{fieldid:"movetooriginall",onClick:function(){if(e.state.onBeforeEvent&&"function"==typeof e.state.onBeforeEvent&&!e.state.onBeforeEvent("all_r2l",t.getData(!1),t.getData(!0)))return;t.moveLeft("root",!1,!0,!1,!0,!1),e.state.origin.selectedKeys=[],e.state.target.selectedKeys=[],e.state.target.firstSelectedKey=null,e.setState(e.state,(function(){e.state.onAfterEvent&&"function"==typeof e.state.onAfterEvent&&e.state.onAfterEvent("all_r2l",t.getData(!1),t.getData(!0))}))}.bind(this)},"<<"))),s.default.createElement(d,{fieldid:"targettreearea",areaCode:d.config.TREE,className:"right-area nc-theme-transfer-wrap-bgc",style:{height:"400px",padding:"10px",background:"rgba(249,249,249,1)",width:"calc(50% - 25px)"}},s.default.createElement("div",{className:"right-area-nei nc-theme-transfer-wrap-bgc nc-theme-area-split-bc"},s.default.createElement("div",{className:"left-area-nei-header nc-theme-transfer-wrap-bgc",style:{height:30,width:"100%",margin:0,paddingTop:5,paddingLeft:20}},this.state.lang&&this.state.lang.rightTreeName?this.state.lang.rightTreeName:""),this.state.showSearch&&s.default.createElement("div",{style:{marginLeft:20,marginTop:10,marginRight:20}},s.default.createElement(u,this.state.treesearchtarget)),s.default.createElement("div",{className:"syncTreeCom syncTreeComTransferLineStyle",style:{height:"calc(100% - 70px)"}},s.default.createElement(d,{fieldid:"targettree",areaCode:d.config.TreeCom,className:"synctree-area",style:{marginLeft:20,width:"calc(100% - 20px)"}},s.default.createElement(c,a({showLine:!0,closeIcon:s.default.createElement("i",{class:"icon iconfont icon-shushouqi tree-swich"}),openIcon:s.default.createElement("i",{class:"icon iconfont icon-shu_zk tree-swich"})},m),i.nodeComps))))))}}]),t}(i.Component);t.default=h},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},columnConfig:[{name:["refer-000002","refer-000003"],code:["refcode","refname"]}],refType:"grid",refName:"refer-000260",placeholder:"refer-000260",refCode:"uapbd.org.OrgTypeGridRef",queryGridUrl:"/nccloud/uapbd/org/OrgTypeGridRef.do",isMultiSelectedEnabled:!1,isShowUnit:!1,unitProps:a.conf,isHasDisabledData:!1};return React.createElement(i,r({},t,e))};var o=n(3),a=n(194),i=o.high.Refer},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return React.createElement(i,r({},s,e))};var o=n(3),a=n(160),i=o.high.Refer,s=t.conf={multiLang:{domainName:"uapbd",currentLocale:"zh-CN",moduleId:"refer_uapbd"},refType:"grid",refName:"refer-000288",placeholder:"refer-000288",refCode:"uapbd.refer.org.StockOrgGridRef",queryGridUrl:"/nccloud/uapbd/org/StockOrgGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:["refer-000002","refer-000003"],code:["refcode","refname"]}],unitProps:a.conf,isShowUnit:!1}},203:function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.component=void 0;var r=d(n(289)),o=d(n(290)),a=d(n(291)),i=d(n(292)),s=d(n(293)),l=d(n(294)),c=d(n(295)),u=d(n(296));function d(e){return e&&e.__esModule?e:{default:e}}var p={NCTable:r.default,NCTree:o.default,NCButton:a.default,Refer:i.default,NCSelect:s.default,NCIcon:l.default,NCFormControl:c.default,ReferWapper:u.default};t.component=p},286:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<a;l=r[++n])m(l)||!S(l)?i+=" "+l:i+=" "+s(l);return i},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var a,i={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&P(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=u(e,o,r)),o}var a=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var i=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),T(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return d(n);if(0===i.length){if(P(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return d(n)}var c,S="",E=!1,C=["{","}"];(f(n)&&(E=!0,C=["[","]"]),P(n))&&(S=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(S=" "+RegExp.prototype.toString.call(n)),w(n)&&(S=" "+Date.prototype.toUTCString.call(n)),T(n)&&(S=" "+d(n)),0!==i.length||E&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,o){for(var a=[],i=0,s=t.length;i<s;++i)x(t,String(i))?a.push(p(e,t,n,r,String(i),!0)):a.push("");return o.forEach((function(o){o.match(/^\d+$/)||a.push(p(e,t,n,r,o,!0))})),a}(e,n,r,s,i):i.map((function(t){return p(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,S,C)):C[0]+S+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,a){var i,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),x(r,o)||(i="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(i)){if(a&&o.match(/^\d+$/))return s;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function g(e){return void 0===e}function v(e){return S(e)&&"[object RegExp]"===E(e)}function S(e){return"object"==typeof e&&null!==e}function w(e){return S(e)&&"[object Date]"===E(e)}function T(e){return S(e)&&("[object Error]"===E(e)||e instanceof Error)}function P(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!i[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;i[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else i[n]=function(){};return i[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=v,t.isObject=S,t.isDate=w,t.isError=T,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(287);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",_(),t.format.apply(t,arguments))},t.inherits=n(288),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=j,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var a=this,i=function(){return o.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(O,t,i)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(203))},287:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},288:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCTable,u=i.base.NCDiv,d=i.base.NCTooltip,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initColumns=function(){var e=this,t=this.state.newcols,n=this.props,r=n.columns,a=(n.title,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)));if(!(t&&t.length>0)){var i=a[0].dataIndex||a[0].attrcode;["index","numberindex","id"].includes(i)&&Object.assign(a[0],{fixed:"left"});var s=a.map((function(t){var n=t.render;return t.render=function(e,r,a){return l.default.createElement(d,o({},this.tooltipcfg,{overlay:e}),l.default.createElement("span",{fieldid:t.dataIndex,title:""},n?n(e,r,a):e))}.bind(e),t.title=t.title&&"span"===t.title.type?t.title:l.default.createElement("span",{fieldid:t.dataIndex},t.label||t.title),t}));return this.setState({newcols:s}),s}},n.tooltipcfg={className:"tooltip-word-color",placement:"top",delay:1},n.state={newcols:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({newcols:[]})}},{key:"render",value:function(){var e=this.props.columns,t=e&&e.length>0&&this.initColumns(),n=this.state.newcols,r=t||n,a=o({},this.props,{columns:r});return l.default.createElement(u,{fieldid:this.props.fieldid||this.props.tableId||"basetable_comp",areaCode:u.config.TableCom},r&&r.length>0&&l.default.createElement(c,a))}}]),t}(s.Component);t.default=p},290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCTree,u=i.base.NCDiv,d=c.NCTreeNode,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getParentDomFieldId=function(e){var t=ReactDOM.findDOMNode(e);if(!t)return null;return function e(t){for(;t.parentElement;)return t.parentElement.hasAttribute("fieldid")?t.parentElement.getAttribute("fieldid"):e(t.parentElement)}(t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.getParentDomFieldId(this),t=e&&e.substr(0,e.indexOf("_")),n=this.props.fieldid||t||this.props.treeId||"basetree_comp",r=o({},this.props,{fieldid:n,openIcon:l.default.createElement("i",{fieldid:"opentree-switcher",class:"icon iconfont icon-shu_zk tree-swich"}),closeIcon:l.default.createElement("i",{fieldid:"closetree-switcher",class:"icon iconfont icon-shushouqi tree-swich"})});return l.default.createElement(u,{fieldid:n,areaCode:u.config.TreeCom},l.default.createElement(c,r))}}]),t}(s.Component);p.NCTreeNode=d,t.default=p},291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCButton,u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=o({},this.props,{fieldid:this.props.fieldid||this.props.id||this.props.key||"selfopr"});return l.default.createElement(c,e)}}]),t}(s.Component);t.default=u},292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=(r=i)&&r.__esModule?r:{default:r};var l=n(3).high.Refer,c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.attrcode,n=e.fieldid,r=e.refCode,a=e.refName,i=e.refType,c=e.queryTreeUrl,u=e.queryGridUrl,d=("tree"==i||"gridTree"==i?c:u).split("/"),p=null;d[d.length-1]&&d[d.length-1].split(".").length>1&&(p=d[d.length-1].split(".")[0].toLowerCase());var f=null;if(r&&r.indexOf(".")>-1){var h=r.split(".");f=h[h.length-1].toLowerCase()}var m=o({},this.props,{fieldid:t||(n||p||f||a)});return s.default.createElement(l,m)}}]),t}(i.Component);t.default=c},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCSelect,u=c.NCOption,d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props.fieldid||this.props.defaultValue||"common",t=o({},this.props,{fieldid:e});return l.default.createElement(c,t)}}]),t}(s.Component);d.NCOption=u,t.default=d},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCIcon,u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=o({},this.props,{fieldid:this.props.fieldid||this.props.type});return l.default.createElement(c,e)}}]),t}(s.Component);t.default=u},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),l=(r=s)&&r.__esModule?r:{default:r};var c=i.base.NCFormControl,u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.fieldid,n=e.type,r=e.key,a=e.placeholder,i=o({},this.props,{fieldid:t||n||r||a||"ncformcontrol"});return l.default.createElement(c,i)}}]),t}(s.Component);t.default=u},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=(r=i)&&r.__esModule?r:{default:r};var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.ReferComp,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["ReferComp"]),r=t&&t();if(!r)return null;var a=r.props,i=a.attrcode,l=a.fieldid,c=a.refCode,u=a.refName,d=a.refType,p=a.queryTreeUrl,f=a.queryGridUrl,h=("tree"==d||"gridTree"==d?p:f).split("/"),m=h[h.length-1].split(".")[0].toLowerCase(),b=null;if(c&&c.indexOf(".")>-1){var y=c.split(".");b=y[y.length-1].toLowerCase()}var g=o({},n,{fieldid:i||(l||m||b||u)});return s.default.createElement(t,g)}}]),t}(i.Component);t.default=l},3:function(e,n){e.exports=t},4:function(e,t){e.exports=n},6:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},665:function(e,t,n){"use strict";var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=m(i),l=m(n(4)),c=n(3),u=n(284);n(666);var d=m(n(158)),p=m(n(165)),f=m(n(160)),h=m(n(193));n(286);function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var y=c.base.NCCol,g=c.base.NCRow,v=c.base.NCFormControl,S=c.high.PrintOutput,w=(c.base.NCDatePicker,c.base.NCPanel,c.base.NCCheckbox),T=(c.base.NCPopconfirm,c.base.NCRadio),P=c.base.NCStep,E=u.component.NCButton,C=P.NCSteps,k=c.base.NCDiv,_=(c.base.NCTree,"systemTree"),x="memberTreeTable",j="sysForm",O="",D="add",N="",M="",F=!1,B="BUSINESSUNIT00000000",A="",L="",R=!1,I=!0,V=!1,K="101001PROPS_list",U="stepListTable",z={mainPageCode:"10100PROPS_productionplanstru",sysFormPageCode:"101001PPS_card_sys",memberFomPageCode:"10100FMSB_card",orgFormPageCode:"10100RCSB_reportorg"},q={nodeType:"GROPE_NODE",appId:"1001Z01000000000002E",appCode:"10100PROPS"},G=["Editline","Delline"],H="/nccloud/uapbd/org/ProductionPlanStruQueryAction.do",W="/nccloud/uapbd/org/ProductionPlanStruDeleteAction.do",J="/nccloud/uapbd/org/ProductionPlanStruEnableAction.do",$="/nccloud/uapbd/org/ProductionPlanStruDisableAction.do",Q="/nccloud/uapbd/org/ProductionPlanStruQueryByPkAction.do",Z="/nccloud/uapbd/org/ProductionPlanStruSaveAction.do",X="/nccloud/uapbd/org/ProductionPlanStruCopySaveAction.do",Y="/nccloud/uapbd/org/ProductionPlanStruMemberQueryActon.do",ee="/nccloud/uapbd/org/ProductionPlanStruMemberSaveAction.do",te="/nccloud/uapbd/org/ProductionPlanStruMemberQueryByPk.do",ne="/nccloud/uapbd/org/ProductionPlanStruMemberDeleteAction.do",re="/nccloud/uapbd/org/ProductionPlanStruMemberAddAction.do",oe="/nccloud/uapbd/org/ProductionPlanStruMemberImportQueryAction.do",ae="/nccloud/uapbd/org/ProductionPlanStruMemberImportSaveAction.do",ie="/nccloud/uapbd/org/ProductionPlanStruMemberSortQueryAction.do",se="/nccloud/uapbd/org/ProductionPlanStruMemberSetOrderAction.do",le="/nccloud/uapbd/org/ProductionPlanStruPrintAction.do",ce="/nccloud/uapbd/org/ProductionPlanStruQuerySourceOrgAction.do",ue="/nccloud/uapbd/org/ProductionPlanStruCreateFromOrgAction.do",de="/nccloud/uapbd/org/ProductionPlanStruBatchSaveAction.do",pe=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.call(n),n.props=e;var r=n.props,a=(r.form,r.button,r.table,r.search,r.syncTree.setSyncTreeData);return n.setSyncTreeData=a,n.state={oprType:"0",currentStep:0,importLeftTreeData:[],importRightTreeData:[],refs:{},pks:[],json:{},expandKeys:[],searchValue:""},n.initTemplate(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.loadLeftTreeData.call(this,R)}},{key:"windowCloseListener",value:function(e){window.onbeforeunload="browse"===e?null:function(){return""}}},{key:"loadLeftTreeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.props.button.setButtonsVisible({BatchAdd:!1}),(0,c.ajax)({url:H,method:"post",data:{showDisable:R,nodeType:this.props.nodeType},success:function(e){if(e.success){if(e.data){var a=n.dealTreeData(e.data);n.setSyncTreeData(_,a),n.props.syncTree.setNodeSelected(_,e.data[0].refpk),"root"!==e.data[0].refpk&&n.onSelectEve(e.data[0].refpk,null,!0)}else n.setSyncTreeData(_,[]),n.props.treeTableManyCol.emptyAllData(x);t&&r&&o&&(0,c.toast)({color:"success",title:n.state.json["101001PPS-000001"]}),n.toggleShow()}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onDeleteSysEve",value:function(e){var t=this;O=e,(0,c.promptBox)({color:"warning",title:this.state.json["101001PPS-000018"],content:this.state.json["101001PPS-000002"],beSureBtnClick:function(){t.onDeleteSys()}})}},{key:"onDeleteSys",value:function(){var e=O.id,t=this;(0,c.ajax)({url:W,method:"post",data:{pk_system:e,nodeType:t.props.nodeType,ts:O.nodeData.ts},success:function(n){t.props.syncTree.delNodeSuceess(_,e),t.loadLeftTreeData.call(t,!1),(0,c.toast)({color:"success",title:t.state.json["101001PPS-000003"]})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onSelectEve",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this;(0,c.ajax)({url:Y,method:"post",data:{pk_system:e},success:function(e){if(e.success)if(e.data){var t=o.props.treeTableManyCol.createNewData(e.data.memberTreeTable.rows);o.props.treeTableManyCol.initTreeTableData(x,t,"refpk"),o.expandTreeNode()}else o.props.treeTableManyCol.emptyAllData(x);else(0,c.toast)({color:"danger",title:e.message});r&&"function"==typeof r&&r()},error:function(e){(0,c.toast)({color:"danger",title:e.message})}}),N=this.props.syncTree.getSelectNode(_).nodeData.pk_group,M=this.props.syncTree.getSelectNode(_).nodeData.groupname,this.toggleShow()}},{key:"expandEve",value:function(e){!this.state.expandKeys.includes(e.key)&&this.state.expandKeys.push(e.key),this.setState(this.state)}},{key:"collapandEve",value:function(e){this.state.expandKeys=this.state.expandKeys.filter((function(t){return t!=e.key})),this.setState(this.state)}},{key:"toggleShow",value:function(){this.props.button.setButtonsVisible({BatchAdd:!1}),this.props.syncTree.setTreeEdit(_,!0),this.props.button.setMainButton("Add",!0);var e=this.props.syncTree.getSyncTreeValue(_);if(e&&0!==e.length){this.props.button.setButtonDisabled(["Print","Output"],!1);var t=this.props.syncTree.getSelectNode(_);if(t)"root"===t.id?this.props.button.setButtonDisabled(["Copy","Enable","Disable","Import","AddVirtual","SortManage"],!0):this.props.button.setButtonDisabled(["Copy","Enable","Disable","Import","AddVirtual","SortManage"],!1),"2"===t.nodeData.enablestate?(this.props.button.setButtonDisabled(["Enable"],!0),this.props.button.setButtonDisabled(["Disable"],!1)):(this.props.button.setButtonDisabled(["Enable"],!1),this.props.button.setButtonDisabled(["Disable"],!0));else this.props.button.setButtonDisabled(["Copy","Enable","Disable","Import","AddVirtual","SortManage","Print","Output"],!0)}else this.props.button.setButtonDisabled(["Copy","Enable","Disable","Import","AddVirtual","SortManage","Print","Output"],!0)}},{key:"onMouseEnterEve",value:function(e){if(e===this.state.json["101001PPS-000004"]){this.props.syncTree.hideIcon(_,e,{delIcon:!1,editIcon:!1,addIcon:!0})}else{this.props.syncTree.hideIcon(_,e,{addIcon:!0,editIcon:!0,delIcon:!0})}}},{key:"onCheckShowDisable",value:function(e){R=!R,this.loadLeftTreeData.call(this,R)}},{key:"onAdd",value:function(){D="add",this.openSysModal("",this.state.json["101001PPS-000061"])}},{key:"onBatchAdd",value:function(){var e=this;this.props.modal.show("stepModal"),this.setState({currentStep:0,oprType:"0"}),(0,c.ajax)({url:ce,data:{},success:function(t){t.success,t.data;t.data?(e.orgTransfer.reset(t.data.orgVOs),e.state.allTreeData=t.data&&t.data.orgVOs?t.data.orgVOs:[]):e.orgTransfer.reset([]),e.orgTransfer.setMoveType("0"),e.updatestepModalButtonStatus(0),e.orgTransfer.setRootTitle(e.state.json["101001PPS-000053"])}})}},{key:"onCopy",value:function(){D="copy",this.openSysModal(this.props.syncTree.getSelectNode(_).id,this.state.json["101001PPS-000062"])}},{key:"onEnable",value:function(){var e=this.props.syncTree.getSelectNode(_),t=this;(0,c.ajax)({url:J,method:"post",data:{pk_system:e.id,nodeType:t.props.nodeType},success:function(e){if(e.success){var n=t.dealTreeData(e.data);t.props.syncTree.editNodeSuccess(_,n),t.props.button.setButtonDisabled(["Enable"],!0),t.props.button.setButtonDisabled(["Disable"],!1),(0,c.toast)({color:"success",title:t.state.json["101001PPS-000044"]})}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onDisable",value:function(){var e=this.props.syncTree.getSelectNode(_),t=this;(0,c.ajax)({url:$,method:"post",data:{pk_system:e.id,nodeType:t.props.nodeType},success:function(e){if(e.success){var n=t.dealTreeData(e.data);t.props.syncTree.editNodeSuccess(_,n),t.props.button.setButtonDisabled(["Enable"],!1),t.props.button.setButtonDisabled(["Disable"],!0),(0,c.toast)({color:"success",title:t.state.json["101001PPS-000045"]})}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onEditSys",value:function(e){D="edit",this.openSysModal(e.id,this.state.json["101001PPS-000061"])}},{key:"onSaveSys",value:function(){var e=this;if(this.props.form.isCheckNow(j)){var t=this.props.form.getAllFormValue(j);t.areacode="sysForm";var n={model:t,pageid:z.mainPageCode};this.props.validateToSave(n,(function(){e.systemSave(t)}),{sysForm:"form"},"form")}}},{key:"systemSave",value:function(e){var t={model:e,pageid:z.sysFormPageCode},n=this,r=Z;"copy"===D&&(r=X),(0,c.ajax)({url:r,method:"post",data:t,success:function(e){if(e.success){var t=n.dealTreeData(e.data);"add"===D||"copy"===D?n.props.syncTree.addNodeSuccess(_,t):n.props.syncTree.editNodeSuccess(_,t),"add"===D?(0,c.toast)({color:"success",title:n.state.json["101001PPS-000005"]}):"edit"===D?(0,c.toast)({color:"success",title:n.state.json["101001PPS-000057"]}):"copy"===D&&(0,c.toast)({color:"success",title:n.state.json["101001PPS-000058"]}),n.props.modal.close("sysModal"),n.windowCloseListener("browse")}else(0,c.toast)({color:"danger",title:e.message})}})}},{key:"dealTreeData",value:function(e){return e.forEach((function(e){e.iconBox={editIcon:!0,addIcon:!0,delIcon:!0},function e(t){t.iconBox={editIcon:!0,addIcon:!0,delIcon:!0},t.children&&0!=t.children.length?(t.isLeaf=!1,t.children.forEach((function(t){e(t)}))):delete t.children}(e)})),e}},{key:"onEditMember",value:function(e,t,n,r){var o=this;"edit",(0,c.ajax)({url:te,data:{pk_member:n.key},success:function(e){if(e.success){o.props.modal.show("memberModal"),o.props.form.setFormStatus("memberForm","edit"),o.props.form.EmptyAllFormValue("memberForm"),o.props.form.EmptyAllFormValue("orgForm");var t={memberForm:{rows:e.data.memberForm.memberForm.rows}};o.props.form.setAllFormValue(t);var n={orgForm:{rows:e.data.orgForm.orgForm.rows}};o.props.form.setAllFormValue(n),e.data.ismanageorg?o.props.form.setFormStatus("orgForm","edit"):(o.props.form.setFormItemsDisabled("memberForm",{pk_entityorg:!0}),o.props.form.setFormStatus("orgForm","browse")),o.windowCloseListener("add")}}})}},{key:"onAddMember",value:function(){var e=this,t=this.props.treeTableManyCol.getAllValue(x),n=this.props.treeTableManyCol.getSelectedRow(x);if(t&&t.length>0&&(!n||n.length<1))(0,c.toast)({color:"warning",content:this.state.json["101001PPS-000006"]});else{var r="",o="";n&&n.length>0&&(r=n[0].rowId,o=n[0].values.pk_org.value),"add",this.props.form.setFormStatus("memberForm","edit"),this.props.form.EmptyAllFormValue("memberForm"),this.props.form.setFormStatus("orgForm","edit"),this.props.form.EmptyAllFormValue("orgForm");var a=this.props.syncTree.getSelectNode(_).id;(0,c.ajax)({url:re,data:{pk_system:a,pk_member:r,pk_membeorg:o},success:function(t){if(t.success){var n=t.data.memberForm.memberForm.rows[0].values.pk_prod.value;e.props.meta.getMeta().memberForm.items.map((function(t){"pk_fathermember"==t.attrcode&&(e.props.renderItem("form","memberForm","pk_fathermember",null),t.queryCondition=function(){return{pk_pps:n}})}));var r={memberForm:{rows:t.data.memberForm.memberForm.rows}};e.props.form.setAllFormValue(r);var o={orgForm:{rows:t.data.orgForm.orgForm.rows}};e.props.form.setAllFormValue(o),e.props.form.setFormItemsDisabled("memberForm",{pk_org:!0}),e.props.modal.show("memberModal",{title:"新增生产计划体系成员"},(function(){setTimeout((function(){e.props.form.setFormItemFocus("memberForm","pk_fathermember")}),1e3)})),e.windowCloseListener("add")}}})}}},{key:"onSaveMember",value:function(){var e=this,t=this.props.form.isCheckNow("memberForm"),n=this.props.form.isCheckNow("orgForm");if(t&&n){var r=this.props.form.getAllFormValue("orgForm");r.areacode="orgForm";var o={model:r,pageid:z.mainPageCode};this.props.validateToSave(o,(function(){e.memberSaveFun(r)}),{orgForm:"form"},"form")}}},{key:"memberSaveFun",value:function(e){var t={model:this.props.form.getAllFormValue("memberForm"),pageid:z.memberFomPageCode},n={model:e,pageid:z.orgFormPageCode},r=this;this.props.treeTableManyCol.getSelectedRow(x);(0,c.ajax)({url:ee,method:"post",data:{memberData:t,orgData:n},success:function(e){if(e.success){e.data.memberTreeTable.rows[0];var t=r.props.syncTree.getSelectNode(_);r.onSelectEve(t.id,null,!0),r.props.modal.close("memberModal"),(0,c.toast)({color:"success",title:r.state.json["101001PPS-000005"]}),r.windowCloseListener("browse")}else(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onImportClick",value:function(){var e=this.props.treeTableManyCol.getAllValue(x),t=this.props.treeTableManyCol.getSelectedRow(x);e&&e.length>0&&(!t||t.length<1)?(0,c.toast)({content:this.state.json["101001PPS-000006"],color:"warning"}):this.onImportDataLoad.call(this,!1)}},{key:"onShowDisableOrg",value:function(e){F=!F,this.onImportDataLoad.call(this,F)}},{key:"onImportDataLoad",value:function(e){var t=this,n=this.props.syncTree.getSelectNode(_).id;(0,c.ajax)({url:oe,method:"post",data:{pk_group:N,showDisable:e,pk_system:n,pk_orgtypes:B,pk_svid:L},success:function(e){e.success?(t.props.modal.show("importModalId"),t.orgTransfer.setRootTitle(M+"-"+A),e.data?t.orgTransfer.reset(e.data):t.orgTransfer.reset([]),t.orgTransfer.setMoveType(t.state.oprType)):(0,c.toast)({content:e.message,color:"warning"})},error:function(e){(0,c.toast)({content:e.message,color:"warning"})}})}},{key:"onImportSave",value:function(){var e=this.orgTransfer.getData();if(e&&e.length>0){var t=this.props.syncTree.getSelectNode(_).id,n=this,r="",o="",a=this.props.treeTableManyCol.getSelectedRow(x);a&&a.length>0&&(r=a[0].rowId,o=a[0].values.pk_org.value),(0,c.ajax)({url:ae,method:"post",data:{orgs:e,pk_system:t,pk_member:r,pk_membeorg:o},success:function(e){if(e.success){if(e.data){var t=n.props.treeTableManyCol.createNewData(e.data.memberTreeTable.rows);n.props.treeTableManyCol.emptyAllData(x),n.props.treeTableManyCol.initTreeTableData(x,t,"refpk")}else n.props.treeTableManyCol.emptyAllData(x);n.props.modal.close("importModalId")}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}else(0,c.toast)({content:this.state.json["101001PPS-000008"],color:"warning"})}},{key:"handleOprTypeChange",value:function(e){this.setState({oprType:e}),this.orgTransfer.setMoveType(e)}},{key:"createCfg",value:function(e,t){var n={value:this.state.refs[e]?this.state.refs[e].value:[],onChange:function(t){var n=Object.assign(this.state.refs[e],{value:t});this.setState(Object.assign(this.state.refs,n)),N!==n.value.refpk&&(N=n.value.refpk,this.onImportClick())}.bind(this)};return"BudgetOrgStruVersionGridRef"===e&&(n={value:this.state.refs[e]?this.state.refs[e].value:[],onChange:function(t){var n=Object.assign(this.state.refs[e],{value:t});this.setState(Object.assign(this.state.refs,n)),L!==n.value.refpk&&(L=n.value.refpk,n.value.refname,!0,this.onInitSysRefLoadMemberData(this.props.syncTree.getSelectNode(_).id,L))}.bind(this)}),"GroupDefaultTreeRef"===e&&(n={value:this.state.refs[e]?this.state.refs[e].value:[],onChange:function(t){var n=Object.assign(this.state.refs[e],{value:t});this.setState(Object.assign(this.state.refs,n)),N!==n.value.refpk&&(N=n.value.refpk,M=n.value.refname,this.onImportClick())}.bind(this)}),"OrgTypeGridRef"===e&&(n={value:this.state.refs[e]?this.state.refs[e].value:[],onChange:function(t){var n=Object.assign(this.state.refs[e],{value:t});this.setState(Object.assign(this.state.refs,n)),B!==n.value.refpk&&(B=n.value.refpk,A=n.value.refname,this.onImportClick())}.bind(this)}),this.state.refs[e]=n,Object.assign(n,t)}},{key:"handelBeforeMove",value:function(e,t,n){return"bl2r"!==n||(I=!0,this.checkBeforeMove(e),I)}},{key:"checkBeforeMove",value:function(e){var t=this;e.forEach((function(e,n){if(e.nodeData.isMember)return(0,c.toast)({color:"warning",content:e.refname+t.state.json["101001PPS-000009"]}),void(I=!1);e.children&&e.children.length>0&&t.checkBeforeMove(e.children)}))}},{key:"onCheckboxChange",value:function(e,t){switch(e){case"orgShowDisable":this.onShowDisableOrg.call(this,t);break;case"sysShowDisable":this.onCheckShowDisable.call(this,t)}}},{key:"getImportDialog",value:function(){var e,t,n=this;return s.default.createElement("div",{id:"org_transfer",className:"steps-content",style:{height:"450px"}},s.default.createElement(g,{style:{marginBottom:"5px"}},s.default.createElement(y,{md:4,xs:4,sm:4},(0,f.default)((b(e=this.createCfg("GroupDefaultTreeRef",{value:{fieldid:"groupdefaulttreeref",refpk:N,refname:M},disabled:!0,queryCondition:function(){return{}}.bind(this)})),e))),s.default.createElement(y,{md:4,xs:4,sm:4},(0,h.default)((b(t=this.createCfg("OrgTypeGridRef",{value:{fieldid:"orgtypegridref",refpk:B,refname:A},queryCondition:function(){return{GridRefActionExt:"nccloud.web.org.productionplanstru.action.ProductionPlanStruMemberImportSqlBuilder"}}.bind(this)})),t))),s.default.createElement(y,null,s.default.createElement(w,{id:"orgShowDisable",onChange:this.onCheckboxChange.bind(this,"orgShowDisable"),checked:F},this.state.json["101001PPS-000043"]))),s.default.createElement("div",{className:"tree-modal"},s.default.createElement(p.default,{ref:function(e){n.orgTransfer=e},showSearch:!0})),s.default.createElement(T.NCRadioGroup,{style:{width:"100%",textAlign:"center"},name:"oprType",selectedValue:this.state.oprType,onChange:this.handleOprTypeChange.bind(this)},s.default.createElement(T,{value:"0"},this.state.json["101001PPS-000032"]),s.default.createElement(T,{value:"1"},this.state.json["101001PPS-000033"]),s.default.createElement(T,{value:"2"},this.state.json["101001PPS-000034"]),s.default.createElement(T,{value:"3"},this.state.json["101001PPS-000035"])))}},{key:"onSortClick",value:function(){var e=this,t=this.props.syncTree.getSelectNode(_).id;(0,c.ajax)({url:ie,method:"post",data:{pk_system:t},success:function(t){if(t.success){if(t.data){var n=e.dealTreeData(t.data);e.setSyncTreeData("memberSortTree",n)}else e.setSyncTreeData("memberSortTree",[]);e.props.modal.show("memberSortModal")}else(0,c.toast)({color:"danger",title:t.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}},{key:"onMouseEnterSortTreeEve",value:function(e){this.props.syncTree.hideIcon("memberSortTree",e,{delIcon:!1,editIcon:!1,addIcon:!1})}},{key:"setOrder",value:function(e){var t=this,n=this.props.syncTree.getSelectNode("memberSortTree");if(n){var r=n.id;(0,c.ajax)({url:se,method:"post",data:{pk_member:r,orderType:e},success:function(e){if(e.success){var r=t.dealTreeData(e.data);t.setSyncTreeData("memberSortTree",r),t.props.modal.show("memberSortModal"),t.props.syncTree.setNodeSelected("memberSortTree",n.id),V=!0;var o=t.props.syncTree.getSelectNode(_);t.onSelectEve(o.id,null,!0,(function(){t.props.treeTableManyCol.openRow(x,e.data[0].refpk)}))}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})}else(0,c.toast)({color:"warning",content:this.state.json["101001PPS-000010"]})}},{key:"onClickButton",value:function(e,t){var n=this;switch(t){case"Add":this.onAdd();break;case"BatchAdd":this.onBatchAdd();break;case"Copy":this.onCopy();break;case"Enable":(0,c.promptBox)({color:"warning",title:this.state.json["101001PPS-000011"],content:this.state.json["101001PPS-000012"],beSureBtnClick:function(){n.onEnable()}});break;case"Disable":(0,c.promptBox)({color:"warning",title:this.state.json["101001PPS-000011"],content:this.state.json["101001PPS-000013"],beSureBtnClick:function(){n.onDisable()}});break;case"Import":this.onImportClick();break;case"AddVirtual":this.onAddMember();break;case"SortManage":this.onSortClick();break;case"Print":var r=this.props.syncTree.getSyncTreeValue(_),o=[];r.forEach((function(e,t){o.push(e.id)})),(0,c.print)("pdf",le,{funcode:q.appCode,nodekey:"10100PROPS",oids:o});break;case"Output":var a=this.props.syncTree.getSyncTreeValue(_),i=[];a.forEach((function(e,t){i.push(e.id)})),this.setState({pks:i},this.printOutput.open());break;case"Refresh":this.loadLeftTreeData.call(this,R,!0)}}},{key:"onStepButtonClick",value:function(e,t){var n=this,r=this;switch(t){case"Prev":var o=this.state.currentStep-1;o<0&&(o=0),this.setState({currentStep:o},(function(){0===o&&(r.orgTransfer.reset(n.state.allTreeData),r.orgTransfer.setRootTitle(n.state.json["101001PPS-000053"]),r.state.rightTreeData.forEach((function(e){r.orgTransfer.state.treeWapper.moveRight(e.key)}))),1===o&&(r.props.editTable.setTableData(U,r.state.stepListData),r.props.editTable.setStatus(U,"browse")),n.updatestepModalButtonStatus(o)}));break;case"Next":(o=this.state.currentStep+1)>2&&(o=2);var a=this.state.currentStep;if(0===a){var i=this.orgTransfer.getData();if(!(i&&i.length>0)){(0,c.toast)({color:"warning",content:this.state.json["10100CRECR-000023"]});break}this.setState({currentStep:o}),this.state.rightTreeData=i,(0,c.ajax)({url:ue,data:{orgs:i,from:"list"},success:function(e){var t=e.success;e.data;t&&(r.props.editTable.setTableData(U,e.data[U]),r.setState({stepListData:e.data[U]}))}})}else if(1===a){var s=this.props.editTable.getCheckedRows(U);if(!s||0===s.length){(0,c.toast)({content:this.state.json["101001PPS-000054"],color:"warning"});break}this.setState({currentStep:o});var l=[];s.forEach((function(e){l.push(e.data)})),setTimeout((function(){r.props.editTable.setTableData("stepListTable",{rows:l}),r.props.editTable.setStatus("stepListTable","edit")}),10)}this.updatestepModalButtonStatus(o);break;case"Finish":if(1===this.state.currentStep){var u=this.props.editTable.getCheckedRows(U);if(!u||0===u.length){(0,c.toast)({content:this.state.json["101001PPS-000054"],color:"warning"});break}var d=[];u.forEach((function(e){d.push(e.data)}));var p={pageid:z.mainPageCode,model:{areacode:U,areaType:"table",pageinfo:null,rows:d}};(0,c.ajax)({url:de,data:p,success:function(e){var t=e.success;e.data;t&&((0,c.toast)({title:n.state.json["101001PPS-000055"],color:"success"}),r.props.modal.close("stepModal"),n.loadLeftTreeData.call(n,R,!0,!1))}})}else if(2===this.state.currentStep){var f=this.props.editTable.getCheckedRows("stepListTable");if(console.log(f),!f||0===f.length){(0,c.toast)({content:this.state.json["1101001PPS-000054"],color:"warning"});break}var h=[];f.forEach((function(e){h.push(e.data)}));var m={pageid:z.mainPageCode,model:{areacode:U,areaType:"table",pageinfo:null,rows:h}};(0,c.ajax)({url:de,data:m,success:function(e){var t=e.success;e.data;t&&((0,c.toast)({title:n.state.json["101001PPS-000055"],color:"success"}),r.props.modal.close("stepModal"),n.loadLeftTreeData.call(n,R,!0,!1))}})}break;case"FinishRE":var b=this.props.editTable.getCheckedRows("stepListTable");if(console.log(b),!b||0===b.length){(0,c.toast)({content:this.state.json["101001PPS-000054"],color:"warning"});break}var y=[];b.forEach((function(e){y.push(e.data)}));var g={pageid:z.mainPageCode,model:{areacode:U,areaType:"table",pageinfo:null,rows:y}};(0,c.ajax)({url:de,data:g,success:function(e){var t=e.success;e.data;t&&((0,c.toast)({title:n.state.json["101001PPS-000055"],color:"success"}),r.onBatchAdd(),n.loadLeftTreeData.call(n,R,!0,!1))}});break;case"CancelStep":this.props.modal.close("stepModal")}}},{key:"getSteps",value:function(){this.props.button.createButtonApp;var e=[{title:this.state.json["101001PPS-000046"],content:this.getFirstContent},{title:this.state.json["101001PPS-000047"],content:this.getSecondContent},{title:this.state.json["101001PPS-000048"],content:this.getLastContent}];return s.default.createElement("div",null,s.default.createElement(C,{current:this.state.currentStep,style:{marginBottom:"10px"}},e.map((function(e){return s.default.createElement(P,{key:e.title,title:e.title})}))),e[this.state.currentStep].content(),0===this.state.currentStep&&s.default.createElement("div",{className:"steps-radio",style:{display:"flex",width:"100%",justifyContent:"center"}},s.default.createElement(T.NCRadioGroup,{name:"oprType",selectedValue:this.state.oprType,onChange:this.handleOprTypeChange.bind(this)},s.default.createElement(T,{value:"0"},this.state.json["101001PPS-000049"]),s.default.createElement(T,{value:"1"},this.state.json["101001PPS-000050"]),s.default.createElement(T,{value:"2"},this.state.json["101001PPS-000051"]),s.default.createElement(T,{value:"3"},this.state.json["101001PPS-000052"]))))}},{key:"onSearch",value:function(e){this.setState({searchValue:e}),this.props.treeTableManyCol.searchTreeTable({moduleId:"memberTreeTable",searchValue:e,filters:["code","name"],expanded:!0,defaultExpandAllRows:!1})}},{key:"render",value:function(){var e=this,t=this.props.BillHeadInfo.createBillHeadInfo,n=this.props,r=n.button,o=n.syncTree,a=n.modal,i=n.DragWidthCom,l=n.treeTable,c=n.treeTableManyCol,u=n.editTable,d=(r.createButton,r.createButtonApp),p=(l.createTreeTable,u.createEditTable,c.treeTableCol),f=o.createSyncTree,h=a.createModal;return s.default.createElement("div",{className:"nc-bill-tree-table"},h("warning",{title:this.state.json["101001PPS-000014"],content:this.state.json["101001PPS-000015"]}),this.state.json["101001PPS-000000"]&&h("sysModal",{title:this.state.json["101001PPS-000000"],content:this.props.form.createForm(j),userControl:!0,beSureBtnClick:this.onSaveSys.bind(this),closeModalEve:function(){e.windowCloseListener("browse")},cancelBtnClick:function(){e.props.modal.close("sysModal"),e.toggleShow(),e.windowCloseListener("browse")}}),this.state.json["101001PPS-000018"]&&h("sysDelete",{title:this.state.json["101001PPS-000018"],content:this.state.json["101001PPS-000019"],userControl:!0,beSureBtnClick:this.onDeleteSys.bind(this),cancelBtnClick:function(){e.props.modal.close("sysDelete")}}),this.state.json["101001PPS-000046"]&&h("stepModal",{title:this.state.json["101001PPS-000046"],content:this.getSteps.bind(this)(),noFooter:!1,className:"batch-add",showCustomBtns:!0,customBtns:s.default.createElement("div",null,d({area:"modal_area",onButtonClick:this.onStepButtonClick.bind(this),popContainer:document.querySelector(".steps-action")}))}),this.state.json["101001PPS-000020"]&&h("memberModal",{title:this.state.json["101001PPS-000020"],content:function(){return s.default.createElement("div",null,s.default.createElement("div",null,this.props.form.createForm("memberForm"),this.state.json["101001PPS-000036"],":",this.props.form.createForm("orgForm")))}.bind(this)(),userControl:!0,beSureBtnClick:this.onSaveMember.bind(this),closeModalEve:function(){e.windowCloseListener("browse")},cancelBtnClick:function(){e.props.modal.close("memberModal"),e.windowCloseListener("browse")}}),this.state.json["101001PPS-000021"]&&h("importModalId",{title:this.state.json["101001PPS-000021"],content:this.getImportDialog.bind(this)(),userControl:!0,beSureBtnClick:this.onImportSave.bind(this),closeModalEve:function(){e.windowCloseListener("browse")},cancelBtnClick:function(){e.props.modal.close("importModalId"),e.windowCloseListener("browse")}}),this.state.json["101001PPS-000022"]&&h("memberSortModal",{title:this.state.json["101001PPS-000022"],resizable:!0,content:function(){return s.default.createElement("div",{class:"ncc-hr-contain"},s.default.createElement("div",{class:"ncc-hr-left-tree nc-theme-gray-area-bgc"},s.default.createElement("div",{class:"ncc-hr-padding"},f({treeId:"memberSortTree",showLine:!0,needSearch:!1,defaultExpandAll:!0,onMouseEnterEve:this.onMouseEnterSortTreeEve.bind(this),showModal:!1}))),s.default.createElement("div",{class:"ncc-hr-right-operate nc-theme-gray-area-bgc"},s.default.createElement("div",{class:"ncc-hr-padding"},s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"5px"}},s.default.createElement(E,{fieldid:"proplanuptop",onClick:this.setOrder.bind(this,"upTop")},this.state.json["101001PPS-000037"])),s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"5px"}},s.default.createElement(E,{fieldid:"proplanupone",onClick:this.setOrder.bind(this,"upOne")},this.state.json["101001PPS-000038"])),s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"5px"}},s.default.createElement(E,{fieldid:"proplandownone",onClick:this.setOrder.bind(this,"downOne")},this.state.json["101001PPS-000039"])),s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"5px"}},s.default.createElement(E,{fieldid:"proplanudoenbottom",onClick:this.setOrder.bind(this,"downBottom")},this.state.json["101001PPS-000040"])),s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"5px"}},s.default.createElement(E,{fieldid:"proplanupgrade",onClick:this.setOrder.bind(this,"upgrade")},this.state.json["101001PPS-000041"])),s.default.createElement("div",{className:"opr-botton",style:{marginBottom:"10px"}},s.default.createElement(E,{fieldid:"proplandegrade",onClick:this.setOrder.bind(this,"degrade")},this.state.json["101001PPS-000042"])))))}.bind(this)(),userControl:!0,hasCloseBtn:!0,noFooter:!0,cancelBtnClick:function(){if(e.props.modal.close("memberSortModal"),V){var t=e.props.syncTree.getSelectNode(_).id;e.onSelectEve(t,null,!0)}}}),s.default.createElement(k,{areaCode:k.config.HEADER,className:"header"},t({title:this.state.json["101001PPS-000000"],initShowBackBtn:!1}),s.default.createElement("span",{className:"showOff"},s.default.createElement(w,{id:"sysShowDisable",onChange:this.onCheckboxChange.bind(this,"sysShowDisable"),checked:R},this.state.json["101001PPS-000043"])),s.default.createElement("div",{className:"btn-group"},d({area:"list_head",buttonLimit:5,onButtonClick:this.onClickButton.bind(this),popContainer:document.querySelector(".list_head")}))),s.default.createElement("div",{className:"tree-table"},s.default.createElement(i,{leftDom:s.default.createElement("div",{className:"tree-area"},f({treeId:_,showLine:!0,searchType:"filtration",clickEditIconEve:this.onEditSys.bind(this),clickDelIconEve:this.onDeleteSysEve.bind(this),clickAddIconEve:this.onAdd.bind(this),onSelectEve:this.onSelectEve.bind(this),defaultExpandAll:!0,onMouseEnterEve:this.onMouseEnterEve.bind(this),showModal:!1})),rightDom:s.default.createElement("div",{className:"treeTableCol"},s.default.createElement(g,{style:{marginBottom:10,marginTop:10,marginLeft:10}},s.default.createElement(y,{md:2,xs:2,sm:2},s.default.createElement(k,{areaCode:k.config.SEARCH},s.default.createElement(v,{fieldid:"search",placeholder:this.state.json["101001PPS-000059"],value:this.state.searchValue,onChange:this.onSearch.bind(this),type:"search"})))),p(x,{expandEve:this.expandEve.bind(this),collapandEve:this.collapandEve.bind(this),async:!1,defaultExpandAll:!0,showCheckBox:!0,checkedType:"radio"})),defLeftWid:"280px"})),s.default.createElement(S,{ref:function(t){e.printOutput=t},url:le,data:{funcode:q.appCode,nodekey:"10100PROPS",oids:this.state.pks,outputType:"output"}}))}}]),t}(i.Component),o=function(){var e=this;this.expandTreeNode=function(){e.state.expandKeys&&e.state.expandKeys.length>0&&e.state.expandKeys.forEach((function(t){setTimeout(e.props.treeTableManyCol.openRow(x,t))}))},this.openSysModal=function(t,n){e.props.form.setFormStatus(j,"edit"),e.props.form.EmptyAllFormValue(j);var r=e;(0,c.ajax)({url:Q,method:"post",data:{pk_system:t,nodeType:r.props.nodeType,queryType:D,templateCode:K},success:function(e){if(e.success){var t={sysForm:{rows:e.data.sysForm.rows}};r.props.form.setAllFormValue(t),r.props.modal.show("sysModal",{title:n},(function(){setTimeout((function(){r.props.form.setFormItemFocus(j,"code")}),1e3)})),r.windowCloseListener("add")}else(0,c.toast)({color:"danger",title:e.message})},error:function(e){(0,c.toast)({color:"danger",title:e.message})}})},this.convertToTable=function(t,n){t.forEach((function(t,r){n.push(t),t.children&&t.children.length>0&&e.convertToTable(t.children,n)}))},this.getFirstContent=function(){return s.default.createElement("div",{id:"org_transfer",className:"first-steps-content",style:{height:300}},s.default.createElement(p.default,{ref:function(t){e.orgTransfer=t},showSearch:!0}))},this.getSecondContent=function(){return s.default.createElement("div",{id:"steps-second-content",className:"steps-content"},s.default.createElement("div",null),e.props.editTable.createEditTable(U,{useFixedHeader:!0,showIndex:!0,showCheck:!0,adaptionHeight:!0}))},this.convertToTable=function(t,n){t.forEach((function(t,r){n.push(t),t.children&&t.children.length>0&&e.convertToTable(t.children,n)}))},this.getLastContent=function(){return s.default.createElement("div",{id:"steps-last-content",className:"steps-content"},e.props.editTable.createEditTable("stepListTable",{useFixedHeader:!0,showIndex:!0,adaptionHeight:!0}))},this.updatestepModalButtonStatus=function(t){0===t?(e.props.button.setDisabled({Prev:!0,Next:!1,Finish:!0,CancelStep:!1,FinishRE:!0}),e.props.button.setButtonsVisible({Prev:!0,Next:!0,Finish:!0,CancelStep:!0,FinishRE:!1})):1===t?(e.props.button.setDisabled({Prev:!1,Next:!1,Finish:!1,CancelStep:!1,FinishRE:!0}),e.props.button.setButtonsVisible({Prev:!0,Next:!0,Finish:!0,CancelStep:!0,FinishRE:!1})):(e.props.button.setDisabled({Prev:!1,Next:!0,Finish:!1,CancelStep:!1,FinishRE:!1}),e.props.button.setButtonsVisible({Prev:!0,Next:!1,Finish:!0,CancelStep:!0,FinishRE:!0}))},this.initTemplate=function(t){(0,d.default)(t)({pagecode:z.mainPageCode},{moduleId:"10100PROPS",domainName:"uapbd"},(function(n,r){if(r&&(e.state.json=r,A=e.state.json["101001PPS-000056"]),n){var o=n.template;K=o.code,o=e.modifierMeta(t,o),t.meta.setMeta(o),n.button&&(t.button.setButtons(n.button),t.button.setPopContent("Delline",e.state.json["101001PPS-000029"]))}}))},this.modifierMeta=function(t,n){return n.memberForm.items.map((function(e){"pk_fathermember"==e.attrcode&&(e.refcode="uapbd/refer/org/ProductionPlanStruMemberTreeRef/index.js")})),n.memberTreeTable.items.push({attrcode:"opr",label:e.state.json["101001PPS-000030"],itemtype:"customer",className:"table-opr",width:200,fixed:"right",visible:!0,render:function(n,r,o){return t.button.createOprationButton(G,{area:"list_inner",buttonLimit:3,onButtonClick:function(t,a){return e.tableButtonClick.call(e,t,a,n,r,o)}})}}),n},this.tableButtonClick=function(t,n,r,o,a){var i=o.values.pk_prodmember.value;switch(n){case"Editline":"edit",(0,c.ajax)({url:te,data:{pk_member:i},success:function(n){if(n.success){var r=n.data.memberForm.memberForm.rows[0].values.pk_prod.value;t.meta.getMeta().memberForm.items.map((function(e){"pk_fathermember"==e.attrcode&&(t.renderItem("form","memberForm","pk_fathermember",null),e.queryCondition=function(){return{pk_pps:r}})})),t.form.setFormStatus("memberForm","edit"),t.form.EmptyAllFormValue("memberForm"),t.form.EmptyAllFormValue("orgForm");var o={memberForm:{rows:n.data.memberForm.memberForm.rows}};t.form.setAllFormValue(o);var a={orgForm:{rows:n.data.orgForm.orgForm.rows}};t.form.setAllFormValue(a),n.data.ismanageorg?t.form.setFormStatus("orgForm","edit"):(t.form.setFormItemsDisabled("memberForm",{pk_entityorg:!0}),t.form.setFormStatus("orgForm","browse")),t.modal.show("memberModal",{title:e.state.json["101001PPS-000063"]},(function(){setTimeout((function(){t.form.setFormItemFocus("memberForm","pk_fathermember")}),1e3)})),window.onbeforeunload=function(){return""}}}});break;case"Delline":(0,c.ajax)({url:ne,data:{pk_member:i,ts:o.values.ts.value},success:function(n){n.success&&((0,c.toast)({color:"success",title:e.state.json["101001PPS-000003"]}),t.treeTableManyCol.delRowByPk(x,o))}})}}},r),fe=(0,c.createPage)({initTemplate:function(){},billinfo:[{billtype:"form",pagecode:"10100PROPS_productionplanstru",headcode:"sysForm"},{billtype:"form",pagecode:"10100PROPS_productionplanstru",headcode:"orgForm"},{billtype:"grid",pagecode:z,bodycode:"stepListTable"},{billtype:"grid",pagecode:z,bodycode:"editListTable"}]})(pe);l.default.render(s.default.createElement(fe,q),document.querySelector("#app"))},666:function(e,t,n){var r=n(667);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(7)(r,o);r.locals&&(e.exports=r.locals)},667:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".version-head {\n  margin-bottom: 13px;\n}\n.tree-table {\n  top: 60px;\n}\n.ncc-hr-contain {\n  width: 100%;\n  height: 100%;\n  border: 1px solid #e9e9e9;\n}\n.ncc-hr-left-tree {\n  width: 75%;\n  float: left;\n  height: 450px;\n  overflow: auto;\n  background-color: #fff;\n}\n.ncc-hr-right-operate {\n  width: 24%;\n  height: 99%;\n  float: right;\n  background-color: #fff;\n  border-left: 1px solid #e9e9e9;\n}\n.ncc-hr-sperator {\n  width: 1px;\n  height: 100%;\n  float: left;\n  background-color: #e9e9e9;\n  border: 2px solid #e9e9e9;\n}\n.ncc-hr-padding {\n  padding: 20px 20px 20px 20px;\n}\n.batch-add .left-area,\n.batch-add .right-area,\n.batch-add .button-area {\n  height: 300px!important;\n}\n.batch-add .steps-radio {\n  text-align: right;\n  padding: 10px 0;\n}\n.batch-add .steps-action {\n  text-align: right;\n  padding: 10px 0;\n}\n.first-steps-content {\n  height: 400px;\n  min-height: 200px;\n}\n.u-steps .u-steps-item {\n  width: 200px;\n}\n",""])},7:function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),l=null,c=0,u=[],d=n(153);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(g(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(g(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),h(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=c++;n=l||(l=b(t)),r=w.bind(null,n,i,!1),o=w.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),h(e,t),t}(t),r=P.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=T.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&p(f(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var v,S=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=S(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function T(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function P(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}}})}));
//# sourceMappingURL=index.52518d9d.js.map